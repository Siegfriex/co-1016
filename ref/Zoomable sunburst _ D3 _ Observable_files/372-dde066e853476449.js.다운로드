!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fd216545-2405-405a-9b93-3d46b39fcaaf",e._sentryDebugIdIdentifier="sentry-dbid-fd216545-2405-405a-9b93-3d46b39fcaaf")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{91188:function(e,t,l){l.d(t,{Fl:function(){return b},b3:function(){return y},fI:function(){return M},od:function(){return C}});var s=l(85893),i=l(40645),n=l.n(i),r=l(94184),a=l.n(r),o=l(67294),c=l(88177),d=l(67374),h=l(21596),u=l(22790),x=l(67125),m=l(36779),p=l(28566),f=l(13370),v=l(3266),g=l(34978),j=l(91529);let y=e=>{let{collection:t,format:l,index:i,parentCollection:n,reorder:r}=e,a=null==n?void 0:n.ordered,c=n&&void 0!==i&&n.ordered?i+1:void 0,d=(0,o.useRef)(null);(0,v.z)({index:i,ref:d,dataSelector:"collection-order",onDrop:r,disabled:!a});let h=a?(0,s.jsx)("button",{"aria-label":"Drag to reorder",className:"pv2 pr2 moon-gray hover-dark-gray bg-transparent bn tooltipped tooltipped-e",ref:d,style:{cursor:"grab",lineHeight:0},children:(0,s.jsx)(u.Z,{style:{width:14}})}):null;return(0,s.jsx)(w,{collection:t,format:l,url:(0,g.WG)(t),order:c,hamburger:h,showAccess:!0,showMenu:!0})},b=e=>{let{collection:t,format:l,index:i,parentCollection:n}=e,r=n&&void 0!==i&&n.ordered?i+1:void 0;return(0,s.jsx)(w,{collection:t,format:l,url:(0,g.WG)(t),order:r,showMenu:!1})},w=e=>{let{collection:t,format:l="list",url:i,order:n,hamburger:r,showMenu:o,showAccess:d=!1}=e,{title:h,description:u,listing_count:x,thumbnail:p}=t;return(0,s.jsxs)("div",{"data-cy":"collection-listing",className:a()("grid"===l?"pt2":"pv2 flex items-center"),children:[r,void 0!==n&&(0,s.jsxs)("div",{className:"mr2 f6 fw6",children:[n,"."]}),(0,s.jsx)(m.Z,{href:i,className:"no-underline",children:(0,s.jsx)(k,{thumbnail:p,format:l})}),(0,s.jsxs)("div",{className:"grid"===l?"pt2":"ml3 flex-auto",children:["grid"===l&&d&&(0,s.jsx)("div",{className:"mb1 f7 fw5 gray",children:(0,s.jsx)(C,{collection:t})}),(0,s.jsxs)("div",{className:"flex f6 fw6 justify-between lh-f6",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(m.Z,{href:i,className:"no-underline near-black hover-blue",children:[h,(0,s.jsxs)("span",{className:"fw5 gray",children:[" (",x,")"]})]})}),"grid"===l&&o&&(0,s.jsx)(c.W,{collection:t,inList:!0})]}),(0,s.jsxs)("div",{className:"flex pr3 f7 fw5 mid-gray lh-title items-center truncate truncate-two-lines break-word",title:u,children:["list"===l&&d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"gray",children:(0,s.jsx)(C,{collection:t})}),u?(0,s.jsx)("span",{className:"ph1 light-gray",children:"•"}):null]}),u||null]})]}),"list"===l&&o&&(0,s.jsx)(c.W,{collection:t,inList:!0})]})},N={className:"mr1 moon-gray",height:13,width:13},C=e=>{let{collection:t,title:l,className:i,size:n}=e;return(0,s.jsxs)("span",{className:a()("inline-flex items-center",i),title:l,children:["private"===t.type?(0,s.jsx)(x.Z,{...N,...n}):(0,s.jsx)(h.Z,{...N,...n}),(0,g.iM)(t)]})},k=e=>{let{thumbnail:t,format:l}=e,i="grid"===l?10:8,r="calc(100% - ".concat(i,"px)"),a=(0,f.GS)(f.ro);return(0,s.jsxs)("div",{style:"grid"===l?{paddingTop:"62.5%"}:{width:a?72:108,height:66},className:"jsx-84d72bb4b9015d25 relative collection-thumbnail",children:[(0,s.jsx)("div",{style:{top:i,left:i,width:r,height:r},className:"jsx-84d72bb4b9015d25 absolute bg-white ba b--silver br2"}),(0,s.jsx)("div",{style:{top:i/2,left:i/2,width:r,height:r},className:"jsx-84d72bb4b9015d25 absolute bg-white ba b--silver br2"}),(0,s.jsx)(p.p,{className:"absolute top-0 left-0 ba b--silver br2 overflow-hidden",style:{width:r,height:r},hash:t}),(0,s.jsx)(n(),{id:"84d72bb4b9015d25",children:".collection-thumbnail.jsx-84d72bb4b9015d25:hover div.jsx-84d72bb4b9015d25{-webkit-box-shadow:0 4px 12px rgba(0,0,0,.06);-moz-box-shadow:0 4px 12px rgba(0,0,0,.06);box-shadow:0 4px 12px rgba(0,0,0,.06);-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px);border-color:var(--light-gray)}"})]})},M=e=>{let{collection:t}=e;return t.parent_collections.length<=0?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{className:"mr1 moon-gray",style:{flexShrink:0}}),(0,s.jsxs)("div",{className:"truncate",children:["Listed in"," ",(0,j.If)(t.parent_collections.map((e,t)=>(0,s.jsx)(m.Z,{href:(0,g.WG)(e),className:"no-underline dark-gray hover-blue",children:e.title},t)))]})]})}},88177:function(e,t,l){l.d(t,{W:function(){return u}});var s=l(85893),i=l(68059),n=l(68875),r=l(58643),a=l(55365),o=l(97542),c=l(88225),d=l(81027),h=l(62814);let u=(0,l(1555).$j)(null,e=>({dispatch:e}))(e=>{let{dispatch:t,collection:l,inList:u}=e,x="parent_collections"in l?l.parent_collections.length:l.parent_collection_count||0;return(0,s.jsxs)(h.v2,{children:[u?(0,s.jsx)(i.hU,{"data-cy":"collection-actions",className:"moon-gray hover-near-black",icon:a.Z,colorless:!0,asMenuButton:!0}):(0,s.jsx)(i.aX,{"data-cy":"edit-collection",text:"Edit",icon:r.Z,iconPosition:"right",colorless:!0,asMenuButton:!0}),(0,s.jsxs)(h.qy,{children:[(0,s.jsxs)(h.sN,{onSelect:()=>{t({type:"showModal",modal:"editCollection",modalProps:{collection:l}})},children:[(0,s.jsx)(o.Z,{className:"mr2"}),"Edit Collection"]}),(0,s.jsxs)(h.sN,{onSelect:()=>{t({type:"showModal",modal:"collections",modalProps:{collectionListing:l}})},children:[(0,s.jsx)(n.Z,{className:"mr2"}),x>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"nowrap",children:"In collections"}),(0,s.jsx)("span",{className:"ml2 f7 mid-gray bg-light-silver br2",style:{padding:"2px 4.5px"},children:x})]}):(0,s.jsx)("span",{className:"nowrap",children:"Add to collections"})]}),(0,s.jsxs)(h.sN,{onSelect:()=>{t({type:"showModal",modal:"setThumbnail",modalProps:{collection:l}})},children:[(0,s.jsx)(c.Z,{className:"mr2"})," Set thumbnail"]}),(0,s.jsxs)(h.sN,{onSelect:()=>{t({type:"showModal",modal:"deleteCollection",modalProps:{collection:l}})},className:"hover-dark-red hover-bg-washed-red",children:[(0,s.jsx)(d.Z,{className:"mr2"})," Delete"]})]})]})})},56435:function(e,t,l){l.d(t,{m:function(){return r}});var s=l(85893),i=l(67294),n=l(70026);let r=e=>{let{fullWidth:t=!1}=e,l=(0,i.useRef)(null);return(0,s.jsx)("footer",{ref:l,style:{zIndex:1,background:"linear-gradient(to bottom, rgba(255,255,255,0.0), white 2em)"},children:(0,s.jsx)(n.Z,{wrapClassName:t?"":void 0})})}},74146:function(e,t,l){l.d(t,{ev:function(){return _},lE:function(){return M}});var s=l(85893),i=l(94184),n=l.n(i),r=l(11163),a=l(67294),o=l(95939),c=l(25795),d=l(14162),h=l(45204);let u=e=>{let{userCanEdit:t}=e,{push:l,query:i}=(0,r.useRouter)(),{action:n}=i,o=(0,a.useCallback)(e=>{l((0,h.rh)({...i,action:e}))},[i,l]);return(0,s.jsxs)("div",{className:"self-center mr2 mr3-ns",children:[(0,s.jsx)("label",{className:"mr2 f7 fw6 gray lh-f7",htmlFor:"recentsAction",children:"Action"}),(0,s.jsxs)(d.g,{id:"recentsAction",value:null!=n?n:"viewed",onChange:e=>o(e.target.value),children:[(0,s.jsx)("option",{value:"viewed",children:"Viewed"}),(0,s.jsx)("option",{disabled:!t,value:"edited",children:"Edited"})]})]})};l(40645),l(24515),l(39652);var x=l(32063);l(36779);var m=l(88609);l(13370);var p=l(24953),f=l(52332),v=l(68098),g=l(68059),j=l(2669),y=l(61802),b=l(46294),w=l(70480),N=l(75406);let C={notebooks:"Notebooks",trash:"Trash",stars:"You starred",recents:"Your recents"};function k(e){let t=(0,h.TS)(e,"filter");return{tab:(0,h.TS)(e,"tab"),page:(0,h.TS)(e,"page"),filter:(0,h.nr)(S,t)?t:void 0,sort:(0,h.TS)(e,"sort","edited"),direction:(0,h.TS)(e,"direction","desc"),action:(0,h.TS)(e,"action","viewed")}}function M(e){return(0,s.jsx)("h2",{className:"ma0 fw7 near-black",style:m.r2,children:e})}let S={all:{label:"All",query:{types:null,share_level:null}},private:{label:"Only you",query:{types:"private",share_level:"private"}},guest:{label:"Shared with you",query:{types:null,share_level:"guest"}},shared:{label:"Shared",query:{types:"private",share_level:"shared"}},team:{label:"Team",query:{types:"private",share_level:"team"}},unlisted:{label:"Unlisted",query:{types:"live_unlisted,shared",share_level:null}},public:{label:"Public",query:{types:"live,public",share_level:null}}};function Z(e){return"team"===e.type&&("guest_member"===e.role||"guest_viewer"===e.role)}function V(e){return Z(e)?"guest":"all"}let _=e=>{var t;let{context:l,user:i,dispatch:M}=e,{push:_,query:H}=(0,r.useRouter)(),T=k(H),{tab:D,action:E}=T;function R(e){_((0,h.rh)({...T,...e,page:void 0}),void 0,{shallow:!0})}(0,a.useEffect)(()=>{"team"===l.type?(0,b.MR)((0,b.gv)({type:"team:view:notebookList",data:{},currentUser:i,team:l,eventVersion:1})):(0,b.MR)((0,b.a$)({type:"user:view:notebookList",data:{},currentUser:i,eventVersion:1}))},[l,i]);let{notebooks:L,isLoading:F,mutate:P}=(0,p.h)(function(e,t){let l=k(t),{tab:s,action:i,sort:n,direction:r}=l,a=(0,h.nr)(S,l.filter)?l.filter:V(e),o=l.page||1;if("stars"===s)return"/user/likes?".concat((0,w.P)({page:o,..."team"===e.type&&{team:e.id}}));let c="".concat("team"===e.type?"/team/".concat(e.id):"/user","/documents");if("trash"===s)return"".concat(c,"?").concat((0,w.P)({types:"trash",page:o}));let{share_level:d,types:u}=S[a].query;return"recents"===s?"".concat("edited"===i?e?"team"===e.type?"/team/".concat(e.id,"/continue-editing"):"/user/continue-editing":"/user/continue-editing?unified=true":(null==e?void 0:e.type)==="team"?"/team/".concat(e.id,"/recent-views"):"/user/recent-views","?").concat((0,w.P)({share_level:d,types:u,page:o})):"".concat(c,"?").concat((0,w.P)({share_level:d,types:u,page:o,sort:n,direction:r}))}(l,H));async function A(){document.activeElement instanceof HTMLElement&&document.activeElement.blur();try{await (0,y.Fv)("/user/trash/empty","team"===l.type?{team:l.id}:{}),M({type:"showSuccessToast",message:"Trash emptied"}),P()}catch(e){(0,N.S)({dispatch:M,message:"Unable to empty the trash. Try again?",key:"emptyTrash",error:e})}}let B="team"===l.type,I=Z(l)?["all","guest"]:B?["all","private","shared","team","unlisted","public"]:["all","private","shared","unlisted","public"],W=null!==(t=T.filter)&&void 0!==t?t:V(l);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:n()("flex justify-between items-center","stars"===D?"":"mb3"),children:[(0,s.jsx)("div",{className:n()("stars"===D?"tw-h-0":"tw-mb-sm navlg:tw-mb-0 tw-h-auto"),children:(0,s.jsx)(c.Z,{title:D&&C[D]})}),"notebooks"===D?(0,f.wW)(i,l)&&(0,s.jsx)(g.Ej,{"data-cy":"new-notebook",href:(0,v.ry)(l),onClick:function(e){e.metaKey||e.ctrlKey||(e.preventDefault(),M({type:"showModal",modal:"newNotebook",trigger:"click",source:"newNotebookTeamPage",modalProps:{presetTeam:l,presetCollectionId:null}}))},colorless:!0,text:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{className:"mr1"}),"New"]})}):"trash"===D&&(0,f.Db)(i,l)&&L&&L.total>0?(0,s.jsx)(g.aX,{onClick:A,className:"ph3 nowrap hover-red",text:"Empty trash"}):null]}),"trash"===D?(0,s.jsx)("div",{className:"mb3 f6 mid-gray",children:"Notebooks in the trash for more than 30 days will be automatically deleted."}):null,(0,s.jsx)(j.a,{isLoading:F,response:L||{results:[],page:1,per_page:1,total:0,truncated:!1},filters:"stars"===D||"trash"===D?null:()=>(0,s.jsxs)("div",{className:"flex flex-column flex-row-ns items-center-ns tw-min-h-[34px]",children:["recents"===D&&(0,s.jsx)(u,{userCanEdit:(0,v.i6)(i,l)}),(0,s.jsxs)("div",{className:"dib-ns db mt0-ns mt2",children:[(0,s.jsx)("label",{className:"mr2 f7 fw6 gray lh-f7",htmlFor:"selectAccess",children:"Access"}),(0,s.jsx)(d.g,{id:"selectAccess",onChange:e=>{R({filter:e.target.value})},value:W,children:I.map(e=>(0,s.jsx)("option",{value:e,children:S[e].label},e))})]})]}),sorts:"stars"===D||"trash"===D||"recents"===D?null:(0,s.jsx)(o.I,{sort:T.sort,direction:T.direction,setQuery:R}),items:"trash"===D?"trashed notebooks":D,emptyMessage:F?"Loading…":"notebooks"===D?"☝️ No notebooks found.":"trash"===D?"✨ Your trash is empty.":"stars"===D?"⭐ You haven’t starred any notebooks".concat("team"===l.type?" in this workspace":""," yet."):"recents"===D?"\uD83D\uDCCA Nothing here (yet).":null,children:(e,t)=>(0,s.jsx)(m.pg,{type:"stars"===D&&"individual"===l.type?"reader":void 0,format:t,notebook:e,currentUser:i,filterAction:"recents"===D?E:void 0})})]})}},30372:function(e,t,l){l.d(t,{Yv:function(){return ex},Tg:function(){return ef},sh:function(){return ed},z1:function(){return eu},Pv:function(){return ec},nL:function(){return eh},Ht:function(){return ep},H4:function(){return em}});var s=l(85893),i=l(40645),n=l.n(i),r=l(94184),a=l.n(r),o=l(9008),c=l.n(o),d=l(11163),h=l(67294),u=l(36779),x=l(88609),m=l(14523),p=l(15801),f=l(96612),v=l(25795),g=l(26243),j=l(63650),y=l(24515),b=l(14162);let w=e=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("rect",{x:"1",width:"14",height:"16",rx:"2",fill:"#DAE4FF"}),(0,s.jsx)("rect",{x:"4",y:"3",width:"7",height:"2",rx:"1",fill:"#4269D0"}),(0,s.jsx)("rect",{x:"4",y:"7",width:"3",height:"2",rx:"1",fill:"#4269D0"}),(0,s.jsx)("rect",{x:"4",y:"11",width:"2",height:"2",rx:"1",fill:"#4269D0"}),(0,s.jsx)("path",{d:"M15.2929 6.29289L13.7071 4.70711C13.3166 4.31658 12.6834 4.31658 12.2929 4.70711L7.29289 9.70711C7.10536 9.89464 7 10.149 7 10.4142V12C7 12.5523 7.44772 13 8 13H9.58579C9.851 13 10.1054 12.8946 10.2929 12.7071L15.2929 7.70711C15.6834 7.31658 15.6834 6.68342 15.2929 6.29289Z",fill:"#4269D0"})]});var N=l(28566),C=l(91042),k=l(61802),M=l(13370),S=l(15784),Z=l(70480),V=l(68098);function _(e){return[e.id,e]}function H(e){return e.flatMap((e,t,l)=>{let{length:s}=l;return 0===t?[e]:[t+1<s?", ":" and ",e]})}function T(e){switch(e.type){case"project:create":case"create":return"created";case"edit":return"edited";case"publish":return e.public?e.first_public?"published":"republished":e.first_publish?"shared":"reshared";case"project:deploy":return"deployed";case"comment":return"commented";case"fork":return"forked";case"merge":return"merged";case"like":return"starred";case"trash":return"put in the trash"}}let D={create:e=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("rect",{x:"1",width:"14",height:"16",rx:"2",fill:"#C5E4D6"}),(0,s.jsx)("rect",{x:"4",y:"3",width:"8",height:"2",rx:"1",fill:"#38A070"}),(0,s.jsx)("rect",{x:"4",y:"7",width:"8",height:"2",rx:"1",fill:"#38A070"}),(0,s.jsx)("rect",{x:"4",y:"11",width:"5",height:"2",rx:"1",fill:"#38A070"})]}),fork:e=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("rect",{x:"1",width:"14",height:"16",rx:"2",fill:"#F6EDCC"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.84375 11.5796C3.84375 10.5644 4.66022 9.73013 5.68125 9.73013C6.70228 9.73013 7.51875 10.5644 7.51875 11.5796C7.51875 12.5947 6.70228 13.429 5.68125 13.429C4.66022 13.429 3.84375 12.5947 3.84375 11.5796Z",fill:"#EBC855"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.35632 4.81818C9.35632 3.803 10.1728 2.96875 11.1938 2.96875C12.2148 2.96875 13.0313 3.803 13.0313 4.81818C13.0313 5.83336 12.2148 6.66761 11.1938 6.66761C10.1728 6.66761 9.35632 5.83336 9.35632 4.81818Z",fill:"#EBC855"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.84375 4.81818C3.84375 3.803 4.66022 2.96875 5.68125 2.96875C6.70228 2.96875 7.51875 3.803 7.51875 4.81818C7.51875 5.83336 6.70228 6.66761 5.68125 6.66761C4.66022 6.66761 3.84375 5.83336 3.84375 4.81818Z",fill:"#EBC855"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.41367 7.34373C9.36919 7.34373 10.1438 6.56913 10.1438 5.61362H11.4563C11.4563 7.29401 10.0941 8.65623 8.41367 8.65623H5.28754V7.34373H8.41367Z",fill:"#EBC855"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.02496 9.98863V6.40909H6.33746V9.98863H5.02496Z",fill:"#EBC855"})]}),comment:e=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("path",{d:"M13 2C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V11C15 11.5304 14.7893 12.0391 14.4142 12.4142C14.0391 12.7893 13.5304 13 13 13H12.425L11.22 14.251C11.1267 14.3481 11.0147 14.4253 10.8908 14.4781C10.7669 14.5309 10.6337 14.5581 10.499 14.5581C10.3643 14.5581 10.2311 14.5309 10.1072 14.4781C9.98327 14.4253 9.87131 14.3481 9.778 14.251L8.576 13H3C2.46957 13 1.96086 12.7893 1.58579 12.4142C1.21071 12.0391 1 11.5304 1 11V4C1 3.46957 1.21071 2.96086 1.58579 2.58579C1.96086 2.21071 2.46957 2 3 2H13Z",fill:"#F6EDCC",fillRule:"evenodd",clipRule:"evenodd"}),(0,s.jsx)("rect",{x:"3",y:"5",width:"10",height:"2",rx:"1",fill:"#EBC855"}),(0,s.jsx)("rect",{x:"3",y:"8",width:"8",height:"2",rx:"1",fill:"#EBC855"})]}),like:e=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("g",{clipPath:"url(#clip0_4126_49)",children:(0,s.jsx)("path",{d:"M7.08254 1.37658C7.43071 0.573728 8.56927 0.573726 8.91744 1.37658L10.4408 4.88936C10.5135 5.05695 10.6718 5.17156 10.8537 5.18832L14.6746 5.54023C15.5503 5.6209 15.903 6.71142 15.2402 7.28958L12.365 9.7979C12.2264 9.91879 12.1654 10.106 12.2061 10.2853L13.0494 14.0013C13.2435 14.8564 12.3216 15.5294 11.5663 15.0841L8.25395 13.1309C8.09725 13.0385 7.90273 13.0385 7.74603 13.1309L4.43366 15.0841C3.67841 15.5294 2.75648 14.8564 2.95054 14.0013L3.79391 10.2853C3.83461 10.106 3.77358 9.91879 3.635 9.7979L0.759735 7.28957C0.0969984 6.71142 0.449632 5.6209 1.32541 5.54024L5.14633 5.18832C5.32823 5.17156 5.48652 5.05695 5.5592 4.88936L7.08254 1.37658Z",fill:"#EBC855"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_4126_49",children:(0,s.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}),edit:w,trash:e=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("path",{d:"M4 6H12V13C12 13.5523 11.5523 14 11 14H5C4.44772 14 4 13.5523 4 13V6Z",stroke:"#4269D0",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M4 6H12V3C12 2.44772 11.5523 2 11 2H5C4.44772 2 4 2.44772 4 3V6Z",stroke:"#4269D0",strokeWidth:"2"}),(0,s.jsx)("rect",{x:"1.5",y:"5.5",width:"13",height:"1",rx:"0.5",stroke:"#4269D0"}),(0,s.jsx)("rect",{x:"8.5",y:"6.5",width:"7",height:"1",transform:"rotate(90 8.5 6.5)",stroke:"#4269D0"})]}),merge:w,publish:w,"project:create":e=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("path",{d:"M13 4H3L3 12H13V4ZM3 2C1.89543 2 1 2.89543 1 4V12C1 13.1046 1.89543 14 3 14H13C14.1046 14 15 13.1046 15 12V4C15 2.89543 14.1046 2 13 2H3Z",fill:"#2F9666",fillRule:"evenodd",clipRule:"evenodd"}),(0,s.jsx)("rect",{x:"3",y:"7",width:"10",height:"2",fill:"#2F9666"}),(0,s.jsx)("rect",{x:"9",y:"9",width:"2",height:"3",fill:"#2F9666"}),(0,s.jsx)("rect",{x:"5",y:"9",width:"2",height:"3",fill:"#2F9666"}),(0,s.jsx)("rect",{x:"1",y:"2",width:"14",height:"12",rx:"2",fill:"#C5E4D6"}),(0,s.jsx)("rect",{x:"3",y:"4",width:"10",height:"3",rx:"1",fill:"#38A070"}),(0,s.jsx)("rect",{x:"3",y:"9",width:"3",height:"3",rx:"1",fill:"#38A070"}),(0,s.jsx)("rect",{x:"7",y:"9",width:"2",height:"3",rx:"1",fill:"#38A070"}),(0,s.jsx)("rect",{x:"10",y:"9",width:"3",height:"3",rx:"1",fill:"#38A070"})]}),"project:deploy":e=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("rect",{x:"1",y:"2",width:"14",height:"12",rx:"2",fill:"#DAE4FF"}),(0,s.jsx)("path",{d:"M9 11L12 8L9 5",stroke:"#4269D0",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,s.jsx)("rect",{x:"3",y:"7",width:"8",height:"2",rx:"1",fill:"#4269D0"})]})},E=e=>{let{currentUser:t,actor:l,first:i}=e;return(0,s.jsx)(u.Z,{href:"team"===l.type?(0,V.i7)(l):(0,V.GN)(l),children:(0,V.v3)(t,l)?i?"You":"you":(0,V.RX)(l)})},R=e=>{let{index:t}=e;return(0,s.jsx)("div",{className:a()(0!==t&&"bt b--light-silver"),children:(0,s.jsxs)("div",{className:"flex pv2-ns pv3 f6 near-black items-center justify-between",children:[(0,s.jsx)("div",{className:"flex relative mr2 flex-no-shrink items-center",children:(0,s.jsx)("div",{className:"w1 h1 mh1 bg-light-gray br1"})}),(0,s.jsx)("div",{className:"flex flex-auto",children:(0,s.jsxs)("div",{className:"pr3-ns flex-auto",children:[(0,s.jsx)("div",{className:"mb1 f7 lh-solid",children:(0,s.jsx)("span",{className:"light-gray bg-light-gray",children:"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"})}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"f6 light-gray bg-light-gray",children:"~~~~~~~~~~~~~~~~~~"})})]})}),(0,s.jsx)("div",{className:"db-ns dn relative bg-near-white ba b--silver br2",style:{width:90,height:60,flexShrink:0}})]})})};function L(e){return"document"===e.entity_type}function F(e){return"project"===e.entity_type}let P=e=>{let{user:t,items:l,index:i}=e,n=(0,M.GS)(M.ro),r=l[0],o=(0,M.GS)("(max-width: 640px)"),c=l.length>1,d=Array.from(new Set(l.map(e=>e.user))).reverse().slice(0,n?5:20),h=d.length>1,m=D[r.type],p=F(r)?(0,V.oV)(r.entity.owner.login,r.entity.slug):"fork"===r.type?"".concat((0,S.Bi)(r.entity),"/forks"):(0,S.Bi)(r.entity);return(0,s.jsxs)("div",{className:a()("flex g3 items-center justify-between pv2-ns pv3",0===i?"":"bt b--light-silver"),children:[(0,s.jsxs)(u.Z,{href:p,className:"flex g3 items-center flex-none",children:[(0,s.jsx)(m,{}),(0,s.jsx)(N.p,{className:"dn db-ns flex-shrink-0 ba b--silver br2 hover-light-shadow overflow-hidden",style:{width:o?72:88,height:(o?72:88)/1.6},hash:L(r)?r.entity.thumbnail:null})]}),(0,s.jsxs)("div",{className:"flex-auto",children:[(0,s.jsxs)("div",{className:"f7 fw5 gray lh-f7",children:[(0,s.jsx)("div",{className:"dib v-top",children:F(r)?(0,s.jsx)(g.d3,{iconSize:"13",project:{accessLevel:r.entity.access_level,sharing:r.entity.sharing,authProvider:r.entity.auth_provider},isUnstyled:!0}):L(r)?(0,s.jsx)(x.vR,{notebook:r.entity}):null}),(0,s.jsx)("span",{className:"silver ph1",children:"•"}),function(e,t){var l,i;if(1===t.length&&"trash"===t[0].type)return["This notebook was ".concat(T(t[0]))];let n=new Map,r=new Map;for(let e of t.slice().reverse()){let{login:t}=e.user,s=T(e);r.has(t)?null===(l=r.get(t))||void 0===l||l.push(s):(n.set(t,e.user),r.set(t,[s]))}let a=new Map;for(let[e,t]of r){let l=t.join(":"),s=n.get(e);a.has(l)?null===(i=a.get(l))||void 0===i||i.actors.push(s):a.set(l,{actions:t,actors:[s]})}let o=[];for(let{actions:t,actors:l}of a.values())o.push(o.length?", ":"",...H(l.map((t,l)=>{let i=o.length+l;return(0,s.jsx)(E,{currentUser:e,actor:t,first:!i},i)}))," ",...H(t));return o}(t,l)," ",(0,s.jsx)(C.q,{time:new Date(r.time),precision:c?"day":null})]}),(0,s.jsxs)("div",{className:"flex mt1 items-center justify-between lh-f7",children:[(0,s.jsx)(u.Z,{href:p,className:"truncate f6 fw6 no-underline near-black hover-blue",children:r.entity.title||"Untitled"}),h?(0,s.jsx)("div",{className:"flex h1 mh2 flex-no-shrink items-center",children:d.map((e,t)=>(0,s.jsx)(j.qE,{user:e,size:20,link:!0,className:"relative b--white b--solid",style:{marginRight:-8,borderWidth:3,zIndex:d.length-t}},e.id))}):null]}),!c&&r.content&&(0,s.jsx)("div",{className:"truncate mt1 mr3 f7 fw5 gray",children:r.content})]})]})},A=e=>{let{user:t,context:l,itemsShown:i=20}=e,[n,r]=(0,h.useState)(!1),[a,o]=(0,h.useState)("team"===l.type?"team":"all"),[c,d]=(0,h.useState)("7"),{data:u,isValidating:x}=(0,k.h_)(function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"7",s=Intl.DateTimeFormat().resolvedOptions().timeZone;return"".concat("team"===e.type?"/team/".concat(e.id):"/user","/activity?").concat((0,Z.P)({type:t,days:l,timezone:s}))}(l,a,c)),m=(0,h.useMemo)(()=>void 0!==u?function(e,t){let{activity:l,documents:s,projects:i,users:n}=t,r=new Map(n.map(_)),a={document:new Map(s.map(e=>{let{publish_level:t,publish_time:l,user_id:s,...i}=e;return[i.id,{publishLevel:t,publishTime:l,owner:r.get(s),...i}]})),project:new Map(i.map(e=>[e.id,{owner:r.get(e.owner_id),...e}]))},o=new Map;for(let e of l){var c;let t=a[e.entity_type].get(e.entity_id),l=r.get(e.user_id);if(!t||!l)continue;let s={...e,user:l,entity:t};!function e(t,l,s){let i=l.shift();t.has(i)||t.set(i,l.length?new Map:[]),l.length?e(t.get(i),l,s):t.get(i).push(s)}(o,[+s.date,s.entity.id,"edit"===(c=s.type)||"publish"===c||"merge"===c?"edit":c],s)}let d=[];for(let e of o.values())for(let t of e.values())for(let e of t.values())d.push(e);return d.sort((e,t)=>+t[0].time-+e[0].time)}(0,u):[],[u,l]);(0,h.useEffect)(()=>{u&&r(!1)},[u]),(0,h.useEffect)(()=>{"individual"===l.type&&"team"===a&&o("all")},[l.type,a]);let p=n?m:m.slice(0,i);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mb3",children:(0,s.jsx)(v.Z,{title:"Activity"})}),(0,s.jsx)("div",{className:"pv2 tw-mb-md tw-border-0 tw-border-b tw-border-solid tw-border-border-primary",children:(0,s.jsx)(e=>{let{className:t,showLabels:i}=e;return(0,s.jsxs)("div",{className:t,children:[i&&(0,s.jsx)("label",{className:"mr2 f7 fw6 gray lh-f7",htmlFor:"type",children:"Type"}),(0,s.jsxs)(b.g,{"aria-label":"Activity types",id:"type",value:a,onChange:e=>o(e.target.value),className:"mr3",children:[(0,s.jsx)("option",{value:"all",children:"All activity"}),(0,s.jsx)("option",{value:"user",children:"Your activity"}),"team"===l.type&&(0,s.jsx)("option",{value:"team",children:"Team activity"}),(0,s.jsx)("option",{value:"public",children:"Public activity"})]}),i&&(0,s.jsx)("label",{className:"mr2 f7 fw6 gray lh-f7",htmlFor:"days",children:"Period"}),(0,s.jsxs)(b.g,{"aria-label":"Time range",id:"days",value:c||"",onChange:e=>d(e.target.value),children:[(0,s.jsx)("option",{value:"1",children:"Today"}),(0,s.jsx)("option",{value:"7",children:"Last 7 days"}),(0,s.jsx)("option",{value:"30",children:"Last 30 days"})]})]})},{showLabels:!0,className:"tw-flex tw-items-center tw-h-[34px]"})}),(0,s.jsx)("div",{className:"relative",children:x?[,,].fill(0).map((e,t)=>(0,s.jsx)(R,{index:t},t)):p.length?(0,s.jsxs)(s.Fragment,{children:[p.map((e,l)=>(0,s.jsx)(P,{index:l,user:t,items:e},l)),!n&&m.length>i?(0,s.jsx)("div",{className:"flex items-center justify-center",style:{margin:"0 -1rem",background:"linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 60%)"},children:(0,s.jsx)("button",{className:"ph3 pv2 mb3 f7 fw6 mid-gray hover-blue bg-white ba b--light-silver light-shadow hover-light-shadow br-pill pointer",onClick:()=>r(!0),children:"Show all"})}):(0,s.jsxs)("div",{className:"pt4 f7 fw5 tc gray",children:[(0,s.jsx)("span",{role:"img","aria-label":"star",children:"\uD83C\uDF1F"})," ","You are all caught up!"]})]}):(0,s.jsxs)(y.u,{children:["No ","public"===a?"public":""," activity"," ","1"===c?"today":"in the past ".concat(c," days"),"."]})})]})};var B=l(31443),I=l(91188),W=l(11984),z=l(68059),q=l(68875),Y=l(2669),G=l(52332),U=l(45204);function O(e){return{tab:(0,U.TS)(e,"tab"),page:(0,U.TS)(e,"page"),type:(0,U.TS)(e,"type"),new:(0,U.TS)(e,"new")}}let $=e=>{let{context:t,user:l,dispatch:i}=e,{push:n,replace:r,query:a}=(0,d.useRouter)(),{new:o,...c}=O(a),{type:h}=c,{data:u}=(0,k.h_)(function(e,t){let l=O(t);return"/collections/@".concat(e.login,"?").concat((0,Z.P)({page:l.page||1,...l.type?{type:l.type}:null}))}(t,a));return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex mb3 fw7 near-black justify-between items-center",children:[(0,s.jsx)(v.Z,{title:"Collections"}),(0,G.pq)(l,t)&&(0,s.jsx)(z.aX,{"data-cy":"new-collection",onClick:()=>i({type:"showModal",modal:"createCollection"}),text:"New",colorless:!0,icon:q.Z})]}),u?(0,s.jsx)(Y.a,{response:u,items:"collections",filters:()=>(0,s.jsxs)("div",{className:"flex items-center f7 tw-h-[34px]",children:[(0,s.jsx)("label",{className:"mr1 f7 fw6 gray lh-f7",htmlFor:"type",children:"Type"}),(0,s.jsxs)(b.g,{className:"ml1 near-black",id:"type",value:h||"",onChange:e=>{var t;return t=e.target.value||void 0,void n((0,U.rh)({...c,type:t}))},children:[(0,s.jsx)("option",{value:"",children:"All"}),(0,s.jsx)("option",{value:"public",children:"Public"}),(0,s.jsx)("option",{value:"private",children:"team"===t.type?"Team Private":"Private"})]})]}),emptyMessage:"☝️ You haven’t created any collections yet.",children:(e,t)=>(0,G.D7)(l,e)?(0,s.jsx)(I.b3,{collection:e,format:t,parentCount:e.parent_collection_count}):(0,s.jsx)(I.Fl,{collection:e,format:t})}):null,o&&(0,s.jsx)(W.W,{onDismiss:()=>r((0,U.rh)({...c}))})]})};var X=l(56435),K=l(74146),Q=l(67832);let J="minmax(160px, 80%) minmax(15%, 200px) auto",ee=e=>{let{suggestion:t,first:l,user:i}=e,{to_title:n,from_id:r,description:o,create_time:c,close_time:d,merge:h,creator:x}=t,m=(0,s.jsx)(C.q,{time:new Date(d||c)}),p=(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"truncate fw6",children:n||"Untitled"}),(0,s.jsx)("div",{className:"mid-gray",children:o?"".concat(o):""})]});return(0,s.jsx)(u.Z,{href:d?"/d/".concat(r):(0,S.yY)(t),className:a()("db ph3 pv2 no-underline dark-gray hover-blue",l?"":"bt b--light-silver"),children:(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:J,alignItems:"start"},children:[(0,s.jsx)("div",{className:"pr4",children:p}),(0,s.jsxs)("div",{className:"flex truncate mr2 items-center",children:[(0,s.jsx)(j.Yt,{user:{...x,type:"individual"},size:28,className:"mh2"}),(0,s.jsxs)("div",{className:"",children:[" ",(0,s.jsx)("div",{className:"fw5 dark-gray",children:(0,V.v3)(i,x)?"You":(0,V.RX)(x)}),(0,s.jsxs)("div",{className:"gray",children:[" ",m]})]})]}),(0,s.jsx)("div",{className:"tr mid-gray",title:null!==h?"Merged":d?"Closed":"Open",children:null!==h?"Merged":d?"Closed":"Pending"})]})})},et=e=>{let{suggestions:t,youDont:l,type:i,user:n}=e;return(0,s.jsx)("div",{className:"mt2 overflow-x-auto",style:{marginBottom:240},children:t.length?(0,s.jsxs)("div",{style:{minWidth:600},className:"w-100 f6 bg-white ba b--light-silver br2 lh-copy overflow-x-auto",children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:J,alignItems:"start"},className:"f6 bg-white",children:[(0,s.jsx)("div",{className:"ph3 pv2 f7 fw5 ttu mid-gray bg-near-white",children:"Suggestion"}),(0,s.jsx)("div",{className:"ph3 pv2 f7 fw5 nowrap ttu mid-gray bg-near-white",children:"Submitted by"}),(0,s.jsx)("div",{className:"ph3 pv2 f7 fw5 tr ttu mid-gray bg-near-white",children:"Status"})]}),t.map((e,t)=>(0,s.jsx)(ee,{suggestion:e,user:n,first:0===t},e.id))]}):(0,s.jsxs)(y.u,{children:[l," have any ","closed"===i?"closed ":"open ","suggestions."]})})};var el=l(83879);let es=e=>{let{context:t,user:l}=e,i="team"===t.type,{push:n,query:r}=(0,d.useRouter)(),a=(0,U.TS)(r,"type"),o=(0,U.TS)(r,"page",1),c=(0,U.TS)(r,"tab"),{data:h}=(0,k.h_)("".concat("team"===t.type?"/team/".concat(t.id):"/user","/suggestions?").concat((0,Z.P)({page:o,...a?{type:a}:null})));return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb3",children:(0,s.jsx)(v.Z,{title:"Suggestions"})}),(0,s.jsx)("div",{className:"pv2",children:(0,s.jsxs)("div",{className:"f7 tw-flex items-center tw-h-[34px]",children:[(0,s.jsx)("label",{className:"mr2 fw6 gray",htmlFor:"type",children:"Type"}),(0,s.jsxs)(b.g,{className:"near-black",id:"type",value:a||"",onChange:e=>n(function(e){let t=el.Qg?location.pathname:"/",l=new URLSearchParams;return Object.entries(e).forEach(e=>{let[t,s]=e;null!=s&&l.append(t,String(s))}),"".concat(t,"?").concat(l.toString())}({tab:c,type:e.target.value||void 0,page:o>1?o:void 0})),children:[(0,s.jsx)("option",{value:"",children:"Open"}),(0,s.jsx)("option",{value:"closed",children:"Closed"})]})]})}),h&&(0,s.jsx)(Q.t,{itemName:"suggestions",response:h,filterName:a||"open",children:(0,s.jsx)(et,{suggestions:h.results,youDont:i?"Your team doesn’t":"You don’t",user:l})})]})};var ei=l(31824),en=l(119),er=l(22496);l(71902);var ea=l(85049),eo=l(55184);let ec="tw-m-lg",ed="".concat(ec," mb5 flex-auto"),eh="mt3 pt2 mh3",eu="".concat(eh," flex-auto"),ex=(0,eo.$j)(e=>{let{decorations:t,currentUser:l}=e;return{decorations:t,currentUser:l}},e=>({dispatch:e}))(e=>{let{currentUser:t,profileUser:l,dispatch:i}=e,{query:r,push:a}=(0,d.useRouter)(),o=(0,U.TS)(r,"tab"),[u,x]=(0,h.useState)((0,er.xJ)(t,l)),v="team"===u.type&&(0,V.pr)(t,u);(0,h.useEffect)(()=>{x((0,er.xJ)(t,l))},[t,l]),(0,h.useEffect)(()=>{"ALREADY_SIGNED_IN"===(0,U.TS)(r,"error")&&i({type:"showErrorToast",message:"You’re already signed in. If you need to sign in as another user, please sign out first."})},[i,r]),(0,h.useEffect)(()=>{"projects"===o&&a("/projects/".concat(r.at))},[o,u,a,r.at]);let g=(0,h.useMemo)(()=>"recents"===o||"notebooks"===o||"trash"===o||"collections"===o||"suggestions"===o?"notebooks":"activity"===o?"team":"projects"===o?"data-apps":"stars"===o?"team"===u.type?"notebooks":"user":null,[u.type,o]);return(0,s.jsxs)("div",{className:"flex flex-column min-vh-100",children:[(0,s.jsx)(en.Z,{content:"Home"}),(0,s.jsx)(c(),{children:(0,s.jsx)("meta",{name:"description",content:"Discover insights faster and communicate more effectively with interactive notebooks for data analysis, visualization, and exploration."})}),(0,s.jsx)(p.Z,{fixed:!0,navArea:g,showAccountBanner:"stars"===o&&"individual"===u.type,showWorkspaceNoticeBanner:!0}),(0,s.jsx)("main",{className:"relative",style:{flex:1,zIndex:0},children:v?(0,s.jsx)(m.l,{onDismiss:()=>history.replaceState({},"","/"),error:{code:"MISSING_ORG",meta:{...u.org_restriction?{provider_org:u.org_restriction}:void 0}}}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.H,{navArea:g,children:(0,s.jsxs)("div",{style:{minHeight:"calc(100vh - ".concat(ea.Lv,"px)")},className:n().dynamic([["4063ea096c062f59",[em]]])+" flex-auto flex flex-column",children:[(0,s.jsx)("div",{className:n().dynamic([["4063ea096c062f59",[em]]])+" tw-flex tw-flex-auto tw-flex-col tw-m-md navlg:tw-m-lg",children:"notebooks"===o||"trash"===o||"stars"===o||"recents"===o?(0,s.jsx)(K.ev,{...e,context:u,user:t}):"collections"===o?(0,s.jsx)($,{...e,context:u,user:t}):"suggestions"===o?(0,s.jsx)(es,{...e,context:u,user:t}):"activity"===o?(0,s.jsx)(A,{...e,context:u,user:t}):null}),(0,s.jsxs)("div",{className:n().dynamic([["4063ea096c062f59",[em]]]),children:[(0,s.jsx)(ei.j,{}),(0,s.jsx)(f.F1,{}),(0,s.jsx)(X.m,{fullWidth:!0})]})]})}),(0,s.jsx)(n(),{id:"4063ea096c062f59",dynamic:[em],children:"".concat(em,"\n            ")})]})})]})}),em="\n .profile-banner {\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: left center;\n  position: relative;\n  width: 100%;\n}\n@media screen and (max-width: 640px) {\n  .profile-banner {\n    height: 60px;\n  }\n}\n@media screen and (min-width: 640px) {\n  .profile-banner {\n    height: 125px;\n  }\n}\n",ep=e=>{let{owner:t,canEdit:l,context:i}=e,n=(0,M.GS)(M.ro);return(0,s.jsxs)("div",{className:a()("flex bb b--light-silver justify-between mb2 flex-wrap","pb1 mb3",{"items-baseline":!n}),children:[(0,s.jsxs)("div",{className:"flex justify-between items-baseline flex-wrap",style:{maxWidth:"80%"},children:[(0,s.jsx)("h2",{className:"flex ma0 mr2 fw7 near-black truncate truncate-two-lines",style:x.r2,children:(0,V.RX)(t)}),"individual"===t.type&&t.pronouns&&(0,s.jsxs)("div",{className:"fw4 dark-gray mr2",children:["(",t.pronouns,")"]})]}),(0,s.jsx)("div",{className:a()("flex pv2",n?"flex-column justify-center":"items-center"),style:{rowGap:4},children:l&&!!i&&(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("a",{className:"f6 fw6 no-underline blue pointer",href:"".concat((0,V.rF)(i),"#profile"),children:"Edit profile"})})})]})},ef=e=>{let{breadcrumbs:t,className:l}=e;return(0,s.jsx)("div",{className:a()("flex mid-gray pb2",l),children:t.map((e,l)=>{let{name:i,href:n}=e;return(0,s.jsxs)(h.Fragment,{children:[n?(0,s.jsx)(u.Z,{href:n,className:"hover-near-black no-underline",children:i}):(0,s.jsx)("span",{className:"fw7",children:i}),l<t.length-1&&(0,s.jsx)("span",{className:"tw-px-xs",children:"/"})]},l)})})}},11984:function(e,t,l){l.d(t,{H:function(){return y},W:function(){return j}});var s=l(85893),i=l(85310),n=l(6467),r=l(67294),a=l(66338),o=l(68059),c=l(48537),d=l(37999),h=l(79384),u=l(14162),x=l(77658),m=l(26669),p=l(46294),f=l(52332),v=l(55184);let g=e=>{let{collection:t,isNew:l,onDismiss:v,submitCollection:g,currentUser:j}=e,[y,b]=(0,r.useState)({...t}),{owner:w,title:N,type:C,description:k,ordered:M}=y,S=!(0,a.wU)(y,t),Z=(0,i.M)(),V=(0,i.M)(),_=(0,i.M)();function H(e){e.preventDefault(),v(),N!==t.title&&(0,p.MR)((0,p.y6)({type:"collection:manage:setTitle",data:{},collection:t,currentUser:j,eventVersion:1})),C!==t.type&&(0,p.MR)((0,p.y6)({type:"collection:manage:setType",data:{newSetting:C},collection:t,currentUser:j,eventVersion:1})),M!==t.ordered&&(0,p.MR)((0,p.y6)({type:"collection:manage:setOrdered",data:{newSetting:M},collection:t,currentUser:j,eventVersion:1})),k!==t.description&&(0,p.MR)((0,p.y6)({type:"collection:manage:setDescription",data:{},collection:t,currentUser:j,eventVersion:1})),g({...y},t.title)}return(0,s.jsx)(n.Vq,{onDismiss:v,"aria-labelledby":"modal-title",children:(0,s.jsxs)(d.l,{onSubmit:H,children:[(0,s.jsx)(m.xB,{title:l?"Create collection":"Edit collection",onDismiss:v}),(0,s.jsx)(m.fe,{children:(0,s.jsxs)("div",{className:"pt3",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"var(--spacing-medium)"},children:[(0,s.jsxs)("div",{className:"flex flex-column",children:[(0,s.jsx)("label",{className:"pb2 f6 fw5 mid-gray",htmlFor:Z,children:"Title"}),(0,s.jsx)(h.Z,{type:"text",name:"title",id:Z,value:N,maxLength:250,placeholder:"Collection Title",onChange:e=>{b({...y,title:e.target.value})}})]}),(0,s.jsxs)("div",{className:"flex flex-column",children:[(0,s.jsx)("label",{className:"pb2 f6 fw5 mid-gray",htmlFor:V,children:"Visibility"}),(0,s.jsxs)(u.P,{name:"type",id:V,className:"w-100",onChange:e=>b({...y,type:e.target.value}),value:C,children:[(0,s.jsx)("option",{value:"private",children:"team"===w.type?"Team Private":"Private"}),(0,f.Fh)(j,w)&&(0,s.jsx)("option",{value:"public",children:"Public"})]})]}),(0,s.jsxs)("div",{className:"flex flex-column",style:{gridColumnEnd:"span 2"},children:[(0,s.jsx)("label",{className:"pb2 f6 fw5 mid-gray",htmlFor:_,children:"Description"}),(0,s.jsx)(x.g,{className:"h3 lh-copy",name:"description",id:_,value:k,maxLength:250,autoResize:!0,onChange:e=>b({...y,description:e.target.value})})]}),(0,s.jsxs)("div",{style:{gridColumnEnd:"span 2"},children:[(0,s.jsx)(c.X,{label:"Ordered",checked:M,onChange:e=>b({...y,ordered:e.target.checked})}),(0,s.jsx)("div",{className:"pt2 pb1 f6 gray lh-f6",children:"Ordered collections allow you to configure the order in which notebooks are displayed to readers."})]})]})}),(0,s.jsx)(m.mz,{children:(0,s.jsxs)(o.CQ,{children:[(0,s.jsx)(o.kq,{text:"Cancel",onClick:v}),(0,s.jsx)(o.KM,{disabled:!N.length||!S,text:l?"Create collection":"Save changes",onClick:H})]})})]})})},j=(0,v.$j)(e=>{let{context:t,currentUser:l}=e;return{isNew:!0,currentUser:l,collection:{id:"",title:"",type:"private",description:"",ordered:!1,owner:t.context||l}}},e=>({submitCollection(t){e({type:"createCollection",collection:t})}}))(g),y=(0,v.$j)((e,t)=>{let{currentUser:l}=e,{collection:s}=t;return{isNew:!1,collection:s,currentUser:l}},e=>({submitCollection(t,l){e({type:"editCollection",collection:t,oldTitle:l})}}))(g)},31824:function(e,t,l){l.d(t,{j:function(){return g}});var s=l(26669),i=l(47622),n=l(87225),r=l(85893),a=l(81027),o=l(46294),c=l(55184);let d=(0,c.$j)(e=>{let{currentUser:t}=e;return{currentUser:t}},(e,t)=>({dispatch:e,modalProps:t}))(e=>{let{currentUser:t,onDismiss:l,collection:i,dispatch:n}=e;return(0,r.jsx)(s.On,{title:"Delete collection",icon:a.Z,description:"Are you sure you want to delete this collection? This operation cannot be undone. Notebooks in the collection will not be deleted.",onCancel:l,onConfirm:()=>{l(),n({type:"deleteCollection",collection:i}),(0,o.MR)((0,o.y6)({type:"collection:manage:delete",data:{},collection:i,currentUser:t,eventVersion:1}))},destructive:!0})});var h=l(11984),u=l(6467),x=l(67294),m=l(21452),p=l(68059),f=l(37999);let v=(0,c.$j)(e=>{let{currentUser:t}=e;return{currentUser:t}},e=>({dispatch:e}))(e=>{let{currentUser:t,dispatch:l,onDismiss:i,collection:n}=e,[a,c]=(0,x.useState)(""),{custom_thumbnail:d,default_thumbnail:h}=n;return(0,r.jsx)(u.Vq,{onDismiss:i,"aria-labelledby":"modal-title",children:(0,r.jsxs)(f.l,{onSubmit:function(e){e.preventDefault(),l({type:"setCollectionThumbnail",thumbnail:a,collection:n}),(0,o.MR)((0,o.y6)({type:"collection:manage:setThumbnail",data:{},collection:n,currentUser:t,eventVersion:1})),i()},children:[(0,r.jsx)(s.xB,{title:"Set thumbnail",onDismiss:i}),(0,r.jsx)(s.fe,{children:(0,r.jsx)(m.E,{thumbnail:d,defaultThumbnail:h,onValueChange:e=>{c(e)}})}),(0,r.jsx)(s.mz,{children:(0,r.jsxs)(p.CQ,{children:[(0,r.jsx)(p.kq,{text:"Cancel",onClick:i}),(0,r.jsx)(p.KM,{text:"Set image",type:"submit"})]})})]})})}),g=(0,s.zm)({...i.$,...n.Y,createCollection:h.W,editCollection:h.H,deleteCollection:d,setThumbnail:v})},68875:function(e,t,l){var s=l(85893);t.Z=e=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("path",{d:"M3 3H7.5V1H3V3ZM6.5 2V7.5H8.5V2H6.5ZM7.5 6.5H2V8.5H7.5V6.5ZM3 7.5V3H1V7.5H3ZM6.5 7.5V12H8.5V7.5H6.5ZM6.5 12H3V14H6.5V12ZM3 12V7.5H1V12H3ZM7.5 8.5H12V6.5H7.5V8.5ZM14 6.5V3H12V6.5H14ZM12 1H7.5V3H12V1ZM14 3C14 1.89543 13.1046 1 12 1V3H14ZM12 8.5C13.1046 8.5 14 7.60457 14 6.5H12V8.5ZM6.5 12V14C7.60457 14 8.5 13.1046 8.5 12H6.5ZM3 12H1C1 13.1046 1.89543 14 3 14V12ZM3 1C1.89543 1 1 1.89543 1 3H3V1Z",fill:"currentColor"}),(0,s.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"15",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M15 12H9",stroke:"currentColor",strokeWidth:"2"})]})},95939:function(e,t,l){l.d(t,{I:function(){return n}});var s=l(85893),i=l(85625);let n=e=>{let{setQuery:t,sort:l,direction:n,relevance:r,publicOnly:a=!1}=e;return(0,s.jsx)(i.P,{sort:l,direction:n,setSort:e=>{t(e?{sort:e,direction:["title"].includes(e)?"asc":"desc"}:{})},setDirection:e=>{t(e?{direction:e}:{})},sortOptions:(0,s.jsxs)(s.Fragment,{children:[r?(0,s.jsx)("option",{value:"relevance",children:"Relevance"}):null,a?null:(0,s.jsx)("option",{value:"edited",children:"Edited"}),a?null:(0,s.jsx)("option",{value:"created",children:"Created"}),(0,s.jsx)("option",{value:"title",children:"Title"}),(0,s.jsx)("option",{value:"stars",children:"Stars"}),(0,s.jsx)("option",{value:"published",children:"Published"})]})})}},25795:function(e,t,l){var s=l(85893);t.Z=e=>{let{title:t}=e;return(0,s.jsx)("h1",{className:"tw-my-0 tw-text-text-emphasis tw-text-h1 tw-font-semibold",children:t})}},24953:function(e,t,l){l.d(t,{h:function(){return o}});var s=l(11163),i=l(67294),n=l(66338),r=l(61802),a=l(21146);function o(e){let{data:t,isLoading:l,mutate:o}=(0,r.h_)(e),[d,h]=(0,i.useState)(t?(0,a.x)(t):void 0),u=(0,n.oR)(),x=(0,s.useRouter)();return(0,i.useEffect)(()=>{let e=t?(0,a.x)(t):void 0;if(h(e),e)return u.subscribe(()=>{(function(e,t){if(!e.id)return!1;let l=t.find(t=>t.id===e.id);return!!(!l||c.find(t=>e[t]!==l[t]))||e.owner.id!==l.owner.id})(u.getState().notebook,e.results)&&o(t)})},[h,t,u,e,x,o]),{notebooks:d,isLoading:l,mutate:o}}let c=["collectionCount","forked","likes","publishLevel","publishTime","publishVersion","roles","saveTime","saveVersion","sharing","slug","thumbnail","trashed"]},1555:function(e,t,l){l.d(t,{$j:function(){return n},zt:function(){return s.zt}});var s=l(66338),i=l(47720);let n=(0,i.S3)();(0,i.gR)()}}]);