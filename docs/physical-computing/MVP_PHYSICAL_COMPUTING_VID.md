# 피지컬 컴퓨팅 MVP 검증 및 통합 문서 (Physical Computing MVP Verification and Integration Document)

**버전**: MVP v1.1

**상태**: Draft (초안)

**최종 수정**: 2025-11-10

**소유자**: NEO GOD (Director)

**승인자**: Technical Lead (TBD)

**개정 이력**:
- MVP v1.0 (2025-11-13): 초기 작성
- MVP v1.1 (2025-11-10): 버전 동기화, 참조 문서 정리

**배포 범위**: Physical Computing MVP Development Team, Hardware Team, QA Team

**변경 관리 프로세스**: GitHub Issues/PR 워크플로, 변경 시 MVP_FRD/MVP_TSD/MVP_SRD 동시 업데이트

**참조 문서 (References)**:
- **[피지컬 컴퓨팅 MVP FRD](MVP_PHYSICAL_COMPUTING_FRD.md)** - MVP 기능 요구사항 문서
- **[피지컬 컴퓨팅 MVP TSD](MVP_PHYSICAL_COMPUTING_TSD.md)** - MVP 기술 설계 문서
- **[피지컬 컴퓨팅 MVP SRD](MVP_PHYSICAL_COMPUTING_SRD.md)** - MVP 소프트웨어 요구사항 문서

---

## 1. 문서 개요 (Introduction)

### 1.1 목적 (Purpose)

본 문서는 피지컬 컴퓨팅 아트워크 MVP의 검증 및 통합 테스트 계획, 결과 기록, 완료 기준을 정의합니다.

### 1.2 범위 (Scope)

**In Scope**:
- 하드웨어 통합 테스트 계획
- 펌웨어 통합 테스트 계획
- 시스템 통합 테스트 계획
- 검증 결과 기록
- MVP 완료 기준

**Out of Scope**:
- 프로덕션 배포 계획
- 사용자 수용 테스트

---

## 2. 통합 테스트 계획 (Integration Test Plan)

### 2.1 하드웨어 통합 테스트 계획

#### 2.1.1 테스트 목적

하드웨어 구성요소들이 올바르게 연결되고 작동하는지 검증합니다.

#### 2.1.2 테스트 범위

**포함**:
- ESP32-C3 보드와 모든 센서 연결
- 모터 드라이버와 모터 연결
- LED RGB 64 패널 연결
- 조이스틱 연결
- 전원 공급 확인

**제외**:
- 센서 하위 레벨 동작 (센서 자체의 물리적 특성)

#### 2.1.3 테스트 시나리오

**IT-MVP-HW-01: GPIO 핀 연결 확인**

**목적**: 모든 GPIO 핀이 올바르게 연결되었는지 확인

**전제 조건**:
- 하드웨어 조립 완료
- 멀티미터 준비

**테스트 단계**:
1. ESP32-C3 보드 전원 공급
2. 각 GPIO 핀별 연결 확인:
   - GPIO 0: 조이스틱 Y축 연결 확인
   - GPIO 1: 조이스틱 X축 연결 확인
   - GPIO 2: 모터 우측 PWM 연결 확인
   - GPIO 3: 모터 우측 방향 연결 확인
   - GPIO 4: 조도 센서 연결 확인
   - GPIO 5: MPU-6050 SDA (I2C) 연결 확인
   - GPIO 6: MPU-6050 SCL (I2C) 연결 확인
   - GPIO 8: 모터 좌측 PWM 연결 확인
   - GPIO 9: 모터 좌측 방향 연결 확인
   - GPIO 11: 조이스틱 버튼 연결 확인
   - GPIO 12: IR 센서 연결 확인
   - GPIO 20: LED 패널 NEO (WS2812B) 연결 확인
   - GPIO 21: 버튼 연결 확인 (선택사항)

**예상 결과**:
- 모든 GPIO 핀이 올바르게 연결됨
- 연결 불량 없음

**통과 기준**: 모든 GPIO 핀 연결 확인 완료

---

**IT-MVP-HW-02: 전원 공급 확인**

**목적**: 모든 구성요소에 적절한 전원이 공급되는지 확인

**전제 조건**:
- 하드웨어 조립 완료
- 멀티미터 준비

**테스트 단계**:
1. ESP32-C3 보드 전원 확인 (USB-C 5V)
2. 모터 드라이버 전원 확인 (5V 또는 12V)
3. 센서 전원 확인 (3.3V 또는 5V)
4. LED 패널 전원 확인 (5V)

**예상 결과**:
- ESP32-C3: 5V 정상 공급
- 모터 드라이버: 모터 사양에 맞는 전원 공급
- 센서: 각 센서 사양에 맞는 전원 공급
- LED 패널: 5V 정상 공급

**통과 기준**: 모든 구성요소에 적절한 전원 공급 확인

---

**IT-MVP-HW-03: 공통 그라운드 확인**

**목적**: 모든 구성요소의 GND가 공통 연결되었는지 확인

**전제 조건**:
- 하드웨어 조립 완료
- 멀티미터 준비

**테스트 단계**:
1. ESP32-C3 GND 확인
2. 모터 드라이버 GND 확인
3. 센서 GND 확인
4. LED 패널 GND 확인
5. 모든 GND 간 연결 확인 (저항 측정)

**예상 결과**:
- 모든 GND 간 저항: 0Ω (또는 매우 낮은 값)

**통과 기준**: 모든 GND가 공통 연결됨

---

### 2.2 펌웨어 통합 테스트 계획

#### 2.2.1 테스트 목적

펌웨어 모듈들이 올바르게 통합되어 작동하는지 검증합니다.

#### 2.2.2 테스트 범위

**포함**:
- 모터 제어 모듈 통합
- 센서 읽기 모듈 통합
- LED 패널 제어 모듈 통합
- WiFi 통신 모듈 통합
- 게임 상태 관리 모듈 통합

**제외**:
- 개별 함수 단위 테스트 (단위 테스트에서 수행)

#### 2.2.3 테스트 시나리오

**IT-MVP-FW-01: 모터 제어 모듈 통합 테스트**

**목적**: 모터 제어 모듈이 조이스틱 입력에 올바르게 반응하는지 확인

**전제 조건**:
- 펌웨어 업로드 완료
- 하드웨어 연결 완료
- 시리얼 모니터 준비

**테스트 단계**:
1. 시스템 초기화
2. 조이스틱을 중앙에 배치
3. 모터 PWM 값 확인 (GPIO 2, 4)
4. 조이스틱을 왼쪽으로 기울임
5. 모터 PWM 값 변화 확인
6. 조이스틱을 오른쪽으로 기울임
7. 모터 PWM 값 변화 확인

**예상 결과**:
- 조이스틱 입력에 따라 모터 PWM 값이 변경됨
- 모터가 실제로 회전함

**통과 기준**: 모터 제어가 조이스틱 입력에 올바르게 반응

---

**IT-MVP-FW-02: 센서 읽기 모듈 통합 테스트**

**목적**: 모든 센서가 올바르게 읽히는지 확인

**전제 조건**:
- 펌웨어 업로드 완료
- 하드웨어 연결 완료
- 시리얼 모니터 준비

**테스트 단계**:
1. 시스템 초기화
2. 조도 센서 값 읽기 (GPIO 6)
3. 초음파 센서 값 읽기 (GPIO 7, 8)
4. IR 센서 값 읽기 (GPIO 12)
5. 조이스틱 값 읽기 (GPIO 9, 10, 11)
6. 모든 센서 값이 유효 범위 내인지 확인

**예상 결과**:
- 조도 센서: 0-4095 범위
- 초음파 센서: 0-400cm 범위 (또는 센서 사양에 따라)
- IR 센서: HIGH 또는 LOW
- 조이스틱: 0-4095 범위

**통과 기준**: 모든 센서 값이 유효 범위 내

---

**IT-MVP-FW-03: LED 패널 제어 모듈 통합 테스트**

**목적**: LED 패널이 게임 상태에 따라 올바르게 표시되는지 확인

**전제 조건**:
- 펌웨어 업로드 완료
- 하드웨어 연결 완료
- LED 패널 연결 완료

**테스트 단계**:
1. 시스템 초기화
2. 초기화 상태 확인 → LED 패널 패턴 확인
3. 대기 상태로 변경 → LED 패널 패턴 확인
4. 게임 진행 상태로 변경 → LED 패널 패턴 확인
5. 게임 종료 상태로 변경 → LED 패널 패턴 확인

**예상 결과**:
- 각 상태별로 올바른 패턴이 표시됨
- LED 업데이트가 부드럽게 진행됨

**통과 기준**: LED 패널이 게임 상태에 따라 올바르게 표시됨

---

**IT-MVP-FW-04: WiFi 통신 모듈 통합 테스트**

**목적**: WiFi 통신이 올바르게 작동하는지 확인

**전제 조건**:
- 펌웨어 업로드 완료
- WiFi 네트워크 접근 가능
- 백엔드 서버 실행 중

**테스트 단계**:
1. 시스템 초기화
2. WiFi 연결 시도
3. 연결 성공 확인
4. 센서 데이터 전송
5. 백엔드 응답 확인

**예상 결과**:
- WiFi 연결 성공
- 센서 데이터 전송 성공
- 백엔드 응답 수신

**통과 기준**: WiFi 통신이 정상 작동

---

### 2.3 시스템 통합 테스트 계획

#### 2.3.1 테스트 목적

전체 시스템이 통합되어 엔드투엔드로 작동하는지 검증합니다.

#### 2.3.2 테스트 범위

**포함**:
- 배 모형 불도저 작동
- 공 포집
- 센서 데이터 수집 및 전송
- LED 패널 표시
- 게임 상태 전환

**제외**:
- 웹 페이지 연동
- 점수 계산
- AI 매칭

#### 2.3.3 테스트 시나리오

**IT-MVP-SYS-01: 전체 게임 플로우 테스트**

**목적**: 전체 게임 플로우가 올바르게 작동하는지 확인

**전제 조건**:
- 전체 시스템 조립 완료
- 펌웨어 업로드 완료
- 백엔드 서버 실행 중
- 배 모형 불도저 준비
- 공 준비 (탁구공, 골프공, 당구공 또는 폼보드 판떼기)

**테스트 단계**:
1. 시스템 초기화 및 WiFi 연결
2. 진입점 통과 (초음파 센서 감지)
3. 10대 구간에서 공 포집 (조이스틱으로 배 모형 이동)
4. 보물 상자 선택 (버튼 입력)
5. 20대 구간에서 공 포집
6. 보물 상자 선택
7. 30대 구간에서 공 포집
8. 보물 상자 선택
9. 골인 지점 도달 (IR 센서 감지)
10. 게임 종료 확인

**예상 결과**:
- 각 단계가 순차적으로 진행됨
- 센서 데이터가 백엔드로 전송됨
- LED 패널이 상태에 따라 표시됨
- 게임이 정상적으로 종료됨

**통과 기준**: 전체 게임 플로우가 정상 작동

---

**IT-MVP-SYS-02: 공 포집 통합 테스트**

**목적**: 배 모형 불도저가 실제로 공을 포집하는지 확인

**전제 조건**:
- 전체 시스템 조립 완료
- 배 모형 불도저 준비
- 공 준비 (탁구공, 골프공, 당구공)

**테스트 단계**:
1. 시스템 초기화
2. 탁구공을 게임 보드에 배치
3. 조이스틱으로 배 모형을 탁구공 위치로 이동
4. 그물망이 탁구공을 포집하는지 확인
5. 골프공으로 반복
6. 당구공으로 반복

**예상 결과**:
- 각 공이 그물망에 포집됨
- 포집 성공률 ≥80%

**통과 기준**: 공 포집이 정상 작동

---

**IT-MVP-SYS-03: 센서 데이터 수집 및 전송 통합 테스트**

**목적**: 센서 데이터가 수집되어 백엔드로 전송되는지 확인

**전제 조건**:
- 전체 시스템 조립 완료
- 백엔드 서버 실행 중
- WiFi 연결 완료

**테스트 단계**:
1. 시스템 초기화
2. 센서 데이터 수집 시작
3. 백엔드 로그 확인
4. 센서 데이터 전송 확인
5. 응답 확인

**예상 결과**:
- 센서 데이터가 백엔드로 전송됨
- 백엔드 로그에 데이터 기록됨
- 응답이 정상 수신됨

**통과 기준**: 센서 데이터 수집 및 전송이 정상 작동

---

## 3. 검증 결과 기록 양식 (Verification Results Template)

### 3.1 테스트 실행 기록 양식

**테스트 실행 일자**: YYYY-MM-DD

**테스트 환경 명세**:
- ESP32-C3 보드: [모델명]
- 펌웨어 버전: [버전]
- 하드웨어 버전: [버전]
- 백엔드 버전: [버전]
- WiFi 네트워크: [SSID]

**테스트 결과**:

| 테스트 케이스 ID | 테스트 케이스 설명 | 실행 결과 | 통과/실패 | 비고 |
|-----------------|------------------|----------|----------|------|
| TC-MVP-001-01 | 직진 모드 테스트 | 실행 완료 | 통과/실패 | |
| TC-MVP-001-02 | 좌회전 모드 테스트 | 실행 완료 | 통과/실패 | |
| ... | ... | ... | ... | ... |

### 3.2 발견된 이슈 리스트

**이슈 ID**: ISSUE-MVP-001

**발견 일자**: YYYY-MM-DD

**심각도**: Critical / High / Medium / Low

**설명**: [이슈 설명]

**재현 단계**:
1. [단계 1]
2. [단계 2]
3. ...

**예상 결과**: [예상 결과]

**실제 결과**: [실제 결과]

**상태**: Open / In Progress / Resolved / Closed

**해결 방법**: [해결 방법]

---

### 3.3 개선 사항 리스트

**개선 ID**: IMPROVEMENT-MVP-001

**제안 일자**: YYYY-MM-DD

**우선순위**: High / Medium / Low

**설명**: [개선 사항 설명]

**제안 이유**: [제안 이유]

**예상 효과**: [예상 효과]

**상태**: Proposed / Approved / Implemented / Rejected

---

## 4. MVP 완료 기준 체크리스트 (MVP Completion Criteria)

### 4.1 기능적 기준 체크리스트

- [ ] **FR-MVP-001**: 배 모형 불도저 제어
  - [ ] 모터 2개가 계속 전진
  - [ ] 조이스틱으로 방향 조정 가능
  - [ ] 반응 속도 <100ms

- [ ] **FR-MVP-002**: 공 포집 검증
  - [ ] 탁구공 포집 성공률 ≥80%
  - [ ] 골프공 포집 성공률 ≥80%
  - [ ] 당구공 포집 성공률 ≥80%

- [ ] **FR-MVP-003**: 센서 데이터 수집
  - [ ] 조도 센서 읽기 정상
  - [ ] 초음파 센서 읽기 정상
  - [ ] IR 센서 읽기 정상
  - [ ] 센서 읽기 주기 100ms

- [ ] **FR-MVP-004**: LED RGB 64 패널 표시
  - [ ] 게임 상태별 패턴 표시 정상
  - [ ] LED 업데이트 30fps 유지

- [ ] **FR-MVP-005**: WiFi 통신
  - [ ] WiFi 연결 성공률 ≥95%
  - [ ] 센서 데이터 전송 성공률 ≥95%
  - [ ] 통신 지연 <500ms

### 4.2 성능 기준 체크리스트

- [ ] 모터 반응 속도: <100ms
- [ ] 센서 읽기 주기: 100ms ±10ms
- [ ] LED 업데이트 주기: 33ms ±3ms (30fps)
- [ ] WiFi 통신 지연: <500ms
- [ ] 공 포집 성공률: ≥80%

### 4.3 문서 기준 체크리스트

- [ ] MVP_FRD.md 완성
- [ ] MVP_TSD.md 완성 (핀 번호, 플로우차트 포함)
- [ ] MVP_SRD.md 완성 (테스트 시나리오 포함)
- [ ] MVP_VID.md 완성 (검증 결과 기록)

### 4.4 하드웨어 기준 체크리스트

- [ ] 배 모형 불도저 제작 완료
- [ ] 폼보드 판떼기 제작 완료 (9개)
- [ ] 보물 상자 제작 완료 (9개)
- [ ] 모든 하드웨어 연결 완료
- [ ] 전원 공급 확인 완료

---

## 5. 향후 개발 계획 (Future Development Plan)

### 5.1 MVP 이후 추가 기능 목록

**우선순위 High**:
1. 웹 페이지 연동
   - 결과 화면 표시
   - 실시간 게임 상태 표시
2. 공 개수 자동 카운팅
   - 동전 개수기 구현
   - 자동 카운팅 로직
3. 점수 계산 엔진
   - CuratorOdyssey 가중치 시스템 적용
   - 레이더 5축, 선버스트 4축 계산

**우선순위 Medium**:
4. Firestore 저장 기능
   - 게임 세션 데이터 저장
   - 영구 저장 기능
5. WebSocket 통신
   - 실시간 양방향 통신
   - 이벤트 기반 메시지 전송
6. 보물 상자 선택 로직 개선
   - 순환 선택 메커니즘 개선
   - NeoPixel 피드백 추가

**우선순위 Low**:
7. AI 매칭 시스템
   - Vertex AI 통합
   - 유사 작가 검색
8. CuratorOdyssey API 연동
   - 작가 데이터 조회
   - 비교 차트 표시

### 5.2 기술 부채 (Technical Debt)

**하드웨어**:
- 모터 속도 고정 (향후 가변 속도 지원 필요)
- 조이스틱 대신 엔코더 사용 검토
- LED RGB 64 패널 드라이버 최적화

**소프트웨어**:
- 에러 처리 로직 강화
- 로깅 시스템 개선
- 코드 리팩토링

### 5.3 확장 계획

**하드웨어 확장**:
- 조도 센서 추가 (3개로 확장)
- 버튼 추가 (보물 상자 선택용)
- NeoPixel 추가 (16개 링)

**소프트웨어 확장**:
- 게임 로직 서비스 추가
- 점수 계산 엔진 추가
- AI 매칭 시스템 추가

---

## 6. 참조 문서

- [피지컬 컴퓨팅 MVP FRD](MVP_PHYSICAL_COMPUTING_FRD.md) - MVP 기능 요구사항 문서
- [피지컬 컴퓨팅 MVP TSD](MVP_PHYSICAL_COMPUTING_TSD.md) - MVP 기술 설계 문서
- [피지컬 컴퓨팅 MVP SRD](MVP_PHYSICAL_COMPUTING_SRD.md) - MVP 소프트웨어 요구사항 문서

