# CO-1016 CURATOR ODYSSEY: 사이트맵 및 와이어프레임 기능명세

## 문서 메타데이터

**문서명**: CO-1016 CURATOR ODYSSEY 사이트맵 및 와이어프레임 기능명세

**버전**: 1.0

**최종 수정**: 2025-11-02

**소유자**: NEO GOD (Director)

**참조 문서**:
- [VID v1.0](./VID.md) - Visual Interaction Design Document
- [IA v1.0](../architecture/IA.md) - Information Architecture Document
- [FRD v1.0](../requirements/FRD.md) - Functional Requirements Document

---

## 전체 사이트맵 구조

```
CO-1016 CURATOR ODYSSEY
│
├── / (홈페이지 / 랜딩)
│   └── 아티스트 ID 입력 → Phase 1로 이동
│
├── /artist/:id (Phase 1: 현재 가치 분석)
│   ├── 레이더 차트 (Radar5Chart)
│   ├── 선버스트 차트 (SunburstChart)
│   └── 네비게이션: Phase 2 → Phase 3 → Phase 4
│
├── /artist/:id/trajectory (Phase 2: 커리어 궤적 분석)
│   ├── StackedAreaChart (4축 누적 영역 차트)
│   ├── EventTimeline (이벤트 타임라인)
│   └── 네비게이션: Phase 1 ← → Phase 3
│
├── /compare/:artistA/:artistB (Phase 3: 비교 분석)
│   ├── ComparisonAreaChart (비교 영역 차트)
│   ├── 지표 표시 (상관계수, abs_diff_sum)
│   └── 네비게이션: Phase 2 ← → Phase 4
│
└── /artist/:id/report (Phase 4: AI 보고서)
    ├── MarkdownReportDisplay (AI 보고서 표시)
    ├── 섹션 네비게이션 (Introduction, Analysis, Prediction)
    └── 다운로드/공유 버튼
```

---

## 1. 페이지별 와이어프레임 및 기능명세

### 1.1 홈페이지 (/) - 랜딩 페이지

#### 와이어프레임 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│  Header (고정)                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │ CuratorOdyssey Logo          [메뉴] (향후)       │ │
│  │ 데이터로 가치의 지도를 그립니다                    │ │
│  └───────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │                                                   │ │
│  │           CO-1016 CURATOR ODYSSEY                │ │
│  │                                                   │ │
│  │        아티스트 경력 분석 플랫폼                  │ │
│  │                                                   │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │                                                   │ │
│  │    아티스트 ID 입력: [ARTIST_0005______] [로드]   │ │
│  │                                                   │ │
│  │    예시: ARTIST_0005, ARTIST_0003                 │ │
│  │                                                   │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  Phase 안내 (카드 형태)                           │ │
│  │                                                   │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ │ │
│  │  │ Phase 1 │ │ Phase 2 │ │ Phase 3 │ │ Phase 4 │ │ │
│  │  │ 요약    │ │ 궤적    │ │ 비교    │ │ 보고서  │ │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  Footer (시스템 상태, 버전 정보)                         │
└─────────────────────────────────────────────────────────┘
```

#### 기능명세

| 기능 ID | 기능명 | 설명 | 우선순위 |
|---------|--------|------|----------|
| **FEAT-HOME-001** | 아티스트 ID 입력 | 사용자가 아티스트 ID 입력 (패턴: `ARTIST_\d{4}`) | Must |
| **FEAT-HOME-002** | 입력 검증 | Joi validation (`ARTIST_\d{4}` 패턴, 필수 입력) | Must |
| **FEAT-HOME-003** | Phase 1 자동 이동 | 유효한 ID 입력 시 `/artist/:id`로 자동 이동 | Must |
| **FEAT-HOME-004** | 예시 아티스트 표시 | 사용 가능한 아티스트 ID 목록 표시 (ARTIST_0005, ARTIST_0003) | Should |
| **FEAT-HOME-005** | Phase 안내 카드 | Phase 1-4 간단한 설명 카드 표시 | Could |
| **FEAT-HOME-006** | 에러 메시지 표시 | 잘못된 ID 입력 시 에러 메시지 표시 (404 에러) | Must |

#### API 연동
- **API 호출**: 없음 (단순 입력 검증)
- **리다이렉트**: React Router `useNavigate` 사용

#### 인터랙션
- Enter 키: 입력 필드에서 Enter 키 → Phase 1 페이지로 이동
- 로드 버튼 클릭: 동일 동작
- Tab 키: 입력 필드 → 로드 버튼 순서

---

### 1.2 Phase 1: 현재 가치 분석 (`/artist/:id`)

#### 와이어프레임 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│  Header (고정)                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │ CuratorOdyssey Logo     [Phase 1] [Phase 2] [3] [4]│ │
│  └───────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  아티스트 정보 헤더                                 │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │ 아티스트: 양혜규 (ARTIST_0005)              │ │ │
│  │  │ 데뷔년: 2010                                │ │ │
│  │  │ 데이터 신선도: 최신 (2025-11-02)            │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  차트 영역 (2열 그리드)                            │ │
│  │                                                   │ │
│  │  ┌──────────────┐    ┌──────────────┐          │ │
│  │  │              │    │              │          │ │
│  │  │  레이더 차트  │    │  선버스트 차트│          │ │
│  │  │  (5축)       │    │  (4축)       │          │ │
│  │  │              │    │              │          │ │
│  │  │  I: 97.5     │    │  제도: 91.2% │          │ │
│  │  │  F: 90.0     │    │  학술: 88.0% │          │ │
│  │  │  A: 92.0     │    │  담론: 86.0% │          │ │
│  │  │  M: 86.0     │    │  네트워크: 90%│          │ │
│  │  │  Sedu: 9.8   │    │              │          │ │
│  │  │              │    │              │          │ │
│  │  └──────────────┘    └──────────────┘          │ │
│  │                                                   │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  일관성 검증 표시                                   │ │
│  │  ✅ 데이터 일관성: ±0.5p 준수 (차이: 0.2p)        │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  네비게이션 버튼                                   │ │
│  │  [Phase 2: 커리어 궤적 보기] →                    │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  Footer                                                 │
└─────────────────────────────────────────────────────────┘
```

#### 기능명세

| 기능 ID | 기능명 | 설명 | 우선순위 |
|---------|--------|------|----------|
| **FEAT-P1-001** | 아티스트 요약 데이터 조회 | `GET /api/artist/:id/summary` API 호출 | Must |
| **FEAT-P1-002** | 레이더 차트 렌더링 | Radar5Chart 컴포넌트 (5축: I, F, A, M, Sedu) | Must |
| **FEAT-P1-003** | 선버스트 차트 렌더링 | SunburstChart 컴포넌트 (4축: 제도, 학술, 담론, 네트워크) | Must |
| **FEAT-P1-004** | 선버스트-레이더 상호작용 | 선버스트 섹터 클릭 → 레이더 해당 축 하이라이트 | Must |
| **FEAT-P1-005** | 호버 툴팁 | 차트 호버 시 값 표시 (축 이름: 값) | Must |
| **FEAT-P1-006** | 데이터 신선도 표시 | `weights_version`, `updated_at` 표시 | Should |
| **FEAT-P1-007** | 일관성 검증 표시 | ±0.5p 일관성 검증 결과 표시 | Must |
| **FEAT-P1-008** | Phase 2 네비게이션 | Phase 2 탭 클릭 → `/artist/:id/trajectory` 이동 | Must |
| **FEAT-P1-009** | 로딩 상태 | React Query `isLoading` 상태 시 스켈레톤 UI | Must |
| **FEAT-P1-010** | 에러 처리 | API 실패 시 에러 메시지 및 mockData.js 폴백 | Must |

#### API 연동
- **API 엔드포인트**: `GET /api/artist/:id/summary`
- **React Query 키**: `['artist', artistId, 'summary']`
- **캐싱**: staleTime 5분, cacheTime 10분

#### 인터랙션
- 선버스트 섹터 클릭 → 레이더 축 하이라이트 (애니메이션: 300ms)
- 차트 호버 → 툴팁 표시 (`{axis}: {value}`)
- Phase 2 탭 클릭 → 부드러운 스크롤 및 페이지 전환

#### 반응형 레이아웃
- 데스크톱: 2열 그리드 (레이더 400px × 400px, 선버스트 400px × 400px)
- 모바일: 세로 스택 (각 300px × 300px)

---

### 1.3 Phase 2: 커리어 궤적 분석 (`/artist/:id/trajectory`)

#### 와이어프레임 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│  Header (고정)                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │ CuratorOdyssey Logo     [Phase 1] [Phase 2] [3] [4]│ │
│  └───────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  아티스트 정보 헤더                                 │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │ 아티스트: 양혜규 (ARTIST_0005)              │ │ │
│  │  │ [← Phase 1로 돌아가기]                      │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  축 선택 탭 (4개)                                  │ │
│  │  [제도] [학술] [담론] [네트워크] [전체]            │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  StackedAreaChart (누적 영역 차트)                 │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │                                              │ │ │
│  │  │        [4축 누적 영역 차트]                  │ │ │
│  │  │                                              │ │ │
│  │  │  ┌──────────────────────────────────────┐ │ │ │
│  │  │  │                                      │ │ │ │
│  │  │  │     제도 (블루)                       │ │ │ │
│  │  │  │     학술 (그린)                       │ │ │ │
│  │  │  │     담론 (오렌지)                     │ │ │ │
│  │  │  │     네트워크 (퍼플)                   │ │ │ │
│  │  │  │                                      │ │ │ │
│  │  │  └──────────────────────────────────────┘ │ │ │ │
│  │  │                                              │ │ │
│  │  │  X축: t_relative (상대 시간축)              │ │ │
│  │  │  Y축: 누적 값 (0-100)                       │ │ │
│  │  │                                              │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  EventTimeline (이벤트 타임라인)                   │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │  ●     ●         ●    ●              ●     │ │ │
│  │  │ 전시  아트페어  시상  전시            전시  │ │ │
│  │  │                                              │ │ │
│  │  │  호버 시: 이벤트 정보 툴팁 표시              │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  분석 인사이트 카드                                │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │ 📈 성장 패턴: 지속적 상승 (최근 5년)        │ │ │
│  │  │ 🎯 주요 이벤트: 2015년 전시 (스파이크)      │ │ │
│  │  │ 📊 상관계수: 제도-학술 0.85                 │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  네비게이션 버튼                                   │ │
│  │  [Phase 3: 비교 분석 보기] →                     │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  Footer                                                 │
└─────────────────────────────────────────────────────────┘
```

#### 기능명세

| 기능 ID | 기능명 | 설명 | 우선순위 |
|---------|--------|------|----------|
| **FEAT-P2-001** | 배치 시계열 데이터 조회 | `POST /api/batch/timeseries` API 호출 (4축 동시) | Must |
| **FEAT-P2-002** | StackedAreaChart 렌더링 | 4축 누적 영역 차트 (제도, 학술, 담론, 네트워크) | Must |
| **FEAT-P2-003** | EventTimeline 렌더링 | 이벤트 타임라인 (전시, 아트페어, 시상 마커) | Should |
| **FEAT-P2-004** | 차트-타임라인 동기화 | StackedAreaChart 호버 → EventTimeline 하이라이트 | Should |
| **FEAT-P2-005** | 호버 툴팁 | 차트 호버 시 4축 값 표시 (`{axis}: {value}`) | Must |
| **FEAT-P2-006** | 줌/팬 기능 | 마우스 휠 줌, 드래그 팬 (D3 zoom) | Could |
| **FEAT-P2-007** | 축 선택 탭 | 개별 축 선택 시 해당 축만 표시 | Should |
| **FEAT-P2-008** | 분석 인사이트 표시 | 성장 패턴, 주요 이벤트, 상관계수 표시 | Should |
| **FEAT-P2-009** | Phase 1 복귀 | Phase 1 탭 클릭 → `/artist/:id` 이동 | Must |
| **FEAT-P2-010** | Phase 3 네비게이션 | Phase 3 탭 클릭 → `/compare/:artistA/:artistB` 이동 | Must |

#### API 연동
- **API 엔드포인트**: `POST /api/batch/timeseries`
- **React Query 키**: `['artist', artistId, 'batch-timeseries']`
- **캐싱**: staleTime 5분, cacheTime 10분
- **이벤트 API**: `GET /api/artist/:id/events/:axis` (선택)

#### 인터랙션
- 차트 호버 → 툴팁 표시 + EventTimeline 동기화 (지연 <100ms)
- 이벤트 클릭 → 해당 시간점으로 스크롤
- 줌/팬: 마우스 휠 줌, 드래그 팬 (모바일: 핀치 줌)

#### 반응형 레이아웃
- 데스크톱: StackedAreaChart 800px × 400px, EventTimeline 800px × 100px
- 모바일: 가로 스크롤 가능한 래퍼, EventTimeline 차트 아래 배치

---

### 1.4 Phase 3: 비교 분석 (`/compare/:artistA/:artistB`)

#### 와이어프레임 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│  Header (고정)                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │ CuratorOdyssey Logo     [Phase 1] [Phase 2] [3] [4]│ │
│  └───────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  비교 대상 선택 영역                               │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │ 아티스트 A: [ARTIST_0005 ▼] 양혜규          │ │ │
│  │  │ 아티스트 B: [ARTIST_0010 ▼] 이우환          │ │ │
│  │  │                                             │ │ │
│  │  │ 축 선택: [제도] [학술] [담론] [네트워크]      │ │ │
│  │  │                                             │ │ │
│  │  │ [비교 분석 실행]                            │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  ComparisonAreaChart (비교 영역 차트)            │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │                                              │ │ │
│  │  │        [두 아티스트 비교 라인 차트]          │ │ │
│  │  │                                              │ │ │
│  │  │  ┌──────────────────────────────────────┐ │ │ │
│  │  │  │                                      │ │ │ │
│  │  │  │     ──── 아티스트 A (블루)           │ │ │ │
│  │  │  │     ──── 아티스트 B (오렌지)         │ │ │ │
│  │  │  │                                      │ │ │ │
│  │  │  │     [차이 음영 영역]                  │ │ │ │
│  │  │  │                                      │ │ │ │
│  │  │  └──────────────────────────────────────┘ │ │ │ │
│  │  │                                              │ │ │
│  │  │  범례: [●] 아티스트 A [●] 아티스트 B (클릭 가능)│ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  비교 지표 카드 (2열 그리드)                      │ │
│  │  ┌──────────────┐    ┌──────────────┐          │ │
│  │  │ 상관계수      │    │ 절대 차이 합계│          │ │
│  │  │ 0.85         │    │ 125.7        │          │ │
│  │  │ [유사] 라벨   │    │ [차이 있음]   │          │ │
│  │  └──────────────┘    └──────────────┘          │ │
│  │                                                   │ │
│  │  ┌──────────────┐    ┌──────────────┐          │ │
│  │  │ AUC (A)      │    │ AUC (B)      │          │ │
│  │  │ 450.2        │    │ 387.5        │          │ │
│  │  └──────────────┘    └──────────────┘          │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  네비게이션 버튼                                   │ │
│  │  [Phase 2로 돌아가기] [Phase 4: 보고서 생성] → │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  Footer                                                 │
└─────────────────────────────────────────────────────────┘
```

#### 기능명세

| 기능 ID | 기능명 | 설명 | 우선순위 |
|---------|--------|------|----------|
| **FEAT-P3-001** | 아티스트 A/B 선택 | 드롭다운 또는 검색으로 아티스트 선택 | Must |
| **FEAT-P3-002** | 축 선택 | 4축 중 하나 선택 (제도, 학술, 담론, 네트워크) | Must |
| **FEAT-P3-003** | 비교 데이터 조회 | `GET /api/compare/:A/:B/:axis` API 호출 | Must |
| **FEAT-P3-004** | ComparisonAreaChart 렌더링 | dual-line 비교 영역 차트 (A/B 라인) | Must |
| **FEAT-P3-005** | 비교 지표 표시 | 상관계수, abs_diff_sum, AUC 표시 | Must |
| **FEAT-P3-006** | 범례 클릭 토글 | 범례 클릭 시 해당 라인 표시/숨김 | Should |
| **FEAT-P3-007** | 호버 툴팁 | 호버 시 두 아티스트 값 및 차이 표시 | Must |
| **FEAT-P3-008** | 캐시 히트 표시 | 캐시된 데이터 사용 시 표시 | Should |
| **FEAT-P3-009** | 실시간 계산 표시 | 캐시 미스 시 실시간 계산 중 표시 | Should |
| **FEAT-P3-010** | Phase 4 네비게이션 | Phase 4 탭 클릭 → `/artist/:id/report` 이동 | Must |

#### API 연동
- **API 엔드포인트**: `GET /api/compare/:A/:B/:axis`
- **React Query 키**: `['compare', artistA, artistB, axis]`
- **캐싱**: staleTime 24시간, cacheTime 48시간
- **캐시 히트**: `compare_pairs` 컬렉션에서 사전 계산 데이터 조회

#### 인터랙션
- 범례 클릭 → 해당 라인 표시/숨김 (애니메이션: 300ms)
- 호버 → 툴팁 표시 (`v_A: {value}, v_B: {value}, diff: {diff}`)
- 상관계수 >0.8 → "유사" 라벨 자동 표시

#### 반응형 레이아웃
- 데스크톱: ComparisonAreaChart 800px × 400px, 지표 카드 2열 그리드
- 모바일: 탭 인터페이스 (A/B 탭), 지표 카드 세로 스택

---

### 1.5 Phase 4: AI 보고서 (`/artist/:id/report`)

#### 와이어프레임 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│  Header (고정)                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │ CuratorOdyssey Logo     [Phase 1] [Phase 2] [3] [4]│ │
│  └───────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  보고서 헤더                                        │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │ 아티스트: 양혜규 (ARTIST_0005)              │ │ │
│  │  │ 생성 시간: 2025-11-02 14:30                │ │ │
│  │  │ 모델: Gemini 1.5 Pro                       │ │ │
│  │  │ 토큰 사용량: 38,245 / 50,000                │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  보고서 생성 버튼                                  │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │ [🔄 AI 보고서 생성]                         │ │ │
│  │  │ (최대 30초 소요)                             │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  섹션 네비게이션 (고정)                            │ │
│  │  [Introduction] [Analysis] [Prediction]          │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  Markdown 보고서 본문                             │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │ # Introduction                              │ │ │
│  │  │                                             │ │ │
│  │  │ 양혜규는 2010년 데뷔한 현대 미술가로...     │ │ │
│  │  │                                             │ │ │
│  │  │ ## 주요 성과                                │ │ │
│  │  │ - 제도 축: 91.2점 (상위 5%)                │ │ │
│  │  │ - 학술 축: 88.0점 (상위 10%)               │ │ │
│  │  │                                             │ │ │
│  │  │ # Analysis                                  │ │ │
│  │  │                                             │ │ │
│  │  │ ## 커리어 궤적 분석                         │ │ │
│  │  │ 시계열 분석 결과, 양혜규는...               │ │ │
│  │  │                                             │ │ │
│  │  │ # Prediction                                │ │ │
│  │  │                                             │ │ │
│  │  │ 향후 5년간 예상 성장률...                   │ │ │
│  │  │                                             │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  ┌───────────────────────────────────────────────────┐ │
│  │  액션 버튼                                         │ │
│  │  ┌─────────────────────────────────────────────┐ │ │
│  │  │ [📥 다운로드 (PDF)] [🔗 공유] [← 돌아가기] │ │ │
│  │  └─────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────┘ │
│                                                          │
│  Footer                                                 │
└─────────────────────────────────────────────────────────┘
```

#### 기능명세

| 기능 ID | 기능명 | 설명 | 우선순위 |
|---------|--------|------|----------|
| **FEAT-P4-001** | Phase 1-3 데이터 취합 | UniversalDataAdapter로 통합 데이터 준비 | Must |
| **FEAT-P4-002** | AI 보고서 생성 | `POST /api/report/generate` API 호출 | Must |
| **FEAT-P4-003** | Vertex AI 호출 | Gemini 1.5 Pro 호출 (토큰 최적화 적용) | Must |
| **FEAT-P4-004** | 폴백 메커니즘 | Vertex 실패 → GPT-4 → 템플릿 보고서 | Must |
| **FEAT-P4-005** | Markdown 렌더링 | React Markdown으로 보고서 표시 | Must |
| **FEAT-P4-006** | 섹션 네비게이션 | Introduction, Analysis, Prediction 섹션으로 스크롤 | Should |
| **FEAT-P4-007** | 로딩 상태 | 생성 중 스켈레톤 UI 및 진행률 표시 | Must |
| **FEAT-P4-008** | 토큰 사용량 표시 | 입력/출력 토큰 사용량 표시 | Should |
| **FEAT-P4-009** | 다운로드 기능 | PDF 또는 Markdown 다운로드 | Should |
| **FEAT-P4-010** | 공유 기능 | 보고서 URL 복사 또는 공유 링크 생성 | Could |
| **FEAT-P4-011** | 생성 시간 표시 | 보고서 생성 시간 및 모델 정보 표시 | Should |
| **FEAT-P4-012** | 에러 처리 | AI 호출 실패 시 에러 메시지 및 폴백 표시 | Must |

#### API 연동
- **API 엔드포인트**: `POST /api/report/generate`
- **React Query**: `useMutation` 사용 (비동기 생성)
- **요청 본문**: `{ artist_id, include_phases: ['1', '2', '3'] }`
- **응답**: `{ content: string, model_used: string, token_usage: object }`

#### 인터랙션
- 생성 버튼 클릭 → 로딩 스피너 표시 (최대 30초)
- 섹션 클릭 → 해당 섹션으로 스크롤 (부드러운 스크롤)
- 다운로드 버튼 → PDF/Markdown 파일 다운로드
- 공유 버튼 → URL 클립보드 복사

#### 반응형 레이아웃
- 데스크톱: Markdown 본문 최대 너비 800px, 폰트 크기 16px
- 모바일: 폰트 크기 14px, 섹션 네비게이션 상단 고정 버튼

---

## 2. 네비게이션 맵 (Navigation Map)

### 2.1 전체 네비게이션 구조

```
홈페이지 (/)
  │
  ├─→ Phase 1 (/artist/:id)
  │     ├─→ Phase 2 (/artist/:id/trajectory)
  │     │     ├─→ Phase 1 (복귀)
  │     │     └─→ Phase 3 (/compare/:A/:B)
  │     │           ├─→ Phase 2 (복귀)
  │     │           └─→ Phase 4 (/artist/:id/report)
  │     │                 └─→ Phase 1 (복귀)
  │     │
  │     └─→ Phase 4 (직접 접근 가능)
  │
  └─→ Phase 3 (직접 접근: /compare/:A/:B)
        └─→ Phase 4
```

### 2.2 네비게이션 컴포넌트 (Header)

```
┌─────────────────────────────────────────────────────────┐
│  Header (모든 페이지 공통)                               │
│  ┌───────────────────────────────────────────────────┐ │
│  │ CuratorOdyssey Logo                               │ │
│  │                                                   │ │
│  │ [Phase 1] [Phase 2] [Phase 3] [Phase 4]          │ │
│  │  (현재 Phase 강조 표시)                           │ │
│  └───────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

#### 기능명세

| 기능 ID | 기능명 | 설명 | 우선순위 |
|---------|--------|------|----------|
| **FEAT-NAV-001** | Phase 탭 네비게이션 | Phase 1-4 탭 클릭으로 페이지 이동 | Must |
| **FEAT-NAV-002** | 현재 Phase 강조 | 현재 페이지 Phase 탭 활성화 표시 | Must |
| **FEAT-NAV-003** | 로고 클릭 | 로고 클릭 시 홈페이지(`/`)로 이동 | Must |

---

## 3. 와이어프레임 상세 사양

### 3.1 공통 컴포넌트

#### Header 컴포넌트
- **위치**: 모든 페이지 상단 고정
- **높이**: 64px (데스크톱), 56px (모바일)
- **배경색**: `rgb(255, 255, 255)`
- **그림자**: `box-shadow: 0 1px 3px rgba(0,0,0,0.1)`

#### Footer 컴포넌트
- **위치**: 모든 페이지 하단
- **높이**: 48px
- **내용**: 시스템 상태, 버전 정보, 링크

### 3.2 레이아웃 그리드 시스템

**데스크톱 (≥1024px)**:
- 컨테이너 최대 너비: 1200px
- 그리드: 12열 그리드 시스템
- 간격: 24px (gutter)

**태블릿 (768px-1023px)**:
- 컨테이너 최대 너비: 768px
- 그리드: 8열 그리드 시스템
- 간격: 16px (gutter)

**모바일 (<768px)**:
- 컨테이너 너비: 100vw
- 그리드: 4열 그리드 시스템
- 간격: 12px (gutter)

---

## 4. 기능 우선순위 요약

### Must (필수)
- Phase 1: 요약 데이터 조회, 레이더/선버스트 차트 렌더링, 상호작용
- Phase 2: 배치 시계열 조회, StackedAreaChart 렌더링
- Phase 3: 비교 데이터 조회, ComparisonAreaChart 렌더링
- Phase 4: AI 보고서 생성, Markdown 렌더링, 폴백 메커니즘
- 공통: 네비게이션, 에러 처리, 로딩 상태

### Should (중요)
- Phase 2: EventTimeline, 차트-타임라인 동기화
- Phase 3: 캐시 히트 표시, 범례 클릭 토글
- Phase 4: 섹션 네비게이션, 다운로드 기능, 토큰 사용량 표시
- 공통: 데이터 신선도 표시, 일관성 검증 표시

### Could (선택)
- Phase 2: 줌/팬 기능, 축 선택 탭
- Phase 4: 공유 기능
- 공통: Phase 안내 카드 (홈페이지)

---

## 5. API 엔드포인트 매핑

| 페이지 | API 엔드포인트 | 메서드 | 데이터 소스 |
|--------|---------------|--------|------------|
| Phase 1 | `/api/artist/:id/summary` | GET | `artist_summary` |
| Phase 2 | `/api/batch/timeseries` | POST | `timeseries` (4축) |
| Phase 2 | `/api/artist/:id/events/:axis` | GET | `events` |
| Phase 3 | `/api/compare/:A/:B/:axis` | GET | `compare_pairs` |
| Phase 4 | `/api/report/generate` | POST | Phase 1-3 통합 |

---

## 6. 반응형 브레이크포인트

| 브레이크포인트 | 너비 | 주요 변경사항 |
|--------------|------|-------------|
| 모바일 | < 768px | 세로 스택, 가로 스크롤, 폰트 크기 축소 |
| 태블릿 | 768px - 1023px | 2열 그리드, 중간 크기 차트 |
| 데스크톱 | ≥ 1024px | 가로 배치, 큰 차트, 전체 기능 |

---

## 7. 추적성 매트릭스

| 기능 ID | FRD FR ID | API 엔드포인트 | 컴포넌트 | 우선순위 |
|---------|-----------|---------------|----------|----------|
| FEAT-HOME-001 | FR-P1-DQ-001 | - | ArtistIdInput | Must |
| FEAT-P1-001 | FR-P1-DQ-001 | GET /api/artist/:id/summary | ArtistPhase1View | Must |
| FEAT-P1-002 | FR-P1-VI-001 | - | Radar5Chart | Must |
| FEAT-P1-003 | FR-P1-VI-001 | - | SunburstChart | Must |
| FEAT-P2-001 | FR-P2-DQ-001 | POST /api/batch/timeseries | ArtistPhase2View | Must |
| FEAT-P2-002 | FR-P2-VI-001 | - | StackedAreaChart | Must |
| FEAT-P3-001 | FR-P3-DQ-001 | GET /api/compare/:A/:B/:axis | ArtistPhase3View | Must |
| FEAT-P3-004 | FR-P3-VI-001 | - | ComparisonAreaChart | Must |
| FEAT-P4-001 | FR-P4-DQ-001 | POST /api/report/generate | ArtistPhase4View | Must |
| FEAT-P4-005 | FR-P4-VI-001 | - | MarkdownReportDisplay | Must |

---

이 문서는 VID v1.0과 IA v1.0을 기반으로 작성되었으며, 실제 구현 시 React Router와 React Query를 사용하여 라우팅 및 데이터 페칭을 처리합니다.

