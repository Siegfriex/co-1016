{"ast":null,"code":"import _objectSpread from\"C:/co-1016/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * CuratorOdyssey Phase 2 - 시계열 데이터 처리 엔진\r\n * Dr. Sarah Kim's Advanced Temporal Analytics System\r\n * \r\n * 데뷔년 기준 상대 시간축, 누적 스택 계산, 성장 패턴 분석\r\n */import*as d3 from'd3';// 1. 데뷔년 기준 상대 시간축 변환\nexport const normalizeTimeAxis=(timeseriesData,debutYear)=>{if(!timeseriesData||!timeseriesData.bins)return null;return _objectSpread(_objectSpread({},timeseriesData),{},{bins:timeseriesData.bins.map(point=>_objectSpread(_objectSpread({},point),{},{t:point.year?point.year-debutYear:point.t,// 절대년도 → 상대시간 변환\nrelativeYear:point.year?point.year-debutYear:point.t})).sort((a,b)=>a.t-b.t)// 시간순 정렬 보장\n});};// 2. 4축 누적 스택 데이터 계산 (D3 Stack Layout 전처리)\nexport const calculateStackedData=timeseriesData=>{if(!timeseriesData||!timeseriesData.bins)return null;// 4축 데이터 정규화\nconst processedBins=timeseriesData.bins.map(point=>({t:point.t,제도:point.institution||point.inst||0,학술:point.academic||point.schl||0,담론:point.discourse||point.disc||0,네트워크:point.network||point.net||0}));// 누적 스택 계산을 위한 D3 Stack Layout 적용\nconst stack=d3.stack().keys(['네트워크','담론','학술','제도'])// 안정성 순서 (하단부터)\n.order(d3.stackOrderNone).offset(d3.stackOffsetNone);const stackedData=stack(processedBins);return{raw:processedBins,stacked:stackedData,maxValue:d3.max(stackedData[stackedData.length-1],d=>d[1])};};// 3. 성장 패턴 분석 (변곡점 감지, 성장률 계산)\nexport const analyzeGrowthPatterns=timeseriesData=>{if(!timeseriesData||!timeseriesData.bins||timeseriesData.bins.length<3){return{patterns:[],inflectionPoints:[],growthRates:{}};}const bins=timeseriesData.bins;const totalValues=bins.map(d=>(d.institution||0)+(d.academic||0)+(d.discourse||0)+(d.network||0));// 성장률 계산 (구간별)\nconst growthRates=[];for(let i=1;i<bins.length;i++){const prev=totalValues[i-1];const curr=totalValues[i];const timeDiff=bins[i].t-bins[i-1].t;if(prev>0&&timeDiff>0){growthRates.push({period:[bins[i-1].t,bins[i].t],rate:(curr-prev)/prev/timeDiff,// 연평균 성장률\nabsoluteGrowth:curr-prev});}}// 변곡점 감지 (2차 미분 기반)\nconst inflectionPoints=[];if(growthRates.length>=2){for(let i=1;i<growthRates.length;i++){const prevRate=growthRates[i-1].rate;const currRate=growthRates[i].rate;const acceleration=currRate-prevRate;// 가속도 변화가 임계값을 초과하면 변곡점으로 인식\nif(Math.abs(acceleration)>0.1){inflectionPoints.push({t:growthRates[i].period[0],type:acceleration>0?'가속':'감속',magnitude:Math.abs(acceleration),value:totalValues[i]});}}}// 성장 패턴 분류\nconst averageGrowthRate=d3.mean(growthRates,d=>d.rate)||0;const growthVolatility=d3.deviation(growthRates,d=>d.rate)||0;let primaryPattern='안정성장';if(averageGrowthRate>0.3)primaryPattern='급속성장';else if(averageGrowthRate<0.05)primaryPattern='정체';else if(growthVolatility>0.2)primaryPattern='변동성장';// 축별 기여도 분석\nconst axisContributions={제도:d3.mean(bins,d=>d.institution||0),학술:d3.mean(bins,d=>d.academic||0),담론:d3.mean(bins,d=>d.discourse||0),네트워크:d3.mean(bins,d=>d.network||0)};const dominantAxis=Object.entries(axisContributions).sort((_ref,_ref2)=>{let[,a]=_ref;let[,b]=_ref2;return b-a;})[0][0];return{patterns:[primaryPattern],inflectionPoints,growthRates,averageGrowthRate,growthVolatility,dominantAxis,axisContributions};};// 4. 이벤트 영향도 분석 (전후 비교, 지연 효과)\nexport const analyzeEventImpact=(timeseriesData,events)=>{if(!timeseriesData||!events||events.length===0)return{};const bins=timeseriesData.bins;const impactAnalysis={};events.forEach(event=>{const eventTime=event.t;// 이벤트 전후 데이터 추출 (기본 2년 윈도우)\nconst preWindow=2;const postWindow=3;const prePeriod=bins.filter(d=>d.t>=eventTime-preWindow&&d.t<eventTime);const postPeriod=bins.filter(d=>d.t>eventTime&&d.t<=eventTime+postWindow);if(prePeriod.length===0||postPeriod.length===0){impactAnalysis[event.id]={growth_acceleration:0,confidence:'low',reason:'insufficient_data'};return;}// 이벤트 전후 성장률 계산\nconst preAvg=d3.mean(prePeriod,d=>(d.institution||0)+(d.academic||0)+(d.discourse||0)+(d.network||0));const postAvg=d3.mean(postPeriod,d=>(d.institution||0)+(d.academic||0)+(d.discourse||0)+(d.network||0));const growthAcceleration=preAvg>0?(postAvg-preAvg)/preAvg:0;// 축별 영향 분석\nconst axisImpacts={};['institution','academic','discourse','network'].forEach(axis=>{const preAxisAvg=d3.mean(prePeriod,d=>d[axis]||0);const postAxisAvg=d3.mean(postPeriod,d=>d[axis]||0);axisImpacts[axis]=preAxisAvg>0?(postAxisAvg-preAxisAvg)/preAxisAvg:0;});const primaryAxis=Object.entries(axisImpacts).sort((_ref3,_ref4)=>{let[,a]=_ref3;let[,b]=_ref4;return Math.abs(b)-Math.abs(a);})[0][0];// 상관계수 계산 (이벤트와 성장의 연관성)\nconst correlationWindow=bins.filter(d=>d.t>=eventTime-1&&d.t<=eventTime+2);let correlationCoefficient=0;if(correlationWindow.length>2){const distances=correlationWindow.map(d=>Math.abs(d.t-eventTime));const values=correlationWindow.map(d=>(d.institution||0)+(d.academic||0)+(d.discourse||0)+(d.network||0));// 피어슨 상관계수 근사\ncorrelationCoefficient=-d3.mean(distances.map((dist,i)=>dist*values[i]))||0;}impactAnalysis[event.id]={growth_acceleration:growthAcceleration,primary_axis:{institution:'제도',academic:'학술',discourse:'담론',network:'네트워크'}[primaryAxis]||'전체',axis_impacts:{제도:axisImpacts.institution||0,학술:axisImpacts.academic||0,담론:axisImpacts.discourse||0,네트워크:axisImpacts.network||0},duration_months:postWindow*12,correlation_coefficient:correlationCoefficient,confidence:Math.abs(growthAcceleration)>0.1?'high':'medium'};});return impactAnalysis;};// 5. 데이터 보간 및 스무딩 (결측치 처리)\nexport const interpolateTimeseries=function(timeseriesData){let targetResolution=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(!timeseriesData||!timeseriesData.bins)return timeseriesData;const bins=[...timeseriesData.bins].sort((a,b)=>a.t-b.t);const minTime=Math.min(...bins.map(d=>d.t));const maxTime=Math.max(...bins.map(d=>d.t));// 목표 해상도로 시간 격자 생성\nconst timeGrid=[];for(let t=minTime;t<=maxTime;t+=targetResolution){timeGrid.push(t);}// 축별 보간 함수 생성\nconst axes=['institution','academic','discourse','network'];const interpolators={};axes.forEach(axis=>{const validPoints=bins.filter(d=>d[axis]!==undefined&&d[axis]!==null).map(d=>[d.t,d[axis]]);if(validPoints.length>=2){interpolators[axis]=d3.scaleLinear().domain(validPoints.map(d=>d[0])).range(validPoints.map(d=>d[1]));}});// 보간된 데이터 생성\nconst interpolatedBins=timeGrid.map(t=>{const interpolated={t};axes.forEach(axis=>{if(interpolators[axis]){interpolated[axis]=interpolators[axis](t);}else{interpolated[axis]=0;}});return interpolated;});return _objectSpread(_objectSpread({},timeseriesData),{},{bins:interpolatedBins,interpolated:true,originalPoints:bins.length,interpolatedPoints:interpolatedBins.length});};// 6. 성장 예측 힌트 생성 (3-5년 전망)\nexport const generateGrowthForecast=(timeseriesData,growthAnalysis)=>{if(!timeseriesData||!growthAnalysis)return null;const{growthRates,dominantAxis,averageGrowthRate}=growthAnalysis;const lastPoint=timeseriesData.bins[timeseriesData.bins.length-1];if(!lastPoint)return null;// 최근 3년 성장 트렌드 분석\nconst recentGrowth=growthRates.slice(-3);const trendSlope=recentGrowth.length>1?(recentGrowth[recentGrowth.length-1].rate-recentGrowth[0].rate)/recentGrowth.length:0;// 예측 시나리오 생성\nconst forecasts=[];const currentTotal=(lastPoint.institution||0)+(lastPoint.academic||0)+(lastPoint.discourse||0)+(lastPoint.network||0);// 보수적 시나리오 (현재 성장률 유지)\nforecasts.push({scenario:'conservative',description:'현재 성장률 유지',projectedValue:currentTotal*(1+averageGrowthRate*3),confidence:0.7,keyFactors:[dominantAxis+' 축 지속 성장']});// 낙관적 시나리오 (성장 가속화)\nif(trendSlope>0){forecasts.push({scenario:'optimistic',description:'성장 가속화 지속',projectedValue:currentTotal*(1+(averageGrowthRate+trendSlope)*3),confidence:0.5,keyFactors:['새로운 기회 창출',dominantAxis+' 축 확장']});}// 정체 시나리오\nforecasts.push({scenario:'stagnant',description:'성장 둔화',projectedValue:currentTotal*(1+averageGrowthRate*0.5*3),confidence:0.6,keyFactors:['시장 포화','경쟁 심화']});return{timeHorizon:'3년',currentValue:currentTotal,forecasts,recommendedFocus:dominantAxis,riskFactors:trendSlope<-0.1?['성장 둔화 신호']:['외부 환경 변화']};};// 7. 통합 데이터 처리 파이프라인 \nexport const processTimeseriesData=function(rawData){let events=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let debutYear=arguments.length>2?arguments[2]:undefined;try{var _rawData$bins,_interpolatedData$bin;// 1단계: 시간축 정규화\nconst normalizedData=normalizeTimeAxis(rawData,debutYear);if(!normalizedData)throw new Error('시간축 정규화 실패');// 2단계: 데이터 보간\nconst interpolatedData=interpolateTimeseries(normalizedData,0.5);// 3단계: 스택 데이터 계산\nconst stackedData=calculateStackedData(interpolatedData);// 4단계: 성장 패턴 분석\nconst growthAnalysis=analyzeGrowthPatterns(interpolatedData);// 5단계: 이벤트 영향 분석\nconst eventImpactAnalysis=analyzeEventImpact(interpolatedData,events);// 6단계: 미래 예측\nconst growthForecast=generateGrowthForecast(interpolatedData,growthAnalysis);return{processed:true,timestamp:new Date().toISOString(),data:{timeseries:interpolatedData,stacked:stackedData,analysis:growthAnalysis,eventImpacts:eventImpactAnalysis,forecast:growthForecast},metadata:{originalPoints:(rawData===null||rawData===void 0?void 0:(_rawData$bins=rawData.bins)===null||_rawData$bins===void 0?void 0:_rawData$bins.length)||0,processedPoints:(interpolatedData===null||interpolatedData===void 0?void 0:(_interpolatedData$bin=interpolatedData.bins)===null||_interpolatedData$bin===void 0?void 0:_interpolatedData$bin.length)||0,eventsAnalyzed:(events===null||events===void 0?void 0:events.length)||0,processingTime:Date.now()}};}catch(error){console.error('Timeseries processing error:',error);return{processed:false,error:error.message,timestamp:new Date().toISOString()};}};export default{normalizeTimeAxis,calculateStackedData,analyzeGrowthPatterns,analyzeEventImpact,interpolateTimeseries,generateGrowthForecast,processTimeseriesData};","map":{"version":3,"names":["d3","normalizeTimeAxis","timeseriesData","debutYear","bins","_objectSpread","map","point","t","year","relativeYear","sort","a","b","calculateStackedData","processedBins","제도","institution","inst","학술","academic","schl","담론","discourse","disc","네트워크","network","net","stack","keys","order","stackOrderNone","offset","stackOffsetNone","stackedData","raw","stacked","maxValue","max","length","d","analyzeGrowthPatterns","patterns","inflectionPoints","growthRates","totalValues","i","prev","curr","timeDiff","push","period","rate","absoluteGrowth","prevRate","currRate","acceleration","Math","abs","type","magnitude","value","averageGrowthRate","mean","growthVolatility","deviation","primaryPattern","axisContributions","dominantAxis","Object","entries","_ref","_ref2","analyzeEventImpact","events","impactAnalysis","forEach","event","eventTime","preWindow","postWindow","prePeriod","filter","postPeriod","id","growth_acceleration","confidence","reason","preAvg","postAvg","growthAcceleration","axisImpacts","axis","preAxisAvg","postAxisAvg","primaryAxis","_ref3","_ref4","correlationWindow","correlationCoefficient","distances","values","dist","primary_axis","axis_impacts","duration_months","correlation_coefficient","interpolateTimeseries","targetResolution","arguments","undefined","minTime","min","maxTime","timeGrid","axes","interpolators","validPoints","scaleLinear","domain","range","interpolatedBins","interpolated","originalPoints","interpolatedPoints","generateGrowthForecast","growthAnalysis","lastPoint","recentGrowth","slice","trendSlope","forecasts","currentTotal","scenario","description","projectedValue","keyFactors","timeHorizon","currentValue","recommendedFocus","riskFactors","processTimeseriesData","rawData","_rawData$bins","_interpolatedData$bin","normalizedData","Error","interpolatedData","eventImpactAnalysis","growthForecast","processed","timestamp","Date","toISOString","data","timeseries","analysis","eventImpacts","forecast","metadata","processedPoints","eventsAnalyzed","processingTime","now","error","console","message"],"sources":["C:/co-1016/src/utils/timeseriesProcessor.js"],"sourcesContent":["/**\r\n * CuratorOdyssey Phase 2 - 시계열 데이터 처리 엔진\r\n * Dr. Sarah Kim's Advanced Temporal Analytics System\r\n * \r\n * 데뷔년 기준 상대 시간축, 누적 스택 계산, 성장 패턴 분석\r\n */\r\n\r\nimport * as d3 from 'd3';\r\n\r\n// 1. 데뷔년 기준 상대 시간축 변환\r\nexport const normalizeTimeAxis = (timeseriesData, debutYear) => {\r\n  if (!timeseriesData || !timeseriesData.bins) return null;\r\n\r\n  return {\r\n    ...timeseriesData,\r\n    bins: timeseriesData.bins.map(point => ({\r\n      ...point,\r\n      t: point.year ? point.year - debutYear : point.t, // 절대년도 → 상대시간 변환\r\n      relativeYear: point.year ? point.year - debutYear : point.t\r\n    })).sort((a, b) => a.t - b.t) // 시간순 정렬 보장\r\n  };\r\n};\r\n\r\n// 2. 4축 누적 스택 데이터 계산 (D3 Stack Layout 전처리)\r\nexport const calculateStackedData = (timeseriesData) => {\r\n  if (!timeseriesData || !timeseriesData.bins) return null;\r\n\r\n  // 4축 데이터 정규화\r\n  const processedBins = timeseriesData.bins.map(point => ({\r\n    t: point.t,\r\n    제도: point.institution || point.inst || 0,\r\n    학술: point.academic || point.schl || 0,\r\n    담론: point.discourse || point.disc || 0,\r\n    네트워크: point.network || point.net || 0\r\n  }));\r\n\r\n  // 누적 스택 계산을 위한 D3 Stack Layout 적용\r\n  const stack = d3.stack()\r\n    .keys(['네트워크', '담론', '학술', '제도']) // 안정성 순서 (하단부터)\r\n    .order(d3.stackOrderNone)\r\n    .offset(d3.stackOffsetNone);\r\n\r\n  const stackedData = stack(processedBins);\r\n\r\n  return {\r\n    raw: processedBins,\r\n    stacked: stackedData,\r\n    maxValue: d3.max(stackedData[stackedData.length - 1], d => d[1])\r\n  };\r\n};\r\n\r\n// 3. 성장 패턴 분석 (변곡점 감지, 성장률 계산)\r\nexport const analyzeGrowthPatterns = (timeseriesData) => {\r\n  if (!timeseriesData || !timeseriesData.bins || timeseriesData.bins.length < 3) {\r\n    return { patterns: [], inflectionPoints: [], growthRates: {} };\r\n  }\r\n\r\n  const bins = timeseriesData.bins;\r\n  const totalValues = bins.map(d => \r\n    (d.institution || 0) + (d.academic || 0) + (d.discourse || 0) + (d.network || 0)\r\n  );\r\n\r\n  // 성장률 계산 (구간별)\r\n  const growthRates = [];\r\n  for (let i = 1; i < bins.length; i++) {\r\n    const prev = totalValues[i - 1];\r\n    const curr = totalValues[i];\r\n    const timeDiff = bins[i].t - bins[i - 1].t;\r\n    \r\n    if (prev > 0 && timeDiff > 0) {\r\n      growthRates.push({\r\n        period: [bins[i - 1].t, bins[i].t],\r\n        rate: ((curr - prev) / prev) / timeDiff, // 연평균 성장률\r\n        absoluteGrowth: curr - prev\r\n      });\r\n    }\r\n  }\r\n\r\n  // 변곡점 감지 (2차 미분 기반)\r\n  const inflectionPoints = [];\r\n  if (growthRates.length >= 2) {\r\n    for (let i = 1; i < growthRates.length; i++) {\r\n      const prevRate = growthRates[i - 1].rate;\r\n      const currRate = growthRates[i].rate;\r\n      const acceleration = currRate - prevRate;\r\n      \r\n      // 가속도 변화가 임계값을 초과하면 변곡점으로 인식\r\n      if (Math.abs(acceleration) > 0.1) {\r\n        inflectionPoints.push({\r\n          t: growthRates[i].period[0],\r\n          type: acceleration > 0 ? '가속' : '감속',\r\n          magnitude: Math.abs(acceleration),\r\n          value: totalValues[i]\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // 성장 패턴 분류\r\n  const averageGrowthRate = d3.mean(growthRates, d => d.rate) || 0;\r\n  const growthVolatility = d3.deviation(growthRates, d => d.rate) || 0;\r\n\r\n  let primaryPattern = '안정성장';\r\n  if (averageGrowthRate > 0.3) primaryPattern = '급속성장';\r\n  else if (averageGrowthRate < 0.05) primaryPattern = '정체';\r\n  else if (growthVolatility > 0.2) primaryPattern = '변동성장';\r\n\r\n  // 축별 기여도 분석\r\n  const axisContributions = {\r\n    제도: d3.mean(bins, d => d.institution || 0),\r\n    학술: d3.mean(bins, d => d.academic || 0),\r\n    담론: d3.mean(bins, d => d.discourse || 0),\r\n    네트워크: d3.mean(bins, d => d.network || 0)\r\n  };\r\n\r\n  const dominantAxis = Object.entries(axisContributions)\r\n    .sort(([,a], [,b]) => b - a)[0][0];\r\n\r\n  return {\r\n    patterns: [primaryPattern],\r\n    inflectionPoints,\r\n    growthRates,\r\n    averageGrowthRate,\r\n    growthVolatility,\r\n    dominantAxis,\r\n    axisContributions\r\n  };\r\n};\r\n\r\n// 4. 이벤트 영향도 분석 (전후 비교, 지연 효과)\r\nexport const analyzeEventImpact = (timeseriesData, events) => {\r\n  if (!timeseriesData || !events || events.length === 0) return {};\r\n\r\n  const bins = timeseriesData.bins;\r\n  const impactAnalysis = {};\r\n\r\n  events.forEach(event => {\r\n    const eventTime = event.t;\r\n    \r\n    // 이벤트 전후 데이터 추출 (기본 2년 윈도우)\r\n    const preWindow = 2;\r\n    const postWindow = 3;\r\n    \r\n    const prePeriod = bins.filter(d => \r\n      d.t >= (eventTime - preWindow) && d.t < eventTime\r\n    );\r\n    const postPeriod = bins.filter(d => \r\n      d.t > eventTime && d.t <= (eventTime + postWindow)\r\n    );\r\n\r\n    if (prePeriod.length === 0 || postPeriod.length === 0) {\r\n      impactAnalysis[event.id] = { \r\n        growth_acceleration: 0, \r\n        confidence: 'low',\r\n        reason: 'insufficient_data' \r\n      };\r\n      return;\r\n    }\r\n\r\n    // 이벤트 전후 성장률 계산\r\n    const preAvg = d3.mean(prePeriod, d => \r\n      (d.institution || 0) + (d.academic || 0) + (d.discourse || 0) + (d.network || 0)\r\n    );\r\n    const postAvg = d3.mean(postPeriod, d => \r\n      (d.institution || 0) + (d.academic || 0) + (d.discourse || 0) + (d.network || 0)\r\n    );\r\n\r\n    const growthAcceleration = preAvg > 0 ? (postAvg - preAvg) / preAvg : 0;\r\n\r\n    // 축별 영향 분석\r\n    const axisImpacts = {};\r\n    ['institution', 'academic', 'discourse', 'network'].forEach(axis => {\r\n      const preAxisAvg = d3.mean(prePeriod, d => d[axis] || 0);\r\n      const postAxisAvg = d3.mean(postPeriod, d => d[axis] || 0);\r\n      axisImpacts[axis] = preAxisAvg > 0 ? (postAxisAvg - preAxisAvg) / preAxisAvg : 0;\r\n    });\r\n\r\n    const primaryAxis = Object.entries(axisImpacts)\r\n      .sort(([,a], [,b]) => Math.abs(b) - Math.abs(a))[0][0];\r\n\r\n    // 상관계수 계산 (이벤트와 성장의 연관성)\r\n    const correlationWindow = bins.filter(d => \r\n      d.t >= (eventTime - 1) && d.t <= (eventTime + 2)\r\n    );\r\n    \r\n    let correlationCoefficient = 0;\r\n    if (correlationWindow.length > 2) {\r\n      const distances = correlationWindow.map(d => Math.abs(d.t - eventTime));\r\n      const values = correlationWindow.map(d => \r\n        (d.institution || 0) + (d.academic || 0) + (d.discourse || 0) + (d.network || 0)\r\n      );\r\n      \r\n      // 피어슨 상관계수 근사\r\n      correlationCoefficient = -d3.mean(distances.map((dist, i) => dist * values[i])) || 0;\r\n    }\r\n\r\n    impactAnalysis[event.id] = {\r\n      growth_acceleration: growthAcceleration,\r\n      primary_axis: {\r\n        institution: '제도',\r\n        academic: '학술', \r\n        discourse: '담론',\r\n        network: '네트워크'\r\n      }[primaryAxis] || '전체',\r\n      axis_impacts: {\r\n        제도: axisImpacts.institution || 0,\r\n        학술: axisImpacts.academic || 0,\r\n        담론: axisImpacts.discourse || 0,\r\n        네트워크: axisImpacts.network || 0\r\n      },\r\n      duration_months: postWindow * 12,\r\n      correlation_coefficient: correlationCoefficient,\r\n      confidence: Math.abs(growthAcceleration) > 0.1 ? 'high' : 'medium'\r\n    };\r\n  });\r\n\r\n  return impactAnalysis;\r\n};\r\n\r\n// 5. 데이터 보간 및 스무딩 (결측치 처리)\r\nexport const interpolateTimeseries = (timeseriesData, targetResolution = 1) => {\r\n  if (!timeseriesData || !timeseriesData.bins) return timeseriesData;\r\n\r\n  const bins = [...timeseriesData.bins].sort((a, b) => a.t - b.t);\r\n  const minTime = Math.min(...bins.map(d => d.t));\r\n  const maxTime = Math.max(...bins.map(d => d.t));\r\n  \r\n  // 목표 해상도로 시간 격자 생성\r\n  const timeGrid = [];\r\n  for (let t = minTime; t <= maxTime; t += targetResolution) {\r\n    timeGrid.push(t);\r\n  }\r\n\r\n  // 축별 보간 함수 생성\r\n  const axes = ['institution', 'academic', 'discourse', 'network'];\r\n  const interpolators = {};\r\n  \r\n  axes.forEach(axis => {\r\n    const validPoints = bins\r\n      .filter(d => d[axis] !== undefined && d[axis] !== null)\r\n      .map(d => [d.t, d[axis]]);\r\n    \r\n    if (validPoints.length >= 2) {\r\n      interpolators[axis] = d3.scaleLinear()\r\n        .domain(validPoints.map(d => d[0]))\r\n        .range(validPoints.map(d => d[1]));\r\n    }\r\n  });\r\n\r\n  // 보간된 데이터 생성\r\n  const interpolatedBins = timeGrid.map(t => {\r\n    const interpolated = { t };\r\n    \r\n    axes.forEach(axis => {\r\n      if (interpolators[axis]) {\r\n        interpolated[axis] = interpolators[axis](t);\r\n      } else {\r\n        interpolated[axis] = 0;\r\n      }\r\n    });\r\n    \r\n    return interpolated;\r\n  });\r\n\r\n  return {\r\n    ...timeseriesData,\r\n    bins: interpolatedBins,\r\n    interpolated: true,\r\n    originalPoints: bins.length,\r\n    interpolatedPoints: interpolatedBins.length\r\n  };\r\n};\r\n\r\n// 6. 성장 예측 힌트 생성 (3-5년 전망)\r\nexport const generateGrowthForecast = (timeseriesData, growthAnalysis) => {\r\n  if (!timeseriesData || !growthAnalysis) return null;\r\n\r\n  const { growthRates, dominantAxis, averageGrowthRate } = growthAnalysis;\r\n  const lastPoint = timeseriesData.bins[timeseriesData.bins.length - 1];\r\n  \r\n  if (!lastPoint) return null;\r\n\r\n  // 최근 3년 성장 트렌드 분석\r\n  const recentGrowth = growthRates.slice(-3);\r\n  const trendSlope = recentGrowth.length > 1 ? \r\n    (recentGrowth[recentGrowth.length - 1].rate - recentGrowth[0].rate) / recentGrowth.length : 0;\r\n\r\n  // 예측 시나리오 생성\r\n  const forecasts = [];\r\n  const currentTotal = (lastPoint.institution || 0) + (lastPoint.academic || 0) + \r\n                     (lastPoint.discourse || 0) + (lastPoint.network || 0);\r\n\r\n  // 보수적 시나리오 (현재 성장률 유지)\r\n  forecasts.push({\r\n    scenario: 'conservative',\r\n    description: '현재 성장률 유지',\r\n    projectedValue: currentTotal * (1 + averageGrowthRate * 3),\r\n    confidence: 0.7,\r\n    keyFactors: [dominantAxis + ' 축 지속 성장']\r\n  });\r\n\r\n  // 낙관적 시나리오 (성장 가속화)\r\n  if (trendSlope > 0) {\r\n    forecasts.push({\r\n      scenario: 'optimistic',\r\n      description: '성장 가속화 지속',\r\n      projectedValue: currentTotal * (1 + (averageGrowthRate + trendSlope) * 3),\r\n      confidence: 0.5,\r\n      keyFactors: ['새로운 기회 창출', dominantAxis + ' 축 확장']\r\n    });\r\n  }\r\n\r\n  // 정체 시나리오\r\n  forecasts.push({\r\n    scenario: 'stagnant', \r\n    description: '성장 둔화',\r\n    projectedValue: currentTotal * (1 + averageGrowthRate * 0.5 * 3),\r\n    confidence: 0.6,\r\n    keyFactors: ['시장 포화', '경쟁 심화']\r\n  });\r\n\r\n  return {\r\n    timeHorizon: '3년',\r\n    currentValue: currentTotal,\r\n    forecasts,\r\n    recommendedFocus: dominantAxis,\r\n    riskFactors: trendSlope < -0.1 ? ['성장 둔화 신호'] : ['외부 환경 변화']\r\n  };\r\n};\r\n\r\n// 7. 통합 데이터 처리 파이프라인 \r\nexport const processTimeseriesData = (rawData, events = [], debutYear) => {\r\n  try {\r\n    // 1단계: 시간축 정규화\r\n    const normalizedData = normalizeTimeAxis(rawData, debutYear);\r\n    if (!normalizedData) throw new Error('시간축 정규화 실패');\r\n\r\n    // 2단계: 데이터 보간\r\n    const interpolatedData = interpolateTimeseries(normalizedData, 0.5);\r\n\r\n    // 3단계: 스택 데이터 계산\r\n    const stackedData = calculateStackedData(interpolatedData);\r\n\r\n    // 4단계: 성장 패턴 분석\r\n    const growthAnalysis = analyzeGrowthPatterns(interpolatedData);\r\n\r\n    // 5단계: 이벤트 영향 분석\r\n    const eventImpactAnalysis = analyzeEventImpact(interpolatedData, events);\r\n\r\n    // 6단계: 미래 예측\r\n    const growthForecast = generateGrowthForecast(interpolatedData, growthAnalysis);\r\n\r\n    return {\r\n      processed: true,\r\n      timestamp: new Date().toISOString(),\r\n      data: {\r\n        timeseries: interpolatedData,\r\n        stacked: stackedData,\r\n        analysis: growthAnalysis,\r\n        eventImpacts: eventImpactAnalysis,\r\n        forecast: growthForecast\r\n      },\r\n      metadata: {\r\n        originalPoints: rawData?.bins?.length || 0,\r\n        processedPoints: interpolatedData?.bins?.length || 0,\r\n        eventsAnalyzed: events?.length || 0,\r\n        processingTime: Date.now()\r\n      }\r\n    };\r\n\r\n  } catch (error) {\r\n    console.error('Timeseries processing error:', error);\r\n    return {\r\n      processed: false,\r\n      error: error.message,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n  }\r\n};\r\n\r\nexport default {\r\n  normalizeTimeAxis,\r\n  calculateStackedData, \r\n  analyzeGrowthPatterns,\r\n  analyzeEventImpact,\r\n  interpolateTimeseries,\r\n  generateGrowthForecast,\r\n  processTimeseriesData\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}