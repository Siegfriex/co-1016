{"ast":null,"code":"var _jsxFileName = \"C:\\\\CuratorOdyssey\\\\src\\\\components\\\\charts\\\\EventTimeline.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EventTimeline = ({\n  events = [],\n  timeRange = [0, 20],\n  hoveredTime,\n  hoveredEvent,\n  onEventHover,\n  onEventClick,\n  impactAnalysis = {},\n  width = 800,\n  height = 120\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  const tooltipRef = useRef(null);\n  useEffect(() => {\n    if (!events || events.length === 0 || !svgRef.current) return;\n\n    // Ï∞®Ìä∏ Í∏∞Î≥∏ ÏÑ§Ï†ï (Dr. Sarah KimÏùò ÏãúÍ∞ÑÏ†Å UI ÏÑ§Í≥Ñ)\n    const margin = {\n      top: 20,\n      right: 80,\n      bottom: 40,\n      left: 80\n    };\n    const innerWidth = width - margin.left - margin.right;\n    const innerHeight = height - margin.top - margin.bottom;\n\n    // Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖÎ≥Ñ ÏÉâÏÉÅ Î∞è ÏïÑÏù¥ÏΩò Îß§Ìïë (DYSS ÌôïÏû• ÌåîÎ†àÌä∏)\n    const eventTypeStyles = {\n      'Ï†ÑÏãú': {\n        color: '#8B5CF6',\n        // DYSS Primary\n        icon: 'üé®',\n        importance: 0.8\n      },\n      'ÏàòÏÉÅ': {\n        color: '#DC2626',\n        // Red for achievements\n        icon: 'üèÜ',\n        importance: 1.0\n      },\n      'Ï∂úÍ∞Ñ': {\n        color: '#059669',\n        // Green for publications\n        icon: 'üìñ',\n        importance: 0.6\n      },\n      'ÌòëÏóÖ': {\n        color: '#F59E0B',\n        // Amber for collaborations\n        icon: 'ü§ù',\n        importance: 0.7\n      },\n      'ÍµêÏú°': {\n        color: '#7C3AED',\n        // DYSS Primary 600\n        icon: 'üéì',\n        importance: 0.5\n      },\n      'ÎπÑÏóîÎÇ†Î†à': {\n        color: '#DC2626',\n        // Red for major events\n        icon: 'üåç',\n        importance: 1.0\n      }\n    };\n\n    // ÏãúÍ∞ÑÏ∂ï Ïä§ÏºÄÏùº\n    const xScale = d3.scaleLinear().domain(timeRange).range([0, innerWidth]);\n\n    // Ïù¥Î≤§Ìä∏Î•º ÏãúÍ∞ÑÏàúÏúºÎ°ú Ï†ïÎ†¨ÌïòÍ≥† Í≤πÏπ® Î∞©ÏßÄ Î°úÏßÅ\n    const sortedEvents = [...events].sort((a, b) => a.t - b.t);\n    const eventLanes = []; // Ïù¥Î≤§Ìä∏ Î†àÏù∏ (Í≤πÏπ® Î∞©ÏßÄ)\n\n    sortedEvents.forEach((event, i) => {\n      let laneIndex = 0;\n      let placed = false;\n\n      // Í≤πÏπòÏßÄ ÏïäÎäî Î†àÏù∏ Ï∞æÍ∏∞\n      while (!placed) {\n        if (!eventLanes[laneIndex]) {\n          eventLanes[laneIndex] = [];\n        }\n        const lastEventInLane = eventLanes[laneIndex][eventLanes[laneIndex].length - 1];\n        if (!lastEventInLane || xScale(event.t) - xScale(lastEventInLane.t) > 40) {\n          eventLanes[laneIndex].push(event);\n          event.lane = laneIndex;\n          placed = true;\n        } else {\n          laneIndex++;\n        }\n      }\n    });\n    const maxLanes = eventLanes.length;\n    const laneHeight = innerHeight / Math.max(maxLanes, 1);\n\n    // SVG ÏÑ§Ï†ï\n    const svg = d3.select(svgRef.current).attr('width', width).attr('height', height).attr('viewBox', `0 0 ${width} ${height}`).style('font-family', 'var(--dyss-font-family-primary)');\n    svg.selectAll('*').remove();\n    const g = svg.append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    // Ìà¥ÌåÅ ÏÑ§Ï†ï\n    const tooltip = d3.select(tooltipRef.current);\n\n    // ÏãúÍ∞ÑÏ∂ï Î†åÎçîÎßÅ\n    const timeAxis = d3.axisBottom(xScale).tickFormat(d => `+${d}ÎÖÑ`).ticks(Math.min(timeRange[1] - timeRange[0], 10));\n    g.append('g').attr('class', 'time-axis').attr('transform', `translate(0, ${innerHeight + 10})`).call(timeAxis).style('color', '#6B7280').style('font-size', '12px');\n\n    // Î∞∞Í≤Ω ÏãúÍ∞Ñ Í∑∏Î¶¨Îìú (ÏãúÍ∞ÑÏ†Å Îß•ÎùΩ Í∞ïÌôî)\n    g.selectAll('.time-grid').data(xScale.ticks(Math.min(timeRange[1] - timeRange[0], 20))).enter().append('line').attr('class', 'time-grid').attr('x1', d => xScale(d)).attr('x2', d => xScale(d)).attr('y1', 0).attr('y2', innerHeight).style('stroke', '#F3F4F6').style('stroke-width', '1px').style('opacity', 0.7);\n\n    // Ìò∏Î≤Ñ ÌÉÄÏûÑÎùºÏù∏ (StackedAreaChartÏôÄ ÎèôÍ∏∞Ìôî)\n    if (hoveredTime !== null && hoveredTime !== undefined) {\n      g.append('line').attr('class', 'hover-timeline').attr('x1', xScale(hoveredTime)).attr('x2', xScale(hoveredTime)).attr('y1', -10).attr('y2', innerHeight + 10).style('stroke', '#8B5CF6').style('stroke-width', '2px').style('stroke-dasharray', '4,4').style('opacity', 0.8);\n    }\n\n    // Ïù¥Î≤§Ìä∏ Í∑∏Î£πÌôî Î∞è ÏòÅÌñ• Î∂ÑÏÑù ÌëúÏãú\n    const eventGroups = g.selectAll('.event-group').data(sortedEvents).enter().append('g').attr('class', 'event-group').attr('transform', d => {\n      const x = xScale(d.t);\n      const y = d.lane * laneHeight + laneHeight / 2;\n      return `translate(${x}, ${y})`;\n    });\n\n    // Ïù¥Î≤§Ìä∏ ÏòÅÌñ• Î∂ÑÏÑù Î∞∞Í≤Ω (ÏÑ±Ïû• Í∞ÄÏÜçÌôî Íµ¨Í∞Ñ ÌëúÏãú)\n    eventGroups.each(function (event) {\n      const group = d3.select(this);\n      const impactData = impactAnalysis[event.id];\n      if (impactData && impactData.growth_acceleration > 0.1) {\n        var _eventTypeStyles$even;\n        // ÏòÅÌñ• Íµ¨Í∞Ñ Î∞∞Í≤Ω (Ïù¥Î≤§Ìä∏ Ï†ÑÌõÑ 2ÎÖÑ)\n        const impactWidth = xScale(Math.min(event.t + 3, timeRange[1])) - xScale(Math.max(event.t - 1, timeRange[0]));\n        const impactX = xScale(Math.max(event.t - 1, timeRange[0])) - xScale(event.t);\n        group.append('rect').attr('class', 'impact-background').attr('x', impactX).attr('y', -laneHeight / 2).attr('width', impactWidth).attr('height', laneHeight).style('fill', ((_eventTypeStyles$even = eventTypeStyles[event.type]) === null || _eventTypeStyles$even === void 0 ? void 0 : _eventTypeStyles$even.color) || '#8B5CF6').style('opacity', 0.1).style('rx', 4);\n      }\n    });\n\n    // Ïù¥Î≤§Ìä∏ Ïó∞Í≤∞ÏÑ† (ÏãúÍ∞ÑÏ†Å Ïó∞ÏÜçÏÑ± ÌëúÏãú)\n    eventGroups.append('line').attr('class', 'event-stem').attr('x1', 0).attr('x2', 0).attr('y1', -laneHeight / 4).attr('y2', laneHeight / 4).style('stroke', d => {\n      var _eventTypeStyles$d$ty;\n      return ((_eventTypeStyles$d$ty = eventTypeStyles[d.type]) === null || _eventTypeStyles$d$ty === void 0 ? void 0 : _eventTypeStyles$d$ty.color) || '#8B5CF6';\n    }).style('stroke-width', d => {\n      var _eventTypeStyles$d$ty2;\n      const importance = ((_eventTypeStyles$d$ty2 = eventTypeStyles[d.type]) === null || _eventTypeStyles$d$ty2 === void 0 ? void 0 : _eventTypeStyles$d$ty2.importance) || 0.5;\n      return hoveredEvent === d.id ? importance * 4 + 2 : importance * 2 + 1;\n    }).style('opacity', d => hoveredEvent === d.id ? 1.0 : 0.7);\n\n    // Ïù¥Î≤§Ìä∏ ÎßàÏª§ (Ï§ëÏöîÎèÑÎ≥Ñ ÌÅ¨Í∏∞ Ï∞®Î≥ÑÌôî)\n    eventGroups.append('circle').attr('class', 'event-marker').attr('r', d => {\n      var _eventTypeStyles$d$ty3;\n      const importance = ((_eventTypeStyles$d$ty3 = eventTypeStyles[d.type]) === null || _eventTypeStyles$d$ty3 === void 0 ? void 0 : _eventTypeStyles$d$ty3.importance) || 0.5;\n      const baseSize = importance * 6 + 4;\n      return hoveredEvent === d.id ? baseSize * 1.3 : baseSize;\n    }).style('fill', d => {\n      var _eventTypeStyles$d$ty4;\n      return ((_eventTypeStyles$d$ty4 = eventTypeStyles[d.type]) === null || _eventTypeStyles$d$ty4 === void 0 ? void 0 : _eventTypeStyles$d$ty4.color) || '#8B5CF6';\n    }).style('stroke', '#FFFFFF').style('stroke-width', '2px').style('cursor', 'pointer').style('transition', 'all 0.2s ease').on('mouseover', (event, d) => {\n      if (onEventHover) onEventHover(d.id);\n\n      // Ïù¥Î≤§Ìä∏ ÏÉÅÏÑ∏ Ìà¥ÌåÅ ÌëúÏãú\n      tooltip.style('display', 'block').html(formatEventTooltip(d, impactAnalysis[d.id]));\n    }).on('mousemove', event => {\n      tooltip.style('left', `${event.pageX + 15}px`).style('top', `${event.pageY - 10}px`);\n    }).on('mouseout', () => {\n      if (onEventHover) onEventHover(null);\n      tooltip.style('display', 'none');\n    }).on('click', (event, d) => {\n      if (onEventClick) onEventClick(d);\n    });\n\n    // Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖ ÏïÑÏù¥ÏΩò (Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ)\n    eventGroups.append('text').attr('class', 'event-icon').attr('text-anchor', 'middle').attr('dy', '0.35em').style('font-size', d => {\n      var _eventTypeStyles$d$ty5;\n      const importance = ((_eventTypeStyles$d$ty5 = eventTypeStyles[d.type]) === null || _eventTypeStyles$d$ty5 === void 0 ? void 0 : _eventTypeStyles$d$ty5.importance) || 0.5;\n      return `${importance * 8 + 8}px`;\n    }).style('pointer-events', 'none').style('user-select', 'none').text(d => {\n      var _eventTypeStyles$d$ty6;\n      return ((_eventTypeStyles$d$ty6 = eventTypeStyles[d.type]) === null || _eventTypeStyles$d$ty6 === void 0 ? void 0 : _eventTypeStyles$d$ty6.icon) || '‚óè';\n    });\n\n    // Ïù¥Î≤§Ìä∏ Î†àÏù¥Î∏î (Ï§ëÏöî Ïù¥Î≤§Ìä∏Îßå ÌëúÏãú)\n    eventGroups.filter(d => {\n      var _eventTypeStyles$d$ty7;\n      return (((_eventTypeStyles$d$ty7 = eventTypeStyles[d.type]) === null || _eventTypeStyles$d$ty7 === void 0 ? void 0 : _eventTypeStyles$d$ty7.importance) || 0) > 0.7;\n    }).append('text').attr('class', 'event-label').attr('x', 0).attr('y', d => d.lane % 2 === 0 ? -laneHeight / 2 - 5 : laneHeight / 2 + 15).attr('text-anchor', 'middle').style('font-size', '10px').style('font-weight', '500').style('fill', '#374151').style('pointer-events', 'none').text(d => {\n      const words = d.title.split(' ');\n      return words.length > 2 ? words.slice(0, 2).join(' ') + '...' : d.title;\n    });\n\n    // ÏÑ±Ïû• Í∞ÄÏÜçÌôî Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ (Ï†ïÎüâÏ†Å Î∂ÑÏÑù ÌëúÏãú)\n    eventGroups.filter(d => impactAnalysis[d.id] && impactAnalysis[d.id].growth_acceleration > 0.2).append('path').attr('class', 'growth-indicator').attr('d', 'M-3,-8 L3,-8 L0,-12 Z') // ÏúÑÏ™Ω ÌôîÏÇ¥Ìëú\n    .style('fill', '#10B981').style('opacity', 0.8);\n\n    // Î≤îÎ°Ä (Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖÎ≥Ñ)\n    const legend = g.append('g').attr('class', 'event-legend').attr('transform', `translate(${innerWidth - 200}, -10)`);\n    const legendItems = Object.entries(eventTypeStyles).filter(([type]) => events.some(e => e.type === type));\n    legendItems.forEach(([type, style], i) => {\n      const legendItem = legend.append('g').attr('transform', `translate(${i % 3 * 70}, ${Math.floor(i / 3) * 20})`);\n      legendItem.append('circle').attr('r', 4).style('fill', style.color);\n      legendItem.append('text').attr('x', 8).attr('y', 0).attr('dy', '0.35em').style('font-size', '10px').style('font-weight', '500').style('fill', '#374151').text(type);\n    });\n  }, [events, timeRange, hoveredTime, hoveredEvent, impactAnalysis]);\n\n  // Ïù¥Î≤§Ìä∏ ÏÉÅÏÑ∏ Ìà¥ÌåÅ Ìè¨Îß§ÌÑ∞ (ÏòÅÌñ• Î∂ÑÏÑù Ìè¨Ìï®)\n  const formatEventTooltip = (event, impact) => {\n    let html = `\n      <strong>${event.title}</strong><br/>\n      <strong>ÏãúÏ†ê:</strong> +${event.t}ÎÖÑ (${new Date(new Date().getFullYear() - (20 - event.t)).getFullYear()}ÎÖÑ)<br/>\n      <strong>Ïú†Ìòï:</strong> ${event.type}<br/>\n      <strong>Í∏∞Í¥Ä:</strong> ${event.org || 'ÎØ∏ÏÉÅ'}<br/>\n    `;\n    if (impact) {\n      html += `\n        <hr/>\n        <strong>üìà ÏÑ±Ïû• ÏòÅÌñ• Î∂ÑÏÑù:</strong><br/>\n        <strong>ÏÑ±Ïû• Í∞ÄÏÜçÎèÑ:</strong> +${(impact.growth_acceleration * 100).toFixed(1)}%<br/>\n        <strong>ÏòÅÌñ• ÏßÄÏÜçÍ∏∞Í∞Ñ:</strong> ${impact.duration_months || 12}Í∞úÏõî<br/>\n        <strong>Ï£ºÏöî Ï∂ï ÏòÅÌñ•:</strong> ${impact.primary_axis || 'Ï†ÑÏ≤¥'}\n      `;\n      if (impact.correlation_coefficient) {\n        html += `<br/><strong>ÏÉÅÍ¥ÄÍ≥ÑÏàò:</strong> ${impact.correlation_coefficient.toFixed(3)}`;\n      }\n    }\n    html += `<hr/><small>ÌÅ¥Î¶≠ÌïòÏó¨ ÏÉÅÏÑ∏ Î∂ÑÏÑù Î≥¥Í∏∞</small>`;\n    return html;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"curator-chart-wrapper\",\n    style: {\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tooltipRef,\n      className: \"curator-tooltip\",\n      style: {\n        position: 'absolute',\n        display: 'none',\n        zIndex: 1000\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 323,\n    columnNumber: 5\n  }, this);\n};\n_s(EventTimeline, \"jyg6kBjq0Vkx+9H7Hda18hFrSo0=\");\n_c = EventTimeline;\nexport default EventTimeline;\nvar _c;\n$RefreshReg$(_c, \"EventTimeline\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","EventTimeline","events","timeRange","hoveredTime","hoveredEvent","onEventHover","onEventClick","impactAnalysis","width","height","_s","svgRef","tooltipRef","length","current","margin","top","right","bottom","left","innerWidth","innerHeight","eventTypeStyles","color","icon","importance","xScale","scaleLinear","domain","range","sortedEvents","sort","a","b","t","eventLanes","forEach","event","i","laneIndex","placed","lastEventInLane","push","lane","maxLanes","laneHeight","Math","max","svg","select","attr","style","selectAll","remove","g","append","tooltip","timeAxis","axisBottom","tickFormat","d","ticks","min","call","data","enter","undefined","eventGroups","x","y","each","group","impactData","id","growth_acceleration","_eventTypeStyles$even","impactWidth","impactX","type","_eventTypeStyles$d$ty","_eventTypeStyles$d$ty2","_eventTypeStyles$d$ty3","baseSize","_eventTypeStyles$d$ty4","on","html","formatEventTooltip","pageX","pageY","_eventTypeStyles$d$ty5","text","_eventTypeStyles$d$ty6","filter","_eventTypeStyles$d$ty7","words","title","split","slice","join","legend","legendItems","Object","entries","some","e","legendItem","floor","impact","Date","getFullYear","org","toFixed","duration_months","primary_axis","correlation_coefficient","className","position","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","display","zIndex","_c","$RefreshReg$"],"sources":["C:/CuratorOdyssey/src/components/charts/EventTimeline.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nconst EventTimeline = ({ \r\n  events = [], \r\n  timeRange = [0, 20],\r\n  hoveredTime,\r\n  hoveredEvent,\r\n  onEventHover,\r\n  onEventClick,\r\n  impactAnalysis = {},\r\n  width = 800,\r\n  height = 120\r\n}) => {\r\n  const svgRef = useRef(null);\r\n  const tooltipRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!events || events.length === 0 || !svgRef.current) return;\r\n\r\n    // Ï∞®Ìä∏ Í∏∞Î≥∏ ÏÑ§Ï†ï (Dr. Sarah KimÏùò ÏãúÍ∞ÑÏ†Å UI ÏÑ§Í≥Ñ)\r\n    const margin = { top: 20, right: 80, bottom: 40, left: 80 };\r\n    const innerWidth = width - margin.left - margin.right;\r\n    const innerHeight = height - margin.top - margin.bottom;\r\n\r\n    // Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖÎ≥Ñ ÏÉâÏÉÅ Î∞è ÏïÑÏù¥ÏΩò Îß§Ìïë (DYSS ÌôïÏû• ÌåîÎ†àÌä∏)\r\n    const eventTypeStyles = {\r\n      'Ï†ÑÏãú': { \r\n        color: '#8B5CF6', // DYSS Primary\r\n        icon: 'üé®',\r\n        importance: 0.8\r\n      },\r\n      'ÏàòÏÉÅ': { \r\n        color: '#DC2626', // Red for achievements\r\n        icon: 'üèÜ',\r\n        importance: 1.0\r\n      },\r\n      'Ï∂úÍ∞Ñ': { \r\n        color: '#059669', // Green for publications\r\n        icon: 'üìñ',\r\n        importance: 0.6\r\n      },\r\n      'ÌòëÏóÖ': { \r\n        color: '#F59E0B', // Amber for collaborations\r\n        icon: 'ü§ù',\r\n        importance: 0.7\r\n      },\r\n      'ÍµêÏú°': { \r\n        color: '#7C3AED', // DYSS Primary 600\r\n        icon: 'üéì',\r\n        importance: 0.5\r\n      },\r\n      'ÎπÑÏóîÎÇ†Î†à': { \r\n        color: '#DC2626', // Red for major events\r\n        icon: 'üåç',\r\n        importance: 1.0\r\n      }\r\n    };\r\n\r\n    // ÏãúÍ∞ÑÏ∂ï Ïä§ÏºÄÏùº\r\n    const xScale = d3.scaleLinear()\r\n      .domain(timeRange)\r\n      .range([0, innerWidth]);\r\n\r\n    // Ïù¥Î≤§Ìä∏Î•º ÏãúÍ∞ÑÏàúÏúºÎ°ú Ï†ïÎ†¨ÌïòÍ≥† Í≤πÏπ® Î∞©ÏßÄ Î°úÏßÅ\r\n    const sortedEvents = [...events].sort((a, b) => a.t - b.t);\r\n    const eventLanes = []; // Ïù¥Î≤§Ìä∏ Î†àÏù∏ (Í≤πÏπ® Î∞©ÏßÄ)\r\n    \r\n    sortedEvents.forEach((event, i) => {\r\n      let laneIndex = 0;\r\n      let placed = false;\r\n      \r\n      // Í≤πÏπòÏßÄ ÏïäÎäî Î†àÏù∏ Ï∞æÍ∏∞\r\n      while (!placed) {\r\n        if (!eventLanes[laneIndex]) {\r\n          eventLanes[laneIndex] = [];\r\n        }\r\n        \r\n        const lastEventInLane = eventLanes[laneIndex][eventLanes[laneIndex].length - 1];\r\n        if (!lastEventInLane || xScale(event.t) - xScale(lastEventInLane.t) > 40) {\r\n          eventLanes[laneIndex].push(event);\r\n          event.lane = laneIndex;\r\n          placed = true;\r\n        } else {\r\n          laneIndex++;\r\n        }\r\n      }\r\n    });\r\n\r\n    const maxLanes = eventLanes.length;\r\n    const laneHeight = innerHeight / Math.max(maxLanes, 1);\r\n\r\n    // SVG ÏÑ§Ï†ï\r\n    const svg = d3.select(svgRef.current)\r\n      .attr('width', width)\r\n      .attr('height', height)\r\n      .attr('viewBox', `0 0 ${width} ${height}`)\r\n      .style('font-family', 'var(--dyss-font-family-primary)');\r\n\r\n    svg.selectAll('*').remove();\r\n\r\n    const g = svg.append('g')\r\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\r\n\r\n    // Ìà¥ÌåÅ ÏÑ§Ï†ï\r\n    const tooltip = d3.select(tooltipRef.current);\r\n\r\n    // ÏãúÍ∞ÑÏ∂ï Î†åÎçîÎßÅ\r\n    const timeAxis = d3.axisBottom(xScale)\r\n      .tickFormat(d => `+${d}ÎÖÑ`)\r\n      .ticks(Math.min(timeRange[1] - timeRange[0], 10));\r\n\r\n    g.append('g')\r\n      .attr('class', 'time-axis')\r\n      .attr('transform', `translate(0, ${innerHeight + 10})`)\r\n      .call(timeAxis)\r\n      .style('color', '#6B7280')\r\n      .style('font-size', '12px');\r\n\r\n    // Î∞∞Í≤Ω ÏãúÍ∞Ñ Í∑∏Î¶¨Îìú (ÏãúÍ∞ÑÏ†Å Îß•ÎùΩ Í∞ïÌôî)\r\n    g.selectAll('.time-grid')\r\n      .data(xScale.ticks(Math.min(timeRange[1] - timeRange[0], 20)))\r\n      .enter()\r\n      .append('line')\r\n      .attr('class', 'time-grid')\r\n      .attr('x1', d => xScale(d))\r\n      .attr('x2', d => xScale(d))\r\n      .attr('y1', 0)\r\n      .attr('y2', innerHeight)\r\n      .style('stroke', '#F3F4F6')\r\n      .style('stroke-width', '1px')\r\n      .style('opacity', 0.7);\r\n\r\n    // Ìò∏Î≤Ñ ÌÉÄÏûÑÎùºÏù∏ (StackedAreaChartÏôÄ ÎèôÍ∏∞Ìôî)\r\n    if (hoveredTime !== null && hoveredTime !== undefined) {\r\n      g.append('line')\r\n        .attr('class', 'hover-timeline')\r\n        .attr('x1', xScale(hoveredTime))\r\n        .attr('x2', xScale(hoveredTime))\r\n        .attr('y1', -10)\r\n        .attr('y2', innerHeight + 10)\r\n        .style('stroke', '#8B5CF6')\r\n        .style('stroke-width', '2px')\r\n        .style('stroke-dasharray', '4,4')\r\n        .style('opacity', 0.8);\r\n    }\r\n\r\n    // Ïù¥Î≤§Ìä∏ Í∑∏Î£πÌôî Î∞è ÏòÅÌñ• Î∂ÑÏÑù ÌëúÏãú\r\n    const eventGroups = g.selectAll('.event-group')\r\n      .data(sortedEvents)\r\n      .enter()\r\n      .append('g')\r\n      .attr('class', 'event-group')\r\n      .attr('transform', d => {\r\n        const x = xScale(d.t);\r\n        const y = (d.lane * laneHeight) + (laneHeight / 2);\r\n        return `translate(${x}, ${y})`;\r\n      });\r\n\r\n    // Ïù¥Î≤§Ìä∏ ÏòÅÌñ• Î∂ÑÏÑù Î∞∞Í≤Ω (ÏÑ±Ïû• Í∞ÄÏÜçÌôî Íµ¨Í∞Ñ ÌëúÏãú)\r\n    eventGroups.each(function(event) {\r\n      const group = d3.select(this);\r\n      const impactData = impactAnalysis[event.id];\r\n      \r\n      if (impactData && impactData.growth_acceleration > 0.1) {\r\n        // ÏòÅÌñ• Íµ¨Í∞Ñ Î∞∞Í≤Ω (Ïù¥Î≤§Ìä∏ Ï†ÑÌõÑ 2ÎÖÑ)\r\n        const impactWidth = xScale(Math.min(event.t + 3, timeRange[1])) - xScale(Math.max(event.t - 1, timeRange[0]));\r\n        const impactX = xScale(Math.max(event.t - 1, timeRange[0])) - xScale(event.t);\r\n        \r\n        group.append('rect')\r\n          .attr('class', 'impact-background')\r\n          .attr('x', impactX)\r\n          .attr('y', -laneHeight/2)\r\n          .attr('width', impactWidth)\r\n          .attr('height', laneHeight)\r\n          .style('fill', eventTypeStyles[event.type]?.color || '#8B5CF6')\r\n          .style('opacity', 0.1)\r\n          .style('rx', 4);\r\n      }\r\n    });\r\n\r\n    // Ïù¥Î≤§Ìä∏ Ïó∞Í≤∞ÏÑ† (ÏãúÍ∞ÑÏ†Å Ïó∞ÏÜçÏÑ± ÌëúÏãú)\r\n    eventGroups.append('line')\r\n      .attr('class', 'event-stem')\r\n      .attr('x1', 0)\r\n      .attr('x2', 0)\r\n      .attr('y1', -laneHeight/4)\r\n      .attr('y2', laneHeight/4)\r\n      .style('stroke', d => eventTypeStyles[d.type]?.color || '#8B5CF6')\r\n      .style('stroke-width', d => {\r\n        const importance = eventTypeStyles[d.type]?.importance || 0.5;\r\n        return hoveredEvent === d.id ? importance * 4 + 2 : importance * 2 + 1;\r\n      })\r\n      .style('opacity', d => hoveredEvent === d.id ? 1.0 : 0.7);\r\n\r\n    // Ïù¥Î≤§Ìä∏ ÎßàÏª§ (Ï§ëÏöîÎèÑÎ≥Ñ ÌÅ¨Í∏∞ Ï∞®Î≥ÑÌôî)\r\n    eventGroups.append('circle')\r\n      .attr('class', 'event-marker')\r\n      .attr('r', d => {\r\n        const importance = eventTypeStyles[d.type]?.importance || 0.5;\r\n        const baseSize = importance * 6 + 4;\r\n        return hoveredEvent === d.id ? baseSize * 1.3 : baseSize;\r\n      })\r\n      .style('fill', d => eventTypeStyles[d.type]?.color || '#8B5CF6')\r\n      .style('stroke', '#FFFFFF')\r\n      .style('stroke-width', '2px')\r\n      .style('cursor', 'pointer')\r\n      .style('transition', 'all 0.2s ease')\r\n      .on('mouseover', (event, d) => {\r\n        if (onEventHover) onEventHover(d.id);\r\n        \r\n        // Ïù¥Î≤§Ìä∏ ÏÉÅÏÑ∏ Ìà¥ÌåÅ ÌëúÏãú\r\n        tooltip.style('display', 'block')\r\n          .html(formatEventTooltip(d, impactAnalysis[d.id]));\r\n      })\r\n      .on('mousemove', (event) => {\r\n        tooltip.style('left', `${event.pageX + 15}px`)\r\n          .style('top', `${event.pageY - 10}px`);\r\n      })\r\n      .on('mouseout', () => {\r\n        if (onEventHover) onEventHover(null);\r\n        tooltip.style('display', 'none');\r\n      })\r\n      .on('click', (event, d) => {\r\n        if (onEventClick) onEventClick(d);\r\n      });\r\n\r\n    // Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖ ÏïÑÏù¥ÏΩò (Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ)\r\n    eventGroups.append('text')\r\n      .attr('class', 'event-icon')\r\n      .attr('text-anchor', 'middle')\r\n      .attr('dy', '0.35em')\r\n      .style('font-size', d => {\r\n        const importance = eventTypeStyles[d.type]?.importance || 0.5;\r\n        return `${importance * 8 + 8}px`;\r\n      })\r\n      .style('pointer-events', 'none')\r\n      .style('user-select', 'none')\r\n      .text(d => eventTypeStyles[d.type]?.icon || '‚óè');\r\n\r\n    // Ïù¥Î≤§Ìä∏ Î†àÏù¥Î∏î (Ï§ëÏöî Ïù¥Î≤§Ìä∏Îßå ÌëúÏãú)\r\n    eventGroups\r\n      .filter(d => (eventTypeStyles[d.type]?.importance || 0) > 0.7)\r\n      .append('text')\r\n      .attr('class', 'event-label')\r\n      .attr('x', 0)\r\n      .attr('y', d => d.lane % 2 === 0 ? -laneHeight/2 - 5 : laneHeight/2 + 15)\r\n      .attr('text-anchor', 'middle')\r\n      .style('font-size', '10px')\r\n      .style('font-weight', '500')\r\n      .style('fill', '#374151')\r\n      .style('pointer-events', 'none')\r\n      .text(d => {\r\n        const words = d.title.split(' ');\r\n        return words.length > 2 ? words.slice(0, 2).join(' ') + '...' : d.title;\r\n      });\r\n\r\n    // ÏÑ±Ïû• Í∞ÄÏÜçÌôî Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ (Ï†ïÎüâÏ†Å Î∂ÑÏÑù ÌëúÏãú)\r\n    eventGroups\r\n      .filter(d => impactAnalysis[d.id] && impactAnalysis[d.id].growth_acceleration > 0.2)\r\n      .append('path')\r\n      .attr('class', 'growth-indicator')\r\n      .attr('d', 'M-3,-8 L3,-8 L0,-12 Z') // ÏúÑÏ™Ω ÌôîÏÇ¥Ìëú\r\n      .style('fill', '#10B981')\r\n      .style('opacity', 0.8);\r\n\r\n    // Î≤îÎ°Ä (Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖÎ≥Ñ)\r\n    const legend = g.append('g')\r\n      .attr('class', 'event-legend')\r\n      .attr('transform', `translate(${innerWidth - 200}, -10)`);\r\n\r\n    const legendItems = Object.entries(eventTypeStyles)\r\n      .filter(([type]) => events.some(e => e.type === type));\r\n\r\n    legendItems.forEach(([type, style], i) => {\r\n      const legendItem = legend.append('g')\r\n        .attr('transform', `translate(${(i % 3) * 70}, ${Math.floor(i / 3) * 20})`);\r\n\r\n      legendItem.append('circle')\r\n        .attr('r', 4)\r\n        .style('fill', style.color);\r\n\r\n      legendItem.append('text')\r\n        .attr('x', 8)\r\n        .attr('y', 0)\r\n        .attr('dy', '0.35em')\r\n        .style('font-size', '10px')\r\n        .style('font-weight', '500')\r\n        .style('fill', '#374151')\r\n        .text(type);\r\n    });\r\n\r\n  }, [events, timeRange, hoveredTime, hoveredEvent, impactAnalysis]);\r\n\r\n  // Ïù¥Î≤§Ìä∏ ÏÉÅÏÑ∏ Ìà¥ÌåÅ Ìè¨Îß§ÌÑ∞ (ÏòÅÌñ• Î∂ÑÏÑù Ìè¨Ìï®)\r\n  const formatEventTooltip = (event, impact) => {\r\n    let html = `\r\n      <strong>${event.title}</strong><br/>\r\n      <strong>ÏãúÏ†ê:</strong> +${event.t}ÎÖÑ (${new Date(new Date().getFullYear() - (20 - event.t)).getFullYear()}ÎÖÑ)<br/>\r\n      <strong>Ïú†Ìòï:</strong> ${event.type}<br/>\r\n      <strong>Í∏∞Í¥Ä:</strong> ${event.org || 'ÎØ∏ÏÉÅ'}<br/>\r\n    `;\r\n\r\n    if (impact) {\r\n      html += `\r\n        <hr/>\r\n        <strong>üìà ÏÑ±Ïû• ÏòÅÌñ• Î∂ÑÏÑù:</strong><br/>\r\n        <strong>ÏÑ±Ïû• Í∞ÄÏÜçÎèÑ:</strong> +${(impact.growth_acceleration * 100).toFixed(1)}%<br/>\r\n        <strong>ÏòÅÌñ• ÏßÄÏÜçÍ∏∞Í∞Ñ:</strong> ${impact.duration_months || 12}Í∞úÏõî<br/>\r\n        <strong>Ï£ºÏöî Ï∂ï ÏòÅÌñ•:</strong> ${impact.primary_axis || 'Ï†ÑÏ≤¥'}\r\n      `;\r\n      \r\n      if (impact.correlation_coefficient) {\r\n        html += `<br/><strong>ÏÉÅÍ¥ÄÍ≥ÑÏàò:</strong> ${impact.correlation_coefficient.toFixed(3)}`;\r\n      }\r\n    }\r\n\r\n    html += `<hr/><small>ÌÅ¥Î¶≠ÌïòÏó¨ ÏÉÅÏÑ∏ Î∂ÑÏÑù Î≥¥Í∏∞</small>`;\r\n    return html;\r\n  };\r\n\r\n  return (\r\n    <div className=\"curator-chart-wrapper\" style={{ position: 'relative' }}>\r\n      <svg ref={svgRef}></svg>\r\n      <div\r\n        ref={tooltipRef}\r\n        className=\"curator-tooltip\"\r\n        style={{ position: 'absolute', display: 'none', zIndex: 1000 }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventTimeline;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}