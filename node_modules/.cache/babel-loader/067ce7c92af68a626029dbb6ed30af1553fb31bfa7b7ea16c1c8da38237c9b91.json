{"ast":null,"code":"// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { AbstractPage } from \"./core.mjs\";\n/**\r\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\r\n */\nexport class Page extends AbstractPage {\n  constructor(client, response, body, options) {\n    super(client, response, body, options);\n    this.data = body.data || [];\n    this.object = body.object;\n  }\n  getPaginatedItems() {\n    var _this$data;\n    return (_this$data = this.data) !== null && _this$data !== void 0 ? _this$data : [];\n  }\n  // @deprecated Please use `nextPageInfo()` instead\n  /**\r\n   * This page represents a response that isn't actually paginated at the API level\r\n   * so there will never be any next page params.\r\n   */\n  nextPageParams() {\n    return null;\n  }\n  nextPageInfo() {\n    return null;\n  }\n}\nexport class CursorPage extends AbstractPage {\n  constructor(client, response, body, options) {\n    super(client, response, body, options);\n    this.data = body.data || [];\n    this.has_more = body.has_more || false;\n  }\n  getPaginatedItems() {\n    var _this$data2;\n    return (_this$data2 = this.data) !== null && _this$data2 !== void 0 ? _this$data2 : [];\n  }\n  hasNextPage() {\n    if (this.has_more === false) {\n      return false;\n    }\n    return super.hasNextPage();\n  }\n  // @deprecated Please use `nextPageInfo()` instead\n  nextPageParams() {\n    const info = this.nextPageInfo();\n    if (!info) return null;\n    if ('params' in info) return info.params;\n    const params = Object.fromEntries(info.url.searchParams);\n    if (!Object.keys(params).length) return null;\n    return params;\n  }\n  nextPageInfo() {\n    var _data;\n    const data = this.getPaginatedItems();\n    if (!data.length) {\n      return null;\n    }\n    const id = (_data = data[data.length - 1]) === null || _data === void 0 ? void 0 : _data.id;\n    if (!id) {\n      return null;\n    }\n    return {\n      params: {\n        after: id\n      }\n    };\n  }\n}","map":{"version":3,"names":["AbstractPage","Page","constructor","client","response","body","options","data","object","getPaginatedItems","_this$data","nextPageParams","nextPageInfo","CursorPage","has_more","_this$data2","hasNextPage","info","params","Object","fromEntries","url","searchParams","keys","length","_data","id","after"],"sources":["C:\\co-1016\\node_modules\\openai\\src\\pagination.ts"],"sourcesContent":["// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\r\n\r\nimport { AbstractPage, Response, APIClient, FinalRequestOptions, PageInfo } from './core';\r\n\r\nexport interface PageResponse<Item> {\r\n  data: Array<Item>;\r\n\r\n  object: string;\r\n}\r\n\r\n/**\r\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\r\n */\r\nexport class Page<Item> extends AbstractPage<Item> implements PageResponse<Item> {\r\n  data: Array<Item>;\r\n\r\n  object: string;\r\n\r\n  constructor(client: APIClient, response: Response, body: PageResponse<Item>, options: FinalRequestOptions) {\r\n    super(client, response, body, options);\r\n\r\n    this.data = body.data || [];\r\n    this.object = body.object;\r\n  }\r\n\r\n  getPaginatedItems(): Item[] {\r\n    return this.data ?? [];\r\n  }\r\n\r\n  // @deprecated Please use `nextPageInfo()` instead\r\n  /**\r\n   * This page represents a response that isn't actually paginated at the API level\r\n   * so there will never be any next page params.\r\n   */\r\n  nextPageParams(): null {\r\n    return null;\r\n  }\r\n\r\n  nextPageInfo(): null {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport interface CursorPageResponse<Item> {\r\n  data: Array<Item>;\r\n\r\n  has_more: boolean;\r\n}\r\n\r\nexport interface CursorPageParams {\r\n  after?: string;\r\n\r\n  limit?: number;\r\n}\r\n\r\nexport class CursorPage<Item extends { id: string }>\r\n  extends AbstractPage<Item>\r\n  implements CursorPageResponse<Item>\r\n{\r\n  data: Array<Item>;\r\n\r\n  has_more: boolean;\r\n\r\n  constructor(\r\n    client: APIClient,\r\n    response: Response,\r\n    body: CursorPageResponse<Item>,\r\n    options: FinalRequestOptions,\r\n  ) {\r\n    super(client, response, body, options);\r\n\r\n    this.data = body.data || [];\r\n    this.has_more = body.has_more || false;\r\n  }\r\n\r\n  getPaginatedItems(): Item[] {\r\n    return this.data ?? [];\r\n  }\r\n\r\n  override hasNextPage(): boolean {\r\n    if (this.has_more === false) {\r\n      return false;\r\n    }\r\n\r\n    return super.hasNextPage();\r\n  }\r\n\r\n  // @deprecated Please use `nextPageInfo()` instead\r\n  nextPageParams(): Partial<CursorPageParams> | null {\r\n    const info = this.nextPageInfo();\r\n    if (!info) return null;\r\n    if ('params' in info) return info.params;\r\n    const params = Object.fromEntries(info.url.searchParams);\r\n    if (!Object.keys(params).length) return null;\r\n    return params;\r\n  }\r\n\r\n  nextPageInfo(): PageInfo | null {\r\n    const data = this.getPaginatedItems();\r\n    if (!data.length) {\r\n      return null;\r\n    }\r\n\r\n    const id = data[data.length - 1]?.id;\r\n    if (!id) {\r\n      return null;\r\n    }\r\n\r\n    return { params: { after: id } };\r\n  }\r\n}\r\n"],"mappings":"AAAA;SAESA,YAAY,QAAsD;AAQ3E;;;AAGA,OAAM,MAAOC,IAAW,SAAQD,YAAkB;EAKhDE,YAAYC,MAAiB,EAAEC,QAAkB,EAAEC,IAAwB,EAAEC,OAA4B;IACvG,KAAK,CAACH,MAAM,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,OAAO,CAAC;IAEtC,IAAI,CAACC,IAAI,GAAGF,IAAI,CAACE,IAAI,IAAI,EAAE;IAC3B,IAAI,CAACC,MAAM,GAAGH,IAAI,CAACG,MAAM;EAC3B;EAEAC,iBAAiBA,CAAA;IAAA,IAAAC,UAAA;IACf,QAAAA,UAAA,GAAO,IAAI,CAACH,IAAI,cAAAG,UAAA,cAAAA,UAAA,GAAI,EAAE;EACxB;EAEA;EACA;;;;EAIAC,cAAcA,CAAA;IACZ,OAAO,IAAI;EACb;EAEAC,YAAYA,CAAA;IACV,OAAO,IAAI;EACb;;AAeF,OAAM,MAAOC,UACX,SAAQb,YAAkB;EAO1BE,YACEC,MAAiB,EACjBC,QAAkB,EAClBC,IAA8B,EAC9BC,OAA4B;IAE5B,KAAK,CAACH,MAAM,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,OAAO,CAAC;IAEtC,IAAI,CAACC,IAAI,GAAGF,IAAI,CAACE,IAAI,IAAI,EAAE;IAC3B,IAAI,CAACO,QAAQ,GAAGT,IAAI,CAACS,QAAQ,IAAI,KAAK;EACxC;EAEAL,iBAAiBA,CAAA;IAAA,IAAAM,WAAA;IACf,QAAAA,WAAA,GAAO,IAAI,CAACR,IAAI,cAAAQ,WAAA,cAAAA,WAAA,GAAI,EAAE;EACxB;EAESC,WAAWA,CAAA;IAClB,IAAI,IAAI,CAACF,QAAQ,KAAK,KAAK,EAAE;MAC3B,OAAO,KAAK;;IAGd,OAAO,KAAK,CAACE,WAAW,EAAE;EAC5B;EAEA;EACAL,cAAcA,CAAA;IACZ,MAAMM,IAAI,GAAG,IAAI,CAACL,YAAY,EAAE;IAChC,IAAI,CAACK,IAAI,EAAE,OAAO,IAAI;IACtB,IAAI,QAAQ,IAAIA,IAAI,EAAE,OAAOA,IAAI,CAACC,MAAM;IACxC,MAAMA,MAAM,GAAGC,MAAM,CAACC,WAAW,CAACH,IAAI,CAACI,GAAG,CAACC,YAAY,CAAC;IACxD,IAAI,CAACH,MAAM,CAACI,IAAI,CAACL,MAAM,CAAC,CAACM,MAAM,EAAE,OAAO,IAAI;IAC5C,OAAON,MAAM;EACf;EAEAN,YAAYA,CAAA;IAAA,IAAAa,KAAA;IACV,MAAMlB,IAAI,GAAG,IAAI,CAACE,iBAAiB,EAAE;IACrC,IAAI,CAACF,IAAI,CAACiB,MAAM,EAAE;MAChB,OAAO,IAAI;;IAGb,MAAME,EAAE,IAAAD,KAAA,GAAGlB,IAAI,CAACA,IAAI,CAACiB,MAAM,GAAG,CAAC,CAAC,cAAAC,KAAA,uBAArBA,KAAA,CAAuBC,EAAE;IACpC,IAAI,CAACA,EAAE,EAAE;MACP,OAAO,IAAI;;IAGb,OAAO;MAAER,MAAM,EAAE;QAAES,KAAK,EAAED;MAAE;IAAE,CAAE;EAClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}