{"ast":null,"code":"import _objectSpread from \"C:/co-1016/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ChatCompletionStream } from \"./ChatCompletionStream.mjs\";\nexport class ChatCompletionStreamingRunner extends ChatCompletionStream {\n  static fromReadableStream(stream) {\n    const runner = new ChatCompletionStreamingRunner(null);\n    runner._run(() => runner._fromReadableStream(stream));\n    return runner;\n  }\n  /** @deprecated - please use `runTools` instead. */\n  static runFunctions(client, params, options) {\n    const runner = new ChatCompletionStreamingRunner(null);\n    const opts = _objectSpread(_objectSpread({}, options), {}, {\n      headers: _objectSpread(_objectSpread({}, options === null || options === void 0 ? void 0 : options.headers), {}, {\n        'X-Stainless-Helper-Method': 'runFunctions'\n      })\n    });\n    runner._run(() => runner._runFunctions(client, params, opts));\n    return runner;\n  }\n  static runTools(client, params, options) {\n    const runner = new ChatCompletionStreamingRunner(\n    // @ts-expect-error TODO these types are incompatible\n    params);\n    const opts = _objectSpread(_objectSpread({}, options), {}, {\n      headers: _objectSpread(_objectSpread({}, options === null || options === void 0 ? void 0 : options.headers), {}, {\n        'X-Stainless-Helper-Method': 'runTools'\n      })\n    });\n    runner._run(() => runner._runTools(client, params, opts));\n    return runner;\n  }\n}","map":{"version":3,"names":["ChatCompletionStream","ChatCompletionStreamingRunner","fromReadableStream","stream","runner","_run","_fromReadableStream","runFunctions","client","params","options","opts","_objectSpread","headers","_runFunctions","runTools","_runTools"],"sources":["C:\\co-1016\\node_modules\\openai\\src\\lib\\ChatCompletionStreamingRunner.ts"],"sourcesContent":["import {\r\n  type ChatCompletionChunk,\r\n  type ChatCompletionCreateParamsStreaming,\r\n} from '../resources/chat/completions';\r\nimport { RunnerOptions, type AbstractChatCompletionRunnerEvents } from './AbstractChatCompletionRunner';\r\nimport { type ReadableStream } from '../_shims/index';\r\nimport { RunnableTools, type BaseFunctionsArgs, type RunnableFunctions } from './RunnableFunction';\r\nimport { ChatCompletionSnapshot, ChatCompletionStream } from './ChatCompletionStream';\r\nimport OpenAI from '../index';\r\nimport { AutoParseableTool } from '../lib/parser';\r\n\r\nexport interface ChatCompletionStreamEvents extends AbstractChatCompletionRunnerEvents {\r\n  content: (contentDelta: string, contentSnapshot: string) => void;\r\n  chunk: (chunk: ChatCompletionChunk, snapshot: ChatCompletionSnapshot) => void;\r\n}\r\n\r\nexport type ChatCompletionStreamingFunctionRunnerParams<FunctionsArgs extends BaseFunctionsArgs> = Omit<\r\n  ChatCompletionCreateParamsStreaming,\r\n  'functions'\r\n> & {\r\n  functions: RunnableFunctions<FunctionsArgs>;\r\n};\r\n\r\nexport type ChatCompletionStreamingToolRunnerParams<FunctionsArgs extends BaseFunctionsArgs> = Omit<\r\n  ChatCompletionCreateParamsStreaming,\r\n  'tools'\r\n> & {\r\n  tools: RunnableTools<FunctionsArgs> | AutoParseableTool<any, true>[];\r\n};\r\n\r\nexport class ChatCompletionStreamingRunner<ParsedT = null>\r\n  extends ChatCompletionStream<ParsedT>\r\n  implements AsyncIterable<ChatCompletionChunk>\r\n{\r\n  static override fromReadableStream(stream: ReadableStream): ChatCompletionStreamingRunner<null> {\r\n    const runner = new ChatCompletionStreamingRunner(null);\r\n    runner._run(() => runner._fromReadableStream(stream));\r\n    return runner;\r\n  }\r\n\r\n  /** @deprecated - please use `runTools` instead. */\r\n  static runFunctions<T extends (string | object)[]>(\r\n    client: OpenAI,\r\n    params: ChatCompletionStreamingFunctionRunnerParams<T>,\r\n    options?: RunnerOptions,\r\n  ): ChatCompletionStreamingRunner<null> {\r\n    const runner = new ChatCompletionStreamingRunner(null);\r\n    const opts = {\r\n      ...options,\r\n      headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runFunctions' },\r\n    };\r\n    runner._run(() => runner._runFunctions(client, params, opts));\r\n    return runner;\r\n  }\r\n\r\n  static runTools<T extends (string | object)[], ParsedT = null>(\r\n    client: OpenAI,\r\n    params: ChatCompletionStreamingToolRunnerParams<T>,\r\n    options?: RunnerOptions,\r\n  ): ChatCompletionStreamingRunner<ParsedT> {\r\n    const runner = new ChatCompletionStreamingRunner<ParsedT>(\r\n      // @ts-expect-error TODO these types are incompatible\r\n      params,\r\n    );\r\n    const opts = {\r\n      ...options,\r\n      headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runTools' },\r\n    };\r\n    runner._run(() => runner._runTools(client, params, opts));\r\n    return runner;\r\n  }\r\n}\r\n"],"mappings":";SAOiCA,oBAAoB,QAAE;AAuBvD,OAAM,MAAOC,6BACX,SAAQD,oBAA6B;EAGrC,OAAgBE,kBAAkBA,CAACC,MAAsB;IACvD,MAAMC,MAAM,GAAG,IAAIH,6BAA6B,CAAC,IAAI,CAAC;IACtDG,MAAM,CAACC,IAAI,CAAC,MAAMD,MAAM,CAACE,mBAAmB,CAACH,MAAM,CAAC,CAAC;IACrD,OAAOC,MAAM;EACf;EAEA;EACA,OAAOG,YAAYA,CACjBC,MAAc,EACdC,MAAsD,EACtDC,OAAuB;IAEvB,MAAMN,MAAM,GAAG,IAAIH,6BAA6B,CAAC,IAAI,CAAC;IACtD,MAAMU,IAAI,GAAAC,aAAA,CAAAA,aAAA,KACLF,OAAO;MACVG,OAAO,EAAAD,aAAA,CAAAA,aAAA,KAAOF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG,OAAO;QAAE,2BAA2B,EAAE;MAAc;IAAE,EAC9E;IACDT,MAAM,CAACC,IAAI,CAAC,MAAMD,MAAM,CAACU,aAAa,CAACN,MAAM,EAAEC,MAAM,EAAEE,IAAI,CAAC,CAAC;IAC7D,OAAOP,MAAM;EACf;EAEA,OAAOW,QAAQA,CACbP,MAAc,EACdC,MAAkD,EAClDC,OAAuB;IAEvB,MAAMN,MAAM,GAAG,IAAIH,6BAA6B;IAC9C;IACAQ,MAAM,CACP;IACD,MAAME,IAAI,GAAAC,aAAA,CAAAA,aAAA,KACLF,OAAO;MACVG,OAAO,EAAAD,aAAA,CAAAA,aAAA,KAAOF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG,OAAO;QAAE,2BAA2B,EAAE;MAAU;IAAE,EAC1E;IACDT,MAAM,CAACC,IAAI,CAAC,MAAMD,MAAM,CAACY,SAAS,CAACR,MAAM,EAAEC,MAAM,EAAEE,IAAI,CAAC,CAAC;IACzD,OAAOP,MAAM;EACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}