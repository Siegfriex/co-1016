{"ast":null,"code":"import _objectSpread from\"C:/co-1016/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * CuratorOdyssey Phase 2 - Advanced Chart Synchronization System\r\n * Dr. Sarah Kim's Dual-Chart State Management Hook\r\n * \r\n * EventTimeline ↔ StackedAreaChart 완벽 동기화\r\n */import{useState,useCallback,useRef,useEffect}from'react';export const useChartSynchronization=function(timeseriesData){let events=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];// 통합 상태 관리\nconst[synchronizedState,setSynchronizedState]=useState({// 시간 관련 상태\ntimeRange:[0,20],hoveredTime:null,selectedTimeRange:null,// 이벤트 관련 상태  \nhoveredEvent:null,selectedEvent:null,// 줌/팬 상태\nzoomLevel:1,panOffset:0,// 차트별 상태\nchartStates:{stackedArea:{isReady:false,lastUpdate:null,renderTime:null},eventTimeline:{isReady:false,lastUpdate:null,renderTime:null}}});// 성능 추적을 위한 ref\nconst performanceRef=useRef({lastSyncTime:Date.now(),syncOperations:0,averageSyncTime:0});// 디바운스를 위한 ref\nconst debounceRef=useRef({timeHover:null,eventHover:null,zoomPan:null});// 1. 시간 호버 동기화 (디바운스 적용)\nconst handleTimeHover=useCallback(timeData=>{if(debounceRef.current.timeHover){clearTimeout(debounceRef.current.timeHover);}debounceRef.current.timeHover=setTimeout(()=>{const startTime=performance.now();setSynchronizedState(prev=>{const newState=_objectSpread(_objectSpread({},prev),{},{hoveredTime:(timeData===null||timeData===void 0?void 0:timeData.t)||null,hoveredEvent:null// 시간 호버 시 이벤트 호버 해제\n});// 성능 추적\nconst syncTime=performance.now()-startTime;performanceRef.current.lastSyncTime=syncTime;performanceRef.current.syncOperations++;performanceRef.current.averageSyncTime=(performanceRef.current.averageSyncTime*(performanceRef.current.syncOperations-1)+syncTime)/performanceRef.current.syncOperations;return newState;});},16);// 60fps 기준\n},[]);// 2. 이벤트 호버 동기화\nconst handleEventHover=useCallback(eventId=>{if(debounceRef.current.eventHover){clearTimeout(debounceRef.current.eventHover);}debounceRef.current.eventHover=setTimeout(()=>{setSynchronizedState(prev=>{const hoveredEvent=eventId?events.find(e=>e.id===eventId):null;return _objectSpread(_objectSpread({},prev),{},{hoveredEvent:eventId,hoveredTime:hoveredEvent?hoveredEvent.t:prev.hoveredTime});});},8);// 이벤트 호버는 더 빠른 응답\n},[events]);// 3. 시간 범위 변경 (줌/팬) 동기화\nconst handleTimeRangeChange=useCallback(function(newRange){let source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'manual';if(debounceRef.current.zoomPan){clearTimeout(debounceRef.current.zoomPan);}debounceRef.current.zoomPan=setTimeout(()=>{setSynchronizedState(prev=>{const[start,end]=newRange;const duration=end-start;const center=(start+end)/2;// 유효성 검사\nif(start<0||end>25||start>=end){console.warn('Invalid time range:',newRange);return prev;}return _objectSpread(_objectSpread({},prev),{},{timeRange:[start,end],zoomLevel:20/duration,// 기본 20년 대비 줌 레벨\npanOffset:center-10,// 기본 중심점(10년) 대비 오프셋\nselectedTimeRange:source==='selection'?newRange:null});});},32);// 줌/팬은 적당한 디바운스\n},[]);// 4. 이벤트 선택 동기화\nconst handleEventSelect=useCallback(event=>{setSynchronizedState(prev=>_objectSpread(_objectSpread({},prev),{},{selectedEvent:event,hoveredTime:event?event.t:null,// 선택된 이벤트 주변으로 시간 범위 조정\ntimeRange:event?[Math.max(0,event.t-3),Math.min(20,event.t+3)]:prev.timeRange}));},[]);// 5. 차트 상태 업데이트 (렌더링 완료 시점 추적)\nconst updateChartState=useCallback((chartType,stateUpdate)=>{setSynchronizedState(prev=>_objectSpread(_objectSpread({},prev),{},{chartStates:_objectSpread(_objectSpread({},prev.chartStates),{},{[chartType]:_objectSpread(_objectSpread(_objectSpread({},prev.chartStates[chartType]),stateUpdate),{},{lastUpdate:Date.now()})})}));},[]);// 6. 양방향 동기화 감지 및 처리\nuseEffect(()=>{// 두 차트가 모두 준비되었을 때 초기 동기화\nconst{stackedArea,eventTimeline}=synchronizedState.chartStates;if(stackedArea.isReady&&eventTimeline.isReady){var _timeseriesData$bins;// 초기 시간 범위 설정\nif((timeseriesData===null||timeseriesData===void 0?void 0:(_timeseriesData$bins=timeseriesData.bins)===null||_timeseriesData$bins===void 0?void 0:_timeseriesData$bins.length)>0){const minTime=Math.min(...timeseriesData.bins.map(d=>d.t));const maxTime=Math.max(...timeseriesData.bins.map(d=>d.t));setSynchronizedState(prev=>_objectSpread(_objectSpread({},prev),{},{timeRange:[minTime,maxTime]}));}}},[synchronizedState.chartStates,timeseriesData]);// 7. 성능 모니터링\nconst getPerformanceStats=useCallback(()=>{return{lastSyncTime:performanceRef.current.lastSyncTime,totalSyncOperations:performanceRef.current.syncOperations,averageSyncTime:performanceRef.current.averageSyncTime,isOptimal:performanceRef.current.averageSyncTime<16// 60fps 기준\n};},[]);// 8. 줌 인/아웃 헬퍼 함수들\nconst zoomIn=useCallback(function(){let factor=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.5;const[start,end]=synchronizedState.timeRange;const center=(start+end)/2;const newDuration=(end-start)*factor;handleTimeRangeChange([center-newDuration/2,center+newDuration/2],'zoom');},[synchronizedState.timeRange,handleTimeRangeChange]);const zoomOut=useCallback(function(){let factor=arguments.length>0&&arguments[0]!==undefined?arguments[0]:2;const[start,end]=synchronizedState.timeRange;const center=(start+end)/2;const newDuration=(end-start)*factor;handleTimeRangeChange([Math.max(0,center-newDuration/2),Math.min(20,center+newDuration/2)],'zoom');},[synchronizedState.timeRange,handleTimeRangeChange]);const panLeft=useCallback(function(){let amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:2;const[start,end]=synchronizedState.timeRange;const duration=end-start;handleTimeRangeChange([Math.max(0,start-amount),Math.max(duration,end-amount)],'pan');},[synchronizedState.timeRange,handleTimeRangeChange]);const panRight=useCallback(function(){let amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:2;const[start,end]=synchronizedState.timeRange;const duration=end-start;handleTimeRangeChange([Math.min(20-duration,start+amount),Math.min(20,end+amount)],'pan');},[synchronizedState.timeRange,handleTimeRangeChange]);// 9. 리셋 함수\nconst resetView=useCallback(()=>{setSynchronizedState(prev=>_objectSpread(_objectSpread({},prev),{},{timeRange:[0,20],hoveredTime:null,hoveredEvent:null,selectedEvent:null,selectedTimeRange:null,zoomLevel:1,panOffset:0}));},[]);// 10. 이벤트 필터링 (현재 시간 범위 기준)\nconst getVisibleEvents=useCallback(()=>{const[start,end]=synchronizedState.timeRange;return events.filter(event=>event.t>=start&&event.t<=end);},[events,synchronizedState.timeRange]);// Clean up\nuseEffect(()=>{return()=>{Object.values(debounceRef.current).forEach(timeout=>{if(timeout)clearTimeout(timeout);});};},[]);return{// 상태\nsynchronizedState,// 이벤트 핸들러\nonTimeHover:handleTimeHover,onEventHover:handleEventHover,onTimeRangeChange:handleTimeRangeChange,onEventSelect:handleEventSelect,updateChartState,// 줌/팬 컨트롤\nzoomIn,zoomOut,panLeft,panRight,resetView,// 유틸리티\ngetVisibleEvents,getPerformanceStats,// 개별 상태 접근자 (편의성)\ntimeRange:synchronizedState.timeRange,hoveredTime:synchronizedState.hoveredTime,hoveredEvent:synchronizedState.hoveredEvent,selectedEvent:synchronizedState.selectedEvent,zoomLevel:synchronizedState.zoomLevel};};export default useChartSynchronization;","map":{"version":3,"names":["useState","useCallback","useRef","useEffect","useChartSynchronization","timeseriesData","events","arguments","length","undefined","synchronizedState","setSynchronizedState","timeRange","hoveredTime","selectedTimeRange","hoveredEvent","selectedEvent","zoomLevel","panOffset","chartStates","stackedArea","isReady","lastUpdate","renderTime","eventTimeline","performanceRef","lastSyncTime","Date","now","syncOperations","averageSyncTime","debounceRef","timeHover","eventHover","zoomPan","handleTimeHover","timeData","current","clearTimeout","setTimeout","startTime","performance","prev","newState","_objectSpread","t","syncTime","handleEventHover","eventId","find","e","id","handleTimeRangeChange","newRange","source","start","end","duration","center","console","warn","handleEventSelect","event","Math","max","min","updateChartState","chartType","stateUpdate","_timeseriesData$bins","bins","minTime","map","d","maxTime","getPerformanceStats","totalSyncOperations","isOptimal","zoomIn","factor","newDuration","zoomOut","panLeft","amount","panRight","resetView","getVisibleEvents","filter","Object","values","forEach","timeout","onTimeHover","onEventHover","onTimeRangeChange","onEventSelect"],"sources":["C:/co-1016/src/hooks/useChartSynchronization.js"],"sourcesContent":["/**\r\n * CuratorOdyssey Phase 2 - Advanced Chart Synchronization System\r\n * Dr. Sarah Kim's Dual-Chart State Management Hook\r\n * \r\n * EventTimeline ↔ StackedAreaChart 완벽 동기화\r\n */\r\n\r\nimport { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport const useChartSynchronization = (timeseriesData, events = []) => {\r\n  // 통합 상태 관리\r\n  const [synchronizedState, setSynchronizedState] = useState({\r\n    // 시간 관련 상태\r\n    timeRange: [0, 20],\r\n    hoveredTime: null,\r\n    selectedTimeRange: null,\r\n    \r\n    // 이벤트 관련 상태  \r\n    hoveredEvent: null,\r\n    selectedEvent: null,\r\n    \r\n    // 줌/팬 상태\r\n    zoomLevel: 1,\r\n    panOffset: 0,\r\n    \r\n    // 차트별 상태\r\n    chartStates: {\r\n      stackedArea: {\r\n        isReady: false,\r\n        lastUpdate: null,\r\n        renderTime: null\r\n      },\r\n      eventTimeline: {\r\n        isReady: false,\r\n        lastUpdate: null,\r\n        renderTime: null\r\n      }\r\n    }\r\n  });\r\n\r\n  // 성능 추적을 위한 ref\r\n  const performanceRef = useRef({\r\n    lastSyncTime: Date.now(),\r\n    syncOperations: 0,\r\n    averageSyncTime: 0\r\n  });\r\n\r\n  // 디바운스를 위한 ref\r\n  const debounceRef = useRef({\r\n    timeHover: null,\r\n    eventHover: null,\r\n    zoomPan: null\r\n  });\r\n\r\n  // 1. 시간 호버 동기화 (디바운스 적용)\r\n  const handleTimeHover = useCallback((timeData) => {\r\n    if (debounceRef.current.timeHover) {\r\n      clearTimeout(debounceRef.current.timeHover);\r\n    }\r\n    \r\n    debounceRef.current.timeHover = setTimeout(() => {\r\n      const startTime = performance.now();\r\n      \r\n      setSynchronizedState(prev => {\r\n        const newState = {\r\n          ...prev,\r\n          hoveredTime: timeData?.t || null,\r\n          hoveredEvent: null // 시간 호버 시 이벤트 호버 해제\r\n        };\r\n        \r\n        // 성능 추적\r\n        const syncTime = performance.now() - startTime;\r\n        performanceRef.current.lastSyncTime = syncTime;\r\n        performanceRef.current.syncOperations++;\r\n        performanceRef.current.averageSyncTime = \r\n          (performanceRef.current.averageSyncTime * (performanceRef.current.syncOperations - 1) + syncTime) \r\n          / performanceRef.current.syncOperations;\r\n        \r\n        return newState;\r\n      });\r\n    }, 16); // 60fps 기준\r\n  }, []);\r\n\r\n  // 2. 이벤트 호버 동기화\r\n  const handleEventHover = useCallback((eventId) => {\r\n    if (debounceRef.current.eventHover) {\r\n      clearTimeout(debounceRef.current.eventHover);\r\n    }\r\n    \r\n    debounceRef.current.eventHover = setTimeout(() => {\r\n      setSynchronizedState(prev => {\r\n        const hoveredEvent = eventId ? events.find(e => e.id === eventId) : null;\r\n        \r\n        return {\r\n          ...prev,\r\n          hoveredEvent: eventId,\r\n          hoveredTime: hoveredEvent ? hoveredEvent.t : prev.hoveredTime\r\n        };\r\n      });\r\n    }, 8); // 이벤트 호버는 더 빠른 응답\r\n  }, [events]);\r\n\r\n  // 3. 시간 범위 변경 (줌/팬) 동기화\r\n  const handleTimeRangeChange = useCallback((newRange, source = 'manual') => {\r\n    if (debounceRef.current.zoomPan) {\r\n      clearTimeout(debounceRef.current.zoomPan);\r\n    }\r\n    \r\n    debounceRef.current.zoomPan = setTimeout(() => {\r\n      setSynchronizedState(prev => {\r\n        const [start, end] = newRange;\r\n        const duration = end - start;\r\n        const center = (start + end) / 2;\r\n        \r\n        // 유효성 검사\r\n        if (start < 0 || end > 25 || start >= end) {\r\n          console.warn('Invalid time range:', newRange);\r\n          return prev;\r\n        }\r\n        \r\n        return {\r\n          ...prev,\r\n          timeRange: [start, end],\r\n          zoomLevel: 20 / duration, // 기본 20년 대비 줌 레벨\r\n          panOffset: center - 10, // 기본 중심점(10년) 대비 오프셋\r\n          selectedTimeRange: source === 'selection' ? newRange : null\r\n        };\r\n      });\r\n    }, 32); // 줌/팬은 적당한 디바운스\r\n  }, []);\r\n\r\n  // 4. 이벤트 선택 동기화\r\n  const handleEventSelect = useCallback((event) => {\r\n    setSynchronizedState(prev => ({\r\n      ...prev,\r\n      selectedEvent: event,\r\n      hoveredTime: event ? event.t : null,\r\n      // 선택된 이벤트 주변으로 시간 범위 조정\r\n      timeRange: event ? [\r\n        Math.max(0, event.t - 3),\r\n        Math.min(20, event.t + 3)\r\n      ] : prev.timeRange\r\n    }));\r\n  }, []);\r\n\r\n  // 5. 차트 상태 업데이트 (렌더링 완료 시점 추적)\r\n  const updateChartState = useCallback((chartType, stateUpdate) => {\r\n    setSynchronizedState(prev => ({\r\n      ...prev,\r\n      chartStates: {\r\n        ...prev.chartStates,\r\n        [chartType]: {\r\n          ...prev.chartStates[chartType],\r\n          ...stateUpdate,\r\n          lastUpdate: Date.now()\r\n        }\r\n      }\r\n    }));\r\n  }, []);\r\n\r\n  // 6. 양방향 동기화 감지 및 처리\r\n  useEffect(() => {\r\n    // 두 차트가 모두 준비되었을 때 초기 동기화\r\n    const { stackedArea, eventTimeline } = synchronizedState.chartStates;\r\n    \r\n    if (stackedArea.isReady && eventTimeline.isReady) {\r\n      // 초기 시간 범위 설정\r\n      if (timeseriesData?.bins?.length > 0) {\r\n        const minTime = Math.min(...timeseriesData.bins.map(d => d.t));\r\n        const maxTime = Math.max(...timeseriesData.bins.map(d => d.t));\r\n        \r\n        setSynchronizedState(prev => ({\r\n          ...prev,\r\n          timeRange: [minTime, maxTime]\r\n        }));\r\n      }\r\n    }\r\n  }, [synchronizedState.chartStates, timeseriesData]);\r\n\r\n  // 7. 성능 모니터링\r\n  const getPerformanceStats = useCallback(() => {\r\n    return {\r\n      lastSyncTime: performanceRef.current.lastSyncTime,\r\n      totalSyncOperations: performanceRef.current.syncOperations,\r\n      averageSyncTime: performanceRef.current.averageSyncTime,\r\n      isOptimal: performanceRef.current.averageSyncTime < 16 // 60fps 기준\r\n    };\r\n  }, []);\r\n\r\n  // 8. 줌 인/아웃 헬퍼 함수들\r\n  const zoomIn = useCallback((factor = 0.5) => {\r\n    const [start, end] = synchronizedState.timeRange;\r\n    const center = (start + end) / 2;\r\n    const newDuration = (end - start) * factor;\r\n    \r\n    handleTimeRangeChange([\r\n      center - newDuration / 2,\r\n      center + newDuration / 2\r\n    ], 'zoom');\r\n  }, [synchronizedState.timeRange, handleTimeRangeChange]);\r\n\r\n  const zoomOut = useCallback((factor = 2) => {\r\n    const [start, end] = synchronizedState.timeRange;\r\n    const center = (start + end) / 2;\r\n    const newDuration = (end - start) * factor;\r\n    \r\n    handleTimeRangeChange([\r\n      Math.max(0, center - newDuration / 2),\r\n      Math.min(20, center + newDuration / 2)\r\n    ], 'zoom');\r\n  }, [synchronizedState.timeRange, handleTimeRangeChange]);\r\n\r\n  const panLeft = useCallback((amount = 2) => {\r\n    const [start, end] = synchronizedState.timeRange;\r\n    const duration = end - start;\r\n    \r\n    handleTimeRangeChange([\r\n      Math.max(0, start - amount),\r\n      Math.max(duration, end - amount)\r\n    ], 'pan');\r\n  }, [synchronizedState.timeRange, handleTimeRangeChange]);\r\n\r\n  const panRight = useCallback((amount = 2) => {\r\n    const [start, end] = synchronizedState.timeRange;\r\n    const duration = end - start;\r\n    \r\n    handleTimeRangeChange([\r\n      Math.min(20 - duration, start + amount),\r\n      Math.min(20, end + amount)\r\n    ], 'pan');\r\n  }, [synchronizedState.timeRange, handleTimeRangeChange]);\r\n\r\n  // 9. 리셋 함수\r\n  const resetView = useCallback(() => {\r\n    setSynchronizedState(prev => ({\r\n      ...prev,\r\n      timeRange: [0, 20],\r\n      hoveredTime: null,\r\n      hoveredEvent: null,\r\n      selectedEvent: null,\r\n      selectedTimeRange: null,\r\n      zoomLevel: 1,\r\n      panOffset: 0\r\n    }));\r\n  }, []);\r\n\r\n  // 10. 이벤트 필터링 (현재 시간 범위 기준)\r\n  const getVisibleEvents = useCallback(() => {\r\n    const [start, end] = synchronizedState.timeRange;\r\n    return events.filter(event => event.t >= start && event.t <= end);\r\n  }, [events, synchronizedState.timeRange]);\r\n\r\n  // Clean up\r\n  useEffect(() => {\r\n    return () => {\r\n      Object.values(debounceRef.current).forEach(timeout => {\r\n        if (timeout) clearTimeout(timeout);\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    // 상태\r\n    synchronizedState,\r\n    \r\n    // 이벤트 핸들러\r\n    onTimeHover: handleTimeHover,\r\n    onEventHover: handleEventHover,\r\n    onTimeRangeChange: handleTimeRangeChange,\r\n    onEventSelect: handleEventSelect,\r\n    updateChartState,\r\n    \r\n    // 줌/팬 컨트롤\r\n    zoomIn,\r\n    zoomOut,\r\n    panLeft,\r\n    panRight,\r\n    resetView,\r\n    \r\n    // 유틸리티\r\n    getVisibleEvents,\r\n    getPerformanceStats,\r\n    \r\n    // 개별 상태 접근자 (편의성)\r\n    timeRange: synchronizedState.timeRange,\r\n    hoveredTime: synchronizedState.hoveredTime,\r\n    hoveredEvent: synchronizedState.hoveredEvent,\r\n    selectedEvent: synchronizedState.selectedEvent,\r\n    zoomLevel: synchronizedState.zoomLevel\r\n  };\r\n};\r\n\r\nexport default useChartSynchronization;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}