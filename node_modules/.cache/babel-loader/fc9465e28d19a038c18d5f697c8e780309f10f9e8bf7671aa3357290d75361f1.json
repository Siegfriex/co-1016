{"ast":null,"code":"var _jsxFileName = \"C:\\\\CuratorOdyssey\\\\src\\\\components\\\\charts\\\\SunburstChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SunburstChart = ({\n  data,\n  highlightedAxis,\n  onSegmentHover,\n  onSegmentClick\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  const tooltipRef = useRef(null);\n  const [currentRoot, setCurrentRoot] = useState(null);\n  useEffect(() => {\n    if (!data || !svgRef.current) return;\n\n    // 차트 기본 설정 (DYSS 디자인 시스템 적용)\n    const width = 500;\n    const height = 500;\n    const radius = Math.min(width, height) / 6;\n\n    // DYSS 컬러 시스템 적용\n    const colorScale = d3.scaleOrdinal().domain(['제도', '학술', '담론', '네트워크']).range(['#8B5CF6', '#7C3AED', '#6D28D9', '#5B21B6']); // DYSS primary colors\n\n    // 계층적 데이터 구조화\n    const root = d3.hierarchy(data).sum(d => d.value).sort((a, b) => b.value - a.value);\n\n    // 파티션 레이아웃 계산\n    d3.partition().size([2 * Math.PI, root.height + 1])(root);\n    root.each(d => d.current = d);\n\n    // SVG 설정\n    const svg = d3.select(svgRef.current).attr('width', width).attr('height', height).attr('viewBox', [-width / 2, -height / 2, width, height]).style('font-family', 'var(--dyss-font-family-primary)');\n    svg.selectAll('*').remove();\n\n    // Arc 생성기\n    const arc = d3.arc().startAngle(d => d.x0).endAngle(d => d.x1).padAngle(d => Math.min((d.x1 - d.x0) / 2, 0.005)).padRadius(radius * 1.5).innerRadius(d => d.y0 * radius).outerRadius(d => Math.max(d.y0 * radius, d.y1 * radius - 1));\n\n    // 툴팁 설정\n    const tooltip = d3.select(tooltipRef.current);\n\n    // Path 렌더링\n    const path = svg.append('g').selectAll('path').data(root.descendants().slice(1)).join('path').attr('fill', d => {\n      while (d.depth > 1) d = d.parent;\n      return colorScale(d.data.name);\n    }).attr('fill-opacity', d => {\n      const isHighlighted = highlightedAxis && d.ancestors().some(ancestor => ancestor.data.name === highlightedAxis);\n      const isDimmed = highlightedAxis && !isHighlighted;\n      if (isDimmed) return 0.2;\n      return arcVisible(d.current) ? d.children ? 0.8 : 0.6 : 0;\n    }).attr('stroke', '#FFFFFF').attr('stroke-width', 2).attr('d', d => arc(d.current)).style('cursor', 'pointer').style('transition', 'fill-opacity 0.3s ease').on('click', (event, d) => {\n      // Phase 2 드릴다운을 위한 클릭 이벤트\n      if (onSegmentClick && d.depth <= 2) {\n        var _d$ancestors$find;\n        onSegmentClick({\n          name: d.data.name,\n          axis: (_d$ancestors$find = d.ancestors().find(a => a.depth === 1)) === null || _d$ancestors$find === void 0 ? void 0 : _d$ancestors$find.data.name,\n          value: d.data.value,\n          depth: d.depth\n        });\n        return; // 드릴다운 후 줌 방지\n      }\n\n      // 기본 줌 동작\n      clicked(event, d);\n    }).on('mouseover', (event, d) => {\n      // 호버 시 상위 컴포넌트에 알림\n      if (onSegmentHover) {\n        const rootAxis = d.ancestors().find(a => a.depth === 1);\n        onSegmentHover(rootAxis ? rootAxis.data.name : null);\n      }\n      tooltip.style('display', 'block').html(formatTooltip(d.data));\n    }).on('mousemove', event => {\n      tooltip.style('left', `${event.pageX + 15}px`).style('top', `${event.pageY + 15}px`);\n    }).on('mouseout', () => {\n      if (onSegmentHover) onSegmentHover(null);\n      tooltip.style('display', 'none');\n    });\n\n    // 중앙 원 (줌아웃 버튼)\n    const parent = svg.append('circle').datum(root).attr('r', radius).attr('fill', 'none').attr('pointer-events', 'all').on('click', clicked);\n\n    // 레이블 렌더링\n    const label = svg.append('g').attr('pointer-events', 'none').attr('text-anchor', 'middle').style('user-select', 'none').selectAll('text').data(root.descendants().slice(1)).join('text').attr('dy', '0.35em').attr('fill', '#FFFFFF').attr('fill-opacity', d => +labelVisible(d.current)).attr('transform', d => labelTransform(d.current)).attr('font-size', '12px').attr('font-weight', '500').text(d => d.data.name);\n\n    // 클릭 핸들러 (줌 기능)\n    function clicked(event, p) {\n      parent.datum(p.parent || root);\n      root.each(d => d.target = {\n        x0: Math.max(0, Math.min(1, (d.x0 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\n        x1: Math.max(0, Math.min(1, (d.x1 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\n        y0: Math.max(0, d.y0 - p.depth),\n        y1: Math.max(0, d.y1 - p.depth)\n      });\n      const t = svg.transition().duration(750);\n      path.transition(t).tween('data', d => {\n        const i = d3.interpolate(d.current, d.target);\n        return t => d.current = i(t);\n      }).filter(function (d) {\n        return +this.getAttribute('fill-opacity') || arcVisible(d.target);\n      }).attr('fill-opacity', d => {\n        const isHighlighted = highlightedAxis && d.ancestors().some(ancestor => ancestor.data.name === highlightedAxis);\n        const isDimmed = highlightedAxis && !isHighlighted;\n        if (isDimmed) return 0.2;\n        return arcVisible(d.target) ? d.children ? 0.8 : 0.6 : 0;\n      }).attrTween('d', d => () => arc(d.current));\n      label.filter(function (d) {\n        return +this.getAttribute('fill-opacity') || labelVisible(d.target);\n      }).transition(t).attr('fill-opacity', d => +labelVisible(d.target)).attrTween('transform', d => () => labelTransform(d.current));\n    }\n    function arcVisible(d) {\n      return d.y1 <= 3 && d.y0 >= 1 && d.x1 > d.x0;\n    }\n    function labelVisible(d) {\n      return d.y1 <= 3 && d.y0 >= 1 && (d.y1 - d.y0) * (d.x1 - d.x0) > 0.03;\n    }\n    function labelTransform(d) {\n      const x = (d.x0 + d.x1) / 2 * 180 / Math.PI;\n      const y = (d.y0 + d.y1) / 2 * radius;\n      return `rotate(${x - 90}) translate(${y},0) rotate(${x < 180 ? 0 : 180})`;\n    }\n    function formatTooltip(d) {\n      var _d$value;\n      let content = `<strong>${d.name}</strong><br/>Value: ${((_d$value = d.value) === null || _d$value === void 0 ? void 0 : _d$value.toFixed(1)) || 0}`;\n      if (d.tooltip) {\n        content += `<hr/>`;\n        content += `Unit: ${d.tooltip.unit}<br/>`;\n        content += `Time Window: ${d.tooltip.time_window}<br/>`;\n        content += `Weight: ${d.tooltip.weight}<br/>`;\n        content += `Source: ${d.tooltip.source_id}`;\n      }\n      return content;\n    }\n  }, [data, highlightedAxis]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"curator-chart-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tooltipRef,\n      className: \"curator-tooltip\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n_s(SunburstChart, \"QhW0NLFcsHufduz5IqhM19icYzY=\");\n_c = SunburstChart;\nexport default SunburstChart;\nvar _c;\n$RefreshReg$(_c, \"SunburstChart\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","jsxDEV","_jsxDEV","SunburstChart","data","highlightedAxis","onSegmentHover","onSegmentClick","_s","svgRef","tooltipRef","currentRoot","setCurrentRoot","current","width","height","radius","Math","min","colorScale","scaleOrdinal","domain","range","root","hierarchy","sum","d","value","sort","a","b","partition","size","PI","each","svg","select","attr","style","selectAll","remove","arc","startAngle","x0","endAngle","x1","padAngle","padRadius","innerRadius","y0","outerRadius","max","y1","tooltip","path","append","descendants","slice","join","depth","parent","name","isHighlighted","ancestors","some","ancestor","isDimmed","arcVisible","children","on","event","_d$ancestors$find","axis","find","clicked","rootAxis","html","formatTooltip","pageX","pageY","datum","label","labelVisible","labelTransform","text","p","target","t","transition","duration","tween","i","interpolate","filter","getAttribute","attrTween","x","y","_d$value","content","toFixed","unit","time_window","weight","source_id","className","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/CuratorOdyssey/src/components/charts/SunburstChart.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nconst SunburstChart = ({ data, highlightedAxis, onSegmentHover, onSegmentClick }) => {\r\n  const svgRef = useRef(null);\r\n  const tooltipRef = useRef(null);\r\n  const [currentRoot, setCurrentRoot] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!data || !svgRef.current) return;\r\n\r\n    // 차트 기본 설정 (DYSS 디자인 시스템 적용)\r\n    const width = 500;\r\n    const height = 500;\r\n    const radius = Math.min(width, height) / 6;\r\n\r\n    // DYSS 컬러 시스템 적용\r\n    const colorScale = d3.scaleOrdinal()\r\n      .domain(['제도', '학술', '담론', '네트워크'])\r\n      .range(['#8B5CF6', '#7C3AED', '#6D28D9', '#5B21B6']); // DYSS primary colors\r\n\r\n    // 계층적 데이터 구조화\r\n    const root = d3.hierarchy(data)\r\n      .sum(d => d.value)\r\n      .sort((a, b) => b.value - a.value);\r\n\r\n    // 파티션 레이아웃 계산\r\n    d3.partition().size([2 * Math.PI, root.height + 1])(root);\r\n    root.each(d => (d.current = d));\r\n\r\n    // SVG 설정\r\n    const svg = d3.select(svgRef.current)\r\n      .attr('width', width)\r\n      .attr('height', height)\r\n      .attr('viewBox', [-width / 2, -height / 2, width, height])\r\n      .style('font-family', 'var(--dyss-font-family-primary)');\r\n\r\n    svg.selectAll('*').remove();\r\n\r\n    // Arc 생성기\r\n    const arc = d3.arc()\r\n      .startAngle(d => d.x0)\r\n      .endAngle(d => d.x1)\r\n      .padAngle(d => Math.min((d.x1 - d.x0) / 2, 0.005))\r\n      .padRadius(radius * 1.5)\r\n      .innerRadius(d => d.y0 * radius)\r\n      .outerRadius(d => Math.max(d.y0 * radius, d.y1 * radius - 1));\r\n\r\n    // 툴팁 설정\r\n    const tooltip = d3.select(tooltipRef.current);\r\n\r\n    // Path 렌더링\r\n    const path = svg.append('g')\r\n      .selectAll('path')\r\n      .data(root.descendants().slice(1))\r\n      .join('path')\r\n      .attr('fill', d => {\r\n        while (d.depth > 1) d = d.parent;\r\n        return colorScale(d.data.name);\r\n      })\r\n      .attr('fill-opacity', d => {\r\n        const isHighlighted = highlightedAxis && \r\n          d.ancestors().some(ancestor => ancestor.data.name === highlightedAxis);\r\n        const isDimmed = highlightedAxis && !isHighlighted;\r\n        \r\n        if (isDimmed) return 0.2;\r\n        return arcVisible(d.current) ? (d.children ? 0.8 : 0.6) : 0;\r\n      })\r\n      .attr('stroke', '#FFFFFF')\r\n      .attr('stroke-width', 2)\r\n      .attr('d', d => arc(d.current))\r\n      .style('cursor', 'pointer')\r\n      .style('transition', 'fill-opacity 0.3s ease')\r\n      .on('click', (event, d) => {\r\n        // Phase 2 드릴다운을 위한 클릭 이벤트\r\n        if (onSegmentClick && d.depth <= 2) {\r\n          onSegmentClick({\r\n            name: d.data.name,\r\n            axis: d.ancestors().find(a => a.depth === 1)?.data.name,\r\n            value: d.data.value,\r\n            depth: d.depth\r\n          });\r\n          return; // 드릴다운 후 줌 방지\r\n        }\r\n        \r\n        // 기본 줌 동작\r\n        clicked(event, d);\r\n      })\r\n      .on('mouseover', (event, d) => {\r\n        // 호버 시 상위 컴포넌트에 알림\r\n        if (onSegmentHover) {\r\n          const rootAxis = d.ancestors().find(a => a.depth === 1);\r\n          onSegmentHover(rootAxis ? rootAxis.data.name : null);\r\n        }\r\n\r\n        tooltip.style('display', 'block')\r\n              .html(formatTooltip(d.data));\r\n      })\r\n      .on('mousemove', (event) => {\r\n        tooltip.style('left', `${event.pageX + 15}px`)\r\n              .style('top', `${event.pageY + 15}px`);\r\n      })\r\n      .on('mouseout', () => {\r\n        if (onSegmentHover) onSegmentHover(null);\r\n        tooltip.style('display', 'none');\r\n      });\r\n\r\n    // 중앙 원 (줌아웃 버튼)\r\n    const parent = svg.append('circle')\r\n      .datum(root)\r\n      .attr('r', radius)\r\n      .attr('fill', 'none')\r\n      .attr('pointer-events', 'all')\r\n      .on('click', clicked);\r\n\r\n    // 레이블 렌더링\r\n    const label = svg.append('g')\r\n      .attr('pointer-events', 'none')\r\n      .attr('text-anchor', 'middle')\r\n      .style('user-select', 'none')\r\n      .selectAll('text')\r\n      .data(root.descendants().slice(1))\r\n      .join('text')\r\n      .attr('dy', '0.35em')\r\n      .attr('fill', '#FFFFFF')\r\n      .attr('fill-opacity', d => +labelVisible(d.current))\r\n      .attr('transform', d => labelTransform(d.current))\r\n      .attr('font-size', '12px')\r\n      .attr('font-weight', '500')\r\n      .text(d => d.data.name);\r\n\r\n    // 클릭 핸들러 (줌 기능)\r\n    function clicked(event, p) {\r\n      parent.datum(p.parent || root);\r\n\r\n      root.each(d => d.target = {\r\n        x0: Math.max(0, Math.min(1, (d.x0 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\r\n        x1: Math.max(0, Math.min(1, (d.x1 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\r\n        y0: Math.max(0, d.y0 - p.depth),\r\n        y1: Math.max(0, d.y1 - p.depth)\r\n      });\r\n\r\n      const t = svg.transition().duration(750);\r\n\r\n      path.transition(t)\r\n        .tween('data', d => {\r\n          const i = d3.interpolate(d.current, d.target);\r\n          return t => d.current = i(t);\r\n        })\r\n        .filter(function(d) {\r\n          return +this.getAttribute('fill-opacity') || arcVisible(d.target);\r\n        })\r\n        .attr('fill-opacity', d => {\r\n          const isHighlighted = highlightedAxis && \r\n            d.ancestors().some(ancestor => ancestor.data.name === highlightedAxis);\r\n          const isDimmed = highlightedAxis && !isHighlighted;\r\n          \r\n          if (isDimmed) return 0.2;\r\n          return arcVisible(d.target) ? (d.children ? 0.8 : 0.6) : 0;\r\n        })\r\n        .attrTween('d', d => () => arc(d.current));\r\n\r\n      label.filter(function(d) {\r\n          return +this.getAttribute('fill-opacity') || labelVisible(d.target);\r\n        }).transition(t)\r\n        .attr('fill-opacity', d => +labelVisible(d.target))\r\n        .attrTween('transform', d => () => labelTransform(d.current));\r\n    }\r\n\r\n    function arcVisible(d) {\r\n      return d.y1 <= 3 && d.y0 >= 1 && d.x1 > d.x0;\r\n    }\r\n\r\n    function labelVisible(d) {\r\n      return d.y1 <= 3 && d.y0 >= 1 && (d.y1 - d.y0) * (d.x1 - d.x0) > 0.03;\r\n    }\r\n\r\n    function labelTransform(d) {\r\n      const x = (d.x0 + d.x1) / 2 * 180 / Math.PI;\r\n      const y = (d.y0 + d.y1) / 2 * radius;\r\n      return `rotate(${x - 90}) translate(${y},0) rotate(${x < 180 ? 0 : 180})`;\r\n    }\r\n\r\n    function formatTooltip(d) {\r\n      let content = `<strong>${d.name}</strong><br/>Value: ${d.value?.toFixed(1) || 0}`;\r\n      \r\n      if (d.tooltip) {\r\n        content += `<hr/>`;\r\n        content += `Unit: ${d.tooltip.unit}<br/>`;\r\n        content += `Time Window: ${d.tooltip.time_window}<br/>`;\r\n        content += `Weight: ${d.tooltip.weight}<br/>`;\r\n        content += `Source: ${d.tooltip.source_id}`;\r\n      }\r\n      return content;\r\n    }\r\n\r\n  }, [data, highlightedAxis]);\r\n\r\n  return (\r\n    <div className=\"curator-chart-wrapper\">\r\n      <svg ref={svgRef}></svg>\r\n      <div\r\n        ref={tooltipRef}\r\n        className=\"curator-tooltip\"\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SunburstChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}