{"ast":null,"code":"import _objectSpread from \"C:/co-1016/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport { ChatCompletionRunner } from \"../../../lib/ChatCompletionRunner.mjs\";\nimport { ChatCompletionStreamingRunner } from \"../../../lib/ChatCompletionStreamingRunner.mjs\";\nimport { ChatCompletionStream } from \"../../../lib/ChatCompletionStream.mjs\";\nimport { parseChatCompletion, validateInputTools } from \"../../../lib/parser.mjs\";\nexport { ChatCompletionStreamingRunner } from \"../../../lib/ChatCompletionStreamingRunner.mjs\";\nexport { ParsingFunction, ParsingToolFunction } from \"../../../lib/RunnableFunction.mjs\";\nexport { ChatCompletionStream } from \"../../../lib/ChatCompletionStream.mjs\";\nexport { ChatCompletionRunner } from \"../../../lib/ChatCompletionRunner.mjs\";\nexport class Completions extends APIResource {\n  parse(body, options) {\n    validateInputTools(body.tools);\n    return this._client.chat.completions.create(body, _objectSpread(_objectSpread({}, options), {}, {\n      headers: _objectSpread(_objectSpread({}, options === null || options === void 0 ? void 0 : options.headers), {}, {\n        'X-Stainless-Helper-Method': 'beta.chat.completions.parse'\n      })\n    }))._thenUnwrap(completion => parseChatCompletion(completion, body));\n  }\n  runFunctions(body, options) {\n    if (body.stream) {\n      return ChatCompletionStreamingRunner.runFunctions(this._client, body, options);\n    }\n    return ChatCompletionRunner.runFunctions(this._client, body, options);\n  }\n  runTools(body, options) {\n    if (body.stream) {\n      return ChatCompletionStreamingRunner.runTools(this._client, body, options);\n    }\n    return ChatCompletionRunner.runTools(this._client, body, options);\n  }\n  /**\r\n   * Creates a chat completion stream\r\n   */\n  stream(body, options) {\n    return ChatCompletionStream.createChatCompletion(this._client, body, options);\n  }\n}","map":{"version":3,"names":["APIResource","ChatCompletionRunner","ChatCompletionStreamingRunner","ChatCompletionStream","parseChatCompletion","validateInputTools","ParsingFunction","ParsingToolFunction","Completions","parse","body","options","tools","_client","chat","completions","create","_objectSpread","headers","_thenUnwrap","completion","runFunctions","stream","runTools","createChatCompletion"],"sources":["C:\\co-1016\\node_modules\\openai\\src\\resources\\beta\\chat\\completions.ts"],"sourcesContent":["// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\r\n\r\nimport * as Core from '../../../core';\r\nimport { APIResource } from '../../../resource';\r\nimport { ChatCompletionRunner, ChatCompletionFunctionRunnerParams } from '../../../lib/ChatCompletionRunner';\r\nimport {\r\n  ChatCompletionStreamingRunner,\r\n  ChatCompletionStreamingFunctionRunnerParams,\r\n} from '../../../lib/ChatCompletionStreamingRunner';\r\nimport { BaseFunctionsArgs } from '../../../lib/RunnableFunction';\r\nimport { RunnerOptions } from '../../../lib/AbstractChatCompletionRunner';\r\nimport { ChatCompletionToolRunnerParams } from '../../../lib/ChatCompletionRunner';\r\nimport { ChatCompletionStreamingToolRunnerParams } from '../../../lib/ChatCompletionStreamingRunner';\r\nimport { ChatCompletionStream, type ChatCompletionStreamParams } from '../../../lib/ChatCompletionStream';\r\nimport {\r\n  ChatCompletion,\r\n  ChatCompletionCreateParamsNonStreaming,\r\n  ChatCompletionMessage,\r\n  ChatCompletionMessageToolCall,\r\n} from '../../chat/completions';\r\nimport { ExtractParsedContentFromParams, parseChatCompletion, validateInputTools } from '../../../lib/parser';\r\n\r\nexport {\r\n  ChatCompletionStreamingRunner,\r\n  type ChatCompletionStreamingFunctionRunnerParams,\r\n} from '../../../lib/ChatCompletionStreamingRunner';\r\nexport {\r\n  type RunnableFunction,\r\n  type RunnableFunctions,\r\n  type RunnableFunctionWithParse,\r\n  type RunnableFunctionWithoutParse,\r\n  ParsingFunction,\r\n  ParsingToolFunction,\r\n} from '../../../lib/RunnableFunction';\r\nexport { type ChatCompletionToolRunnerParams } from '../../../lib/ChatCompletionRunner';\r\nexport { type ChatCompletionStreamingToolRunnerParams } from '../../../lib/ChatCompletionStreamingRunner';\r\nexport { ChatCompletionStream, type ChatCompletionStreamParams } from '../../../lib/ChatCompletionStream';\r\nexport {\r\n  ChatCompletionRunner,\r\n  type ChatCompletionFunctionRunnerParams,\r\n} from '../../../lib/ChatCompletionRunner';\r\n\r\nexport interface ParsedFunction extends ChatCompletionMessageToolCall.Function {\r\n  parsed_arguments?: unknown;\r\n}\r\n\r\nexport interface ParsedFunctionToolCall extends ChatCompletionMessageToolCall {\r\n  function: ParsedFunction;\r\n}\r\n\r\nexport interface ParsedChatCompletionMessage<ParsedT> extends ChatCompletionMessage {\r\n  parsed: ParsedT | null;\r\n  tool_calls?: Array<ParsedFunctionToolCall>;\r\n}\r\n\r\nexport interface ParsedChoice<ParsedT> extends ChatCompletion.Choice {\r\n  message: ParsedChatCompletionMessage<ParsedT>;\r\n}\r\n\r\nexport interface ParsedChatCompletion<ParsedT> extends ChatCompletion {\r\n  choices: Array<ParsedChoice<ParsedT>>;\r\n}\r\n\r\nexport type ChatCompletionParseParams = ChatCompletionCreateParamsNonStreaming;\r\n\r\nexport class Completions extends APIResource {\r\n  parse<Params extends ChatCompletionParseParams, ParsedT = ExtractParsedContentFromParams<Params>>(\r\n    body: Params,\r\n    options?: Core.RequestOptions,\r\n  ): Core.APIPromise<ParsedChatCompletion<ParsedT>> {\r\n    validateInputTools(body.tools);\r\n\r\n    return this._client.chat.completions\r\n      .create(body, {\r\n        ...options,\r\n        headers: {\r\n          ...options?.headers,\r\n          'X-Stainless-Helper-Method': 'beta.chat.completions.parse',\r\n        },\r\n      })\r\n      ._thenUnwrap((completion) => parseChatCompletion(completion, body));\r\n  }\r\n\r\n  /**\r\n   * @deprecated - use `runTools` instead.\r\n   */\r\n  runFunctions<FunctionsArgs extends BaseFunctionsArgs>(\r\n    body: ChatCompletionFunctionRunnerParams<FunctionsArgs>,\r\n    options?: Core.RequestOptions,\r\n  ): ChatCompletionRunner<null>;\r\n  runFunctions<FunctionsArgs extends BaseFunctionsArgs>(\r\n    body: ChatCompletionStreamingFunctionRunnerParams<FunctionsArgs>,\r\n    options?: Core.RequestOptions,\r\n  ): ChatCompletionStreamingRunner<null>;\r\n  runFunctions<FunctionsArgs extends BaseFunctionsArgs>(\r\n    body:\r\n      | ChatCompletionFunctionRunnerParams<FunctionsArgs>\r\n      | ChatCompletionStreamingFunctionRunnerParams<FunctionsArgs>,\r\n    options?: Core.RequestOptions,\r\n  ): ChatCompletionRunner<null> | ChatCompletionStreamingRunner<null> {\r\n    if (body.stream) {\r\n      return ChatCompletionStreamingRunner.runFunctions(\r\n        this._client,\r\n        body as ChatCompletionStreamingFunctionRunnerParams<FunctionsArgs>,\r\n        options,\r\n      );\r\n    }\r\n    return ChatCompletionRunner.runFunctions(\r\n      this._client,\r\n      body as ChatCompletionFunctionRunnerParams<FunctionsArgs>,\r\n      options,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * A convenience helper for using tool calls with the /chat/completions endpoint\r\n   * which automatically calls the JavaScript functions you provide and sends their\r\n   * results back to the /chat/completions endpoint, looping as long as the model\r\n   * requests function calls.\r\n   *\r\n   * For more details and examples, see\r\n   * [the docs](https://github.com/openai/openai-node#automated-function-calls)\r\n   */\r\n  runTools<\r\n    Params extends ChatCompletionToolRunnerParams<any>,\r\n    ParsedT = ExtractParsedContentFromParams<Params>,\r\n  >(body: Params, options?: RunnerOptions): ChatCompletionRunner<ParsedT>;\r\n\r\n  runTools<\r\n    Params extends ChatCompletionStreamingToolRunnerParams<any>,\r\n    ParsedT = ExtractParsedContentFromParams<Params>,\r\n  >(body: Params, options?: RunnerOptions): ChatCompletionStreamingRunner<ParsedT>;\r\n\r\n  runTools<\r\n    Params extends ChatCompletionToolRunnerParams<any> | ChatCompletionStreamingToolRunnerParams<any>,\r\n    ParsedT = ExtractParsedContentFromParams<Params>,\r\n  >(\r\n    body: Params,\r\n    options?: RunnerOptions,\r\n  ): ChatCompletionRunner<ParsedT> | ChatCompletionStreamingRunner<ParsedT> {\r\n    if (body.stream) {\r\n      return ChatCompletionStreamingRunner.runTools(\r\n        this._client,\r\n        body as ChatCompletionStreamingToolRunnerParams<any>,\r\n        options,\r\n      );\r\n    }\r\n\r\n    return ChatCompletionRunner.runTools(this._client, body as ChatCompletionToolRunnerParams<any>, options);\r\n  }\r\n\r\n  /**\r\n   * Creates a chat completion stream\r\n   */\r\n  stream<Params extends ChatCompletionStreamParams, ParsedT = ExtractParsedContentFromParams<Params>>(\r\n    body: Params,\r\n    options?: Core.RequestOptions,\r\n  ): ChatCompletionStream<ParsedT> {\r\n    return ChatCompletionStream.createChatCompletion(this._client, body, options);\r\n  }\r\n}\r\n"],"mappings":";AAAA;SAGSA,WAAW,QAAE;SACbC,oBAAoB,QAAsC;SAEjEC,6BAA6B,QAE9B;SAKQC,oBAAoB,QAAmC;SAOvBC,mBAAmB,EAAEC,kBAAkB,QAAE;SAGhFH,6BAA6B,QAE9B;SAMCI,eAAe,EACfC,mBAAmB,QACpB;SAGQJ,oBAAoB,QAAmC;SAE9DF,oBAAoB,QAErB;AAyBD,OAAM,MAAOO,WAAY,SAAQR,WAAW;EAC1CS,KAAKA,CACHC,IAAY,EACZC,OAA6B;IAE7BN,kBAAkB,CAACK,IAAI,CAACE,KAAK,CAAC;IAE9B,OAAO,IAAI,CAACC,OAAO,CAACC,IAAI,CAACC,WAAW,CACjCC,MAAM,CAACN,IAAI,EAAAO,aAAA,CAAAA,aAAA,KACPN,OAAO;MACVO,OAAO,EAAAD,aAAA,CAAAA,aAAA,KACFN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEO,OAAO;QACnB,2BAA2B,EAAE;MAA6B;IAC3D,EACF,CAAC,CACDC,WAAW,CAAEC,UAAU,IAAKhB,mBAAmB,CAACgB,UAAU,EAAEV,IAAI,CAAC,CAAC;EACvE;EAaAW,YAAYA,CACVX,IAE8D,EAC9DC,OAA6B;IAE7B,IAAID,IAAI,CAACY,MAAM,EAAE;MACf,OAAOpB,6BAA6B,CAACmB,YAAY,CAC/C,IAAI,CAACR,OAAO,EACZH,IAAkE,EAClEC,OAAO,CACR;;IAEH,OAAOV,oBAAoB,CAACoB,YAAY,CACtC,IAAI,CAACR,OAAO,EACZH,IAAyD,EACzDC,OAAO,CACR;EACH;EAqBAY,QAAQA,CAINb,IAAY,EACZC,OAAuB;IAEvB,IAAID,IAAI,CAACY,MAAM,EAAE;MACf,OAAOpB,6BAA6B,CAACqB,QAAQ,CAC3C,IAAI,CAACV,OAAO,EACZH,IAAoD,EACpDC,OAAO,CACR;;IAGH,OAAOV,oBAAoB,CAACsB,QAAQ,CAAC,IAAI,CAACV,OAAO,EAAEH,IAA2C,EAAEC,OAAO,CAAC;EAC1G;EAEA;;;EAGAW,MAAMA,CACJZ,IAAY,EACZC,OAA6B;IAE7B,OAAOR,oBAAoB,CAACqB,oBAAoB,CAAC,IAAI,CAACX,OAAO,EAAEH,IAAI,EAAEC,OAAO,CAAC;EAC/E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}