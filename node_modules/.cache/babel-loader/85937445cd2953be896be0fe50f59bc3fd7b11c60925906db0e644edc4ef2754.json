{"ast":null,"code":"import React,{useEffect,useRef}from'react';import*as d3 from'd3';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EventTimeline=_ref=>{let{events=[],timeRange=[0,20],hoveredTime,hoveredEvent,onEventHover,onEventClick,impactAnalysis={},width=800,height=120}=_ref;const svgRef=useRef(null);const tooltipRef=useRef(null);useEffect(()=>{if(!events||events.length===0||!svgRef.current)return;// Ï∞®Ìä∏ Í∏∞Î≥∏ ÏÑ§Ï†ï (Dr. Sarah KimÏùò ÏãúÍ∞ÑÏ†Å UI ÏÑ§Í≥Ñ)\nconst margin={top:20,right:80,bottom:40,left:80};const innerWidth=width-margin.left-margin.right;const innerHeight=height-margin.top-margin.bottom;// Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖÎ≥Ñ ÏÉâÏÉÅ Î∞è ÏïÑÏù¥ÏΩò Îß§Ìïë (DYSS ÌôïÏû• ÌåîÎ†àÌä∏)\nconst eventTypeStyles={'Ï†ÑÏãú':{color:'#8B5CF6',// DYSS Primary\nicon:'üé®',importance:0.8},'ÏàòÏÉÅ':{color:'#DC2626',// Red for achievements\nicon:'üèÜ',importance:1.0},'Ï∂úÍ∞Ñ':{color:'#059669',// Green for publications\nicon:'üìñ',importance:0.6},'ÌòëÏóÖ':{color:'#F59E0B',// Amber for collaborations\nicon:'ü§ù',importance:0.7},'ÍµêÏú°':{color:'#7C3AED',// DYSS Primary 600\nicon:'üéì',importance:0.5},'ÎπÑÏóîÎÇ†Î†à':{color:'#DC2626',// Red for major events\nicon:'üåç',importance:1.0}};// ÏãúÍ∞ÑÏ∂ï Ïä§ÏºÄÏùº\nconst xScale=d3.scaleLinear().domain(timeRange).range([0,innerWidth]);// Ïù¥Î≤§Ìä∏Î•º ÏãúÍ∞ÑÏàúÏúºÎ°ú Ï†ïÎ†¨ÌïòÍ≥† Í≤πÏπ® Î∞©ÏßÄ Î°úÏßÅ\nconst sortedEvents=[...events].sort((a,b)=>a.t-b.t);const eventLanes=[];// Ïù¥Î≤§Ìä∏ Î†àÏù∏ (Í≤πÏπ® Î∞©ÏßÄ)\nsortedEvents.forEach((event,i)=>{let laneIndex=0;let placed=false;// Í≤πÏπòÏßÄ ÏïäÎäî Î†àÏù∏ Ï∞æÍ∏∞\nwhile(!placed){if(!eventLanes[laneIndex]){eventLanes[laneIndex]=[];}const lastEventInLane=eventLanes[laneIndex][eventLanes[laneIndex].length-1];if(!lastEventInLane||xScale(event.t)-xScale(lastEventInLane.t)>40){eventLanes[laneIndex].push(event);event.lane=laneIndex;placed=true;}else{laneIndex++;}}});const maxLanes=eventLanes.length;const laneHeight=innerHeight/Math.max(maxLanes,1);// SVG ÏÑ§Ï†ï\nconst svg=d3.select(svgRef.current).attr('width',width).attr('height',height).attr('viewBox',\"0 0 \".concat(width,\" \").concat(height)).style('font-family','var(--dyss-font-family-primary)');svg.selectAll('*').remove();const g=svg.append('g').attr('transform',\"translate(\".concat(margin.left,\", \").concat(margin.top,\")\"));// Ìà¥ÌåÅ ÏÑ§Ï†ï\nconst tooltip=d3.select(tooltipRef.current);// ÏãúÍ∞ÑÏ∂ï Î†åÎçîÎßÅ\nconst timeAxis=d3.axisBottom(xScale).tickFormat(d=>\"+\".concat(d,\"\\uB144\")).ticks(Math.min(timeRange[1]-timeRange[0],10));g.append('g').attr('class','time-axis').attr('transform',\"translate(0, \".concat(innerHeight+10,\")\")).call(timeAxis).style('color','#6B7280').style('font-size','12px');// Î∞∞Í≤Ω ÏãúÍ∞Ñ Í∑∏Î¶¨Îìú (ÏãúÍ∞ÑÏ†Å Îß•ÎùΩ Í∞ïÌôî)\ng.selectAll('.time-grid').data(xScale.ticks(Math.min(timeRange[1]-timeRange[0],20))).enter().append('line').attr('class','time-grid').attr('x1',d=>xScale(d)).attr('x2',d=>xScale(d)).attr('y1',0).attr('y2',innerHeight).style('stroke','#F3F4F6').style('stroke-width','1px').style('opacity',0.7);// Ìò∏Î≤Ñ ÌÉÄÏûÑÎùºÏù∏ (StackedAreaChartÏôÄ ÎèôÍ∏∞Ìôî)\nif(hoveredTime!==null&&hoveredTime!==undefined){g.append('line').attr('class','hover-timeline').attr('x1',xScale(hoveredTime)).attr('x2',xScale(hoveredTime)).attr('y1',-10).attr('y2',innerHeight+10).style('stroke','#8B5CF6').style('stroke-width','2px').style('stroke-dasharray','4,4').style('opacity',0.8);}// Ïù¥Î≤§Ìä∏ Í∑∏Î£πÌôî Î∞è ÏòÅÌñ• Î∂ÑÏÑù ÌëúÏãú\nconst eventGroups=g.selectAll('.event-group').data(sortedEvents).enter().append('g').attr('class','event-group').attr('transform',d=>{const x=xScale(d.t);const y=d.lane*laneHeight+laneHeight/2;return\"translate(\".concat(x,\", \").concat(y,\")\");});// Ïù¥Î≤§Ìä∏ ÏòÅÌñ• Î∂ÑÏÑù Î∞∞Í≤Ω (ÏÑ±Ïû• Í∞ÄÏÜçÌôî Íµ¨Í∞Ñ ÌëúÏãú)\neventGroups.each(function(event){const group=d3.select(this);const impactData=impactAnalysis[event.id];if(impactData&&impactData.growth_acceleration>0.1){var _eventTypeStyles$even;// ÏòÅÌñ• Íµ¨Í∞Ñ Î∞∞Í≤Ω (Ïù¥Î≤§Ìä∏ Ï†ÑÌõÑ 2ÎÖÑ)\nconst impactWidth=xScale(Math.min(event.t+3,timeRange[1]))-xScale(Math.max(event.t-1,timeRange[0]));const impactX=xScale(Math.max(event.t-1,timeRange[0]))-xScale(event.t);group.append('rect').attr('class','impact-background').attr('x',impactX).attr('y',-laneHeight/2).attr('width',impactWidth).attr('height',laneHeight).style('fill',((_eventTypeStyles$even=eventTypeStyles[event.type])===null||_eventTypeStyles$even===void 0?void 0:_eventTypeStyles$even.color)||'#8B5CF6').style('opacity',0.1).style('rx',4);}});// Ïù¥Î≤§Ìä∏ Ïó∞Í≤∞ÏÑ† (ÏãúÍ∞ÑÏ†Å Ïó∞ÏÜçÏÑ± ÌëúÏãú)\neventGroups.append('line').attr('class','event-stem').attr('x1',0).attr('x2',0).attr('y1',-laneHeight/4).attr('y2',laneHeight/4).style('stroke',d=>{var _eventTypeStyles$d$ty;return((_eventTypeStyles$d$ty=eventTypeStyles[d.type])===null||_eventTypeStyles$d$ty===void 0?void 0:_eventTypeStyles$d$ty.color)||'#8B5CF6';}).style('stroke-width',d=>{var _eventTypeStyles$d$ty2;const importance=((_eventTypeStyles$d$ty2=eventTypeStyles[d.type])===null||_eventTypeStyles$d$ty2===void 0?void 0:_eventTypeStyles$d$ty2.importance)||0.5;return hoveredEvent===d.id?importance*4+2:importance*2+1;}).style('opacity',d=>hoveredEvent===d.id?1.0:0.7);// Ïù¥Î≤§Ìä∏ ÎßàÏª§ (Ï§ëÏöîÎèÑÎ≥Ñ ÌÅ¨Í∏∞ Ï∞®Î≥ÑÌôî)\neventGroups.append('circle').attr('class','event-marker').attr('r',d=>{var _eventTypeStyles$d$ty3;const importance=((_eventTypeStyles$d$ty3=eventTypeStyles[d.type])===null||_eventTypeStyles$d$ty3===void 0?void 0:_eventTypeStyles$d$ty3.importance)||0.5;const baseSize=importance*6+4;return hoveredEvent===d.id?baseSize*1.3:baseSize;}).style('fill',d=>{var _eventTypeStyles$d$ty4;return((_eventTypeStyles$d$ty4=eventTypeStyles[d.type])===null||_eventTypeStyles$d$ty4===void 0?void 0:_eventTypeStyles$d$ty4.color)||'#8B5CF6';}).style('stroke','#FFFFFF').style('stroke-width','2px').style('cursor','pointer').style('transition','all 0.2s ease').on('mouseover',(event,d)=>{if(onEventHover)onEventHover(d.id);// Ïù¥Î≤§Ìä∏ ÏÉÅÏÑ∏ Ìà¥ÌåÅ ÌëúÏãú\ntooltip.style('display','block').html(formatEventTooltip(d,impactAnalysis[d.id]));}).on('mousemove',event=>{tooltip.style('left',\"\".concat(event.pageX+15,\"px\")).style('top',\"\".concat(event.pageY-10,\"px\"));}).on('mouseout',()=>{if(onEventHover)onEventHover(null);tooltip.style('display','none');}).on('click',(event,d)=>{if(onEventClick)onEventClick(d);});// Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖ ÏïÑÏù¥ÏΩò (Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ)\neventGroups.append('text').attr('class','event-icon').attr('text-anchor','middle').attr('dy','0.35em').style('font-size',d=>{var _eventTypeStyles$d$ty5;const importance=((_eventTypeStyles$d$ty5=eventTypeStyles[d.type])===null||_eventTypeStyles$d$ty5===void 0?void 0:_eventTypeStyles$d$ty5.importance)||0.5;return\"\".concat(importance*8+8,\"px\");}).style('pointer-events','none').style('user-select','none').text(d=>{var _eventTypeStyles$d$ty6;return((_eventTypeStyles$d$ty6=eventTypeStyles[d.type])===null||_eventTypeStyles$d$ty6===void 0?void 0:_eventTypeStyles$d$ty6.icon)||'‚óè';});// Ïù¥Î≤§Ìä∏ Î†àÏù¥Î∏î (Ï§ëÏöî Ïù¥Î≤§Ìä∏Îßå ÌëúÏãú)\neventGroups.filter(d=>{var _eventTypeStyles$d$ty7;return(((_eventTypeStyles$d$ty7=eventTypeStyles[d.type])===null||_eventTypeStyles$d$ty7===void 0?void 0:_eventTypeStyles$d$ty7.importance)||0)>0.7;}).append('text').attr('class','event-label').attr('x',0).attr('y',d=>d.lane%2===0?-laneHeight/2-5:laneHeight/2+15).attr('text-anchor','middle').style('font-size','10px').style('font-weight','500').style('fill','#374151').style('pointer-events','none').text(d=>{const words=d.title.split(' ');return words.length>2?words.slice(0,2).join(' ')+'...':d.title;});// ÏÑ±Ïû• Í∞ÄÏÜçÌôî Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ (Ï†ïÎüâÏ†Å Î∂ÑÏÑù ÌëúÏãú)\neventGroups.filter(d=>impactAnalysis[d.id]&&impactAnalysis[d.id].growth_acceleration>0.2).append('path').attr('class','growth-indicator').attr('d','M-3,-8 L3,-8 L0,-12 Z')// ÏúÑÏ™Ω ÌôîÏÇ¥Ìëú\n.style('fill','#10B981').style('opacity',0.8);// Î≤îÎ°Ä (Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖÎ≥Ñ)\nconst legend=g.append('g').attr('class','event-legend').attr('transform',\"translate(\".concat(innerWidth-200,\", -10)\"));const legendItems=Object.entries(eventTypeStyles).filter(_ref2=>{let[type]=_ref2;return events.some(e=>e.type===type);});legendItems.forEach((_ref3,i)=>{let[type,style]=_ref3;const legendItem=legend.append('g').attr('transform',\"translate(\".concat(i%3*70,\", \").concat(Math.floor(i/3)*20,\")\"));legendItem.append('circle').attr('r',4).style('fill',style.color);legendItem.append('text').attr('x',8).attr('y',0).attr('dy','0.35em').style('font-size','10px').style('font-weight','500').style('fill','#374151').text(type);});},[events,timeRange,hoveredTime,hoveredEvent,impactAnalysis]);// Ïù¥Î≤§Ìä∏ ÏÉÅÏÑ∏ Ìà¥ÌåÅ Ìè¨Îß§ÌÑ∞ (ÏòÅÌñ• Î∂ÑÏÑù Ìè¨Ìï®)\nconst formatEventTooltip=(event,impact)=>{let html=\"\\n      <strong>\".concat(event.title,\"</strong><br/>\\n      <strong>\\uC2DC\\uC810:</strong> +\").concat(event.t,\"\\uB144 (\").concat(new Date(new Date().getFullYear()-(20-event.t)).getFullYear(),\"\\uB144)<br/>\\n      <strong>\\uC720\\uD615:</strong> \").concat(event.type,\"<br/>\\n      <strong>\\uAE30\\uAD00:</strong> \").concat(event.org||'ÎØ∏ÏÉÅ',\"<br/>\\n    \");if(impact){html+=\"\\n        <hr/>\\n        <strong>\\uD83D\\uDCC8 \\uC131\\uC7A5 \\uC601\\uD5A5 \\uBD84\\uC11D:</strong><br/>\\n        <strong>\\uC131\\uC7A5 \\uAC00\\uC18D\\uB3C4:</strong> +\".concat((impact.growth_acceleration*100).toFixed(1),\"%<br/>\\n        <strong>\\uC601\\uD5A5 \\uC9C0\\uC18D\\uAE30\\uAC04:</strong> \").concat(impact.duration_months||12,\"\\uAC1C\\uC6D4<br/>\\n        <strong>\\uC8FC\\uC694 \\uCD95 \\uC601\\uD5A5:</strong> \").concat(impact.primary_axis||'Ï†ÑÏ≤¥',\"\\n      \");if(impact.correlation_coefficient){html+=\"<br/><strong>\\uC0C1\\uAD00\\uACC4\\uC218:</strong> \".concat(impact.correlation_coefficient.toFixed(3));}}html+=\"<hr/><small>\\uD074\\uB9AD\\uD558\\uC5EC \\uC0C1\\uC138 \\uBD84\\uC11D \\uBCF4\\uAE30</small>\";return html;};return/*#__PURE__*/_jsxs(\"div\",{className:\"curator-chart-wrapper\",style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"svg\",{ref:svgRef}),/*#__PURE__*/_jsx(\"div\",{ref:tooltipRef,className:\"curator-tooltip\",style:{position:'absolute',display:'none',zIndex:1000}})]});};export default EventTimeline;","map":{"version":3,"names":["React","useEffect","useRef","d3","jsx","_jsx","jsxs","_jsxs","EventTimeline","_ref","events","timeRange","hoveredTime","hoveredEvent","onEventHover","onEventClick","impactAnalysis","width","height","svgRef","tooltipRef","length","current","margin","top","right","bottom","left","innerWidth","innerHeight","eventTypeStyles","color","icon","importance","xScale","scaleLinear","domain","range","sortedEvents","sort","a","b","t","eventLanes","forEach","event","i","laneIndex","placed","lastEventInLane","push","lane","maxLanes","laneHeight","Math","max","svg","select","attr","concat","style","selectAll","remove","g","append","tooltip","timeAxis","axisBottom","tickFormat","d","ticks","min","call","data","enter","undefined","eventGroups","x","y","each","group","impactData","id","growth_acceleration","_eventTypeStyles$even","impactWidth","impactX","type","_eventTypeStyles$d$ty","_eventTypeStyles$d$ty2","_eventTypeStyles$d$ty3","baseSize","_eventTypeStyles$d$ty4","on","html","formatEventTooltip","pageX","pageY","_eventTypeStyles$d$ty5","text","_eventTypeStyles$d$ty6","filter","_eventTypeStyles$d$ty7","words","title","split","slice","join","legend","legendItems","Object","entries","_ref2","some","e","_ref3","legendItem","floor","impact","Date","getFullYear","org","toFixed","duration_months","primary_axis","correlation_coefficient","className","position","children","ref","display","zIndex"],"sources":["C:/co-1016/src/components/charts/EventTimeline.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nconst EventTimeline = ({ \r\n  events = [], \r\n  timeRange = [0, 20],\r\n  hoveredTime,\r\n  hoveredEvent,\r\n  onEventHover,\r\n  onEventClick,\r\n  impactAnalysis = {},\r\n  width = 800,\r\n  height = 120\r\n}) => {\r\n  const svgRef = useRef(null);\r\n  const tooltipRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!events || events.length === 0 || !svgRef.current) return;\r\n\r\n    // Ï∞®Ìä∏ Í∏∞Î≥∏ ÏÑ§Ï†ï (Dr. Sarah KimÏùò ÏãúÍ∞ÑÏ†Å UI ÏÑ§Í≥Ñ)\r\n    const margin = { top: 20, right: 80, bottom: 40, left: 80 };\r\n    const innerWidth = width - margin.left - margin.right;\r\n    const innerHeight = height - margin.top - margin.bottom;\r\n\r\n    // Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖÎ≥Ñ ÏÉâÏÉÅ Î∞è ÏïÑÏù¥ÏΩò Îß§Ìïë (DYSS ÌôïÏû• ÌåîÎ†àÌä∏)\r\n    const eventTypeStyles = {\r\n      'Ï†ÑÏãú': { \r\n        color: '#8B5CF6', // DYSS Primary\r\n        icon: 'üé®',\r\n        importance: 0.8\r\n      },\r\n      'ÏàòÏÉÅ': { \r\n        color: '#DC2626', // Red for achievements\r\n        icon: 'üèÜ',\r\n        importance: 1.0\r\n      },\r\n      'Ï∂úÍ∞Ñ': { \r\n        color: '#059669', // Green for publications\r\n        icon: 'üìñ',\r\n        importance: 0.6\r\n      },\r\n      'ÌòëÏóÖ': { \r\n        color: '#F59E0B', // Amber for collaborations\r\n        icon: 'ü§ù',\r\n        importance: 0.7\r\n      },\r\n      'ÍµêÏú°': { \r\n        color: '#7C3AED', // DYSS Primary 600\r\n        icon: 'üéì',\r\n        importance: 0.5\r\n      },\r\n      'ÎπÑÏóîÎÇ†Î†à': { \r\n        color: '#DC2626', // Red for major events\r\n        icon: 'üåç',\r\n        importance: 1.0\r\n      }\r\n    };\r\n\r\n    // ÏãúÍ∞ÑÏ∂ï Ïä§ÏºÄÏùº\r\n    const xScale = d3.scaleLinear()\r\n      .domain(timeRange)\r\n      .range([0, innerWidth]);\r\n\r\n    // Ïù¥Î≤§Ìä∏Î•º ÏãúÍ∞ÑÏàúÏúºÎ°ú Ï†ïÎ†¨ÌïòÍ≥† Í≤πÏπ® Î∞©ÏßÄ Î°úÏßÅ\r\n    const sortedEvents = [...events].sort((a, b) => a.t - b.t);\r\n    const eventLanes = []; // Ïù¥Î≤§Ìä∏ Î†àÏù∏ (Í≤πÏπ® Î∞©ÏßÄ)\r\n    \r\n    sortedEvents.forEach((event, i) => {\r\n      let laneIndex = 0;\r\n      let placed = false;\r\n      \r\n      // Í≤πÏπòÏßÄ ÏïäÎäî Î†àÏù∏ Ï∞æÍ∏∞\r\n      while (!placed) {\r\n        if (!eventLanes[laneIndex]) {\r\n          eventLanes[laneIndex] = [];\r\n        }\r\n        \r\n        const lastEventInLane = eventLanes[laneIndex][eventLanes[laneIndex].length - 1];\r\n        if (!lastEventInLane || xScale(event.t) - xScale(lastEventInLane.t) > 40) {\r\n          eventLanes[laneIndex].push(event);\r\n          event.lane = laneIndex;\r\n          placed = true;\r\n        } else {\r\n          laneIndex++;\r\n        }\r\n      }\r\n    });\r\n\r\n    const maxLanes = eventLanes.length;\r\n    const laneHeight = innerHeight / Math.max(maxLanes, 1);\r\n\r\n    // SVG ÏÑ§Ï†ï\r\n    const svg = d3.select(svgRef.current)\r\n      .attr('width', width)\r\n      .attr('height', height)\r\n      .attr('viewBox', `0 0 ${width} ${height}`)\r\n      .style('font-family', 'var(--dyss-font-family-primary)');\r\n\r\n    svg.selectAll('*').remove();\r\n\r\n    const g = svg.append('g')\r\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\r\n\r\n    // Ìà¥ÌåÅ ÏÑ§Ï†ï\r\n    const tooltip = d3.select(tooltipRef.current);\r\n\r\n    // ÏãúÍ∞ÑÏ∂ï Î†åÎçîÎßÅ\r\n    const timeAxis = d3.axisBottom(xScale)\r\n      .tickFormat(d => `+${d}ÎÖÑ`)\r\n      .ticks(Math.min(timeRange[1] - timeRange[0], 10));\r\n\r\n    g.append('g')\r\n      .attr('class', 'time-axis')\r\n      .attr('transform', `translate(0, ${innerHeight + 10})`)\r\n      .call(timeAxis)\r\n      .style('color', '#6B7280')\r\n      .style('font-size', '12px');\r\n\r\n    // Î∞∞Í≤Ω ÏãúÍ∞Ñ Í∑∏Î¶¨Îìú (ÏãúÍ∞ÑÏ†Å Îß•ÎùΩ Í∞ïÌôî)\r\n    g.selectAll('.time-grid')\r\n      .data(xScale.ticks(Math.min(timeRange[1] - timeRange[0], 20)))\r\n      .enter()\r\n      .append('line')\r\n      .attr('class', 'time-grid')\r\n      .attr('x1', d => xScale(d))\r\n      .attr('x2', d => xScale(d))\r\n      .attr('y1', 0)\r\n      .attr('y2', innerHeight)\r\n      .style('stroke', '#F3F4F6')\r\n      .style('stroke-width', '1px')\r\n      .style('opacity', 0.7);\r\n\r\n    // Ìò∏Î≤Ñ ÌÉÄÏûÑÎùºÏù∏ (StackedAreaChartÏôÄ ÎèôÍ∏∞Ìôî)\r\n    if (hoveredTime !== null && hoveredTime !== undefined) {\r\n      g.append('line')\r\n        .attr('class', 'hover-timeline')\r\n        .attr('x1', xScale(hoveredTime))\r\n        .attr('x2', xScale(hoveredTime))\r\n        .attr('y1', -10)\r\n        .attr('y2', innerHeight + 10)\r\n        .style('stroke', '#8B5CF6')\r\n        .style('stroke-width', '2px')\r\n        .style('stroke-dasharray', '4,4')\r\n        .style('opacity', 0.8);\r\n    }\r\n\r\n    // Ïù¥Î≤§Ìä∏ Í∑∏Î£πÌôî Î∞è ÏòÅÌñ• Î∂ÑÏÑù ÌëúÏãú\r\n    const eventGroups = g.selectAll('.event-group')\r\n      .data(sortedEvents)\r\n      .enter()\r\n      .append('g')\r\n      .attr('class', 'event-group')\r\n      .attr('transform', d => {\r\n        const x = xScale(d.t);\r\n        const y = (d.lane * laneHeight) + (laneHeight / 2);\r\n        return `translate(${x}, ${y})`;\r\n      });\r\n\r\n    // Ïù¥Î≤§Ìä∏ ÏòÅÌñ• Î∂ÑÏÑù Î∞∞Í≤Ω (ÏÑ±Ïû• Í∞ÄÏÜçÌôî Íµ¨Í∞Ñ ÌëúÏãú)\r\n    eventGroups.each(function(event) {\r\n      const group = d3.select(this);\r\n      const impactData = impactAnalysis[event.id];\r\n      \r\n      if (impactData && impactData.growth_acceleration > 0.1) {\r\n        // ÏòÅÌñ• Íµ¨Í∞Ñ Î∞∞Í≤Ω (Ïù¥Î≤§Ìä∏ Ï†ÑÌõÑ 2ÎÖÑ)\r\n        const impactWidth = xScale(Math.min(event.t + 3, timeRange[1])) - xScale(Math.max(event.t - 1, timeRange[0]));\r\n        const impactX = xScale(Math.max(event.t - 1, timeRange[0])) - xScale(event.t);\r\n        \r\n        group.append('rect')\r\n          .attr('class', 'impact-background')\r\n          .attr('x', impactX)\r\n          .attr('y', -laneHeight/2)\r\n          .attr('width', impactWidth)\r\n          .attr('height', laneHeight)\r\n          .style('fill', eventTypeStyles[event.type]?.color || '#8B5CF6')\r\n          .style('opacity', 0.1)\r\n          .style('rx', 4);\r\n      }\r\n    });\r\n\r\n    // Ïù¥Î≤§Ìä∏ Ïó∞Í≤∞ÏÑ† (ÏãúÍ∞ÑÏ†Å Ïó∞ÏÜçÏÑ± ÌëúÏãú)\r\n    eventGroups.append('line')\r\n      .attr('class', 'event-stem')\r\n      .attr('x1', 0)\r\n      .attr('x2', 0)\r\n      .attr('y1', -laneHeight/4)\r\n      .attr('y2', laneHeight/4)\r\n      .style('stroke', d => eventTypeStyles[d.type]?.color || '#8B5CF6')\r\n      .style('stroke-width', d => {\r\n        const importance = eventTypeStyles[d.type]?.importance || 0.5;\r\n        return hoveredEvent === d.id ? importance * 4 + 2 : importance * 2 + 1;\r\n      })\r\n      .style('opacity', d => hoveredEvent === d.id ? 1.0 : 0.7);\r\n\r\n    // Ïù¥Î≤§Ìä∏ ÎßàÏª§ (Ï§ëÏöîÎèÑÎ≥Ñ ÌÅ¨Í∏∞ Ï∞®Î≥ÑÌôî)\r\n    eventGroups.append('circle')\r\n      .attr('class', 'event-marker')\r\n      .attr('r', d => {\r\n        const importance = eventTypeStyles[d.type]?.importance || 0.5;\r\n        const baseSize = importance * 6 + 4;\r\n        return hoveredEvent === d.id ? baseSize * 1.3 : baseSize;\r\n      })\r\n      .style('fill', d => eventTypeStyles[d.type]?.color || '#8B5CF6')\r\n      .style('stroke', '#FFFFFF')\r\n      .style('stroke-width', '2px')\r\n      .style('cursor', 'pointer')\r\n      .style('transition', 'all 0.2s ease')\r\n      .on('mouseover', (event, d) => {\r\n        if (onEventHover) onEventHover(d.id);\r\n        \r\n        // Ïù¥Î≤§Ìä∏ ÏÉÅÏÑ∏ Ìà¥ÌåÅ ÌëúÏãú\r\n        tooltip.style('display', 'block')\r\n          .html(formatEventTooltip(d, impactAnalysis[d.id]));\r\n      })\r\n      .on('mousemove', (event) => {\r\n        tooltip.style('left', `${event.pageX + 15}px`)\r\n          .style('top', `${event.pageY - 10}px`);\r\n      })\r\n      .on('mouseout', () => {\r\n        if (onEventHover) onEventHover(null);\r\n        tooltip.style('display', 'none');\r\n      })\r\n      .on('click', (event, d) => {\r\n        if (onEventClick) onEventClick(d);\r\n      });\r\n\r\n    // Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖ ÏïÑÏù¥ÏΩò (Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ)\r\n    eventGroups.append('text')\r\n      .attr('class', 'event-icon')\r\n      .attr('text-anchor', 'middle')\r\n      .attr('dy', '0.35em')\r\n      .style('font-size', d => {\r\n        const importance = eventTypeStyles[d.type]?.importance || 0.5;\r\n        return `${importance * 8 + 8}px`;\r\n      })\r\n      .style('pointer-events', 'none')\r\n      .style('user-select', 'none')\r\n      .text(d => eventTypeStyles[d.type]?.icon || '‚óè');\r\n\r\n    // Ïù¥Î≤§Ìä∏ Î†àÏù¥Î∏î (Ï§ëÏöî Ïù¥Î≤§Ìä∏Îßå ÌëúÏãú)\r\n    eventGroups\r\n      .filter(d => (eventTypeStyles[d.type]?.importance || 0) > 0.7)\r\n      .append('text')\r\n      .attr('class', 'event-label')\r\n      .attr('x', 0)\r\n      .attr('y', d => d.lane % 2 === 0 ? -laneHeight/2 - 5 : laneHeight/2 + 15)\r\n      .attr('text-anchor', 'middle')\r\n      .style('font-size', '10px')\r\n      .style('font-weight', '500')\r\n      .style('fill', '#374151')\r\n      .style('pointer-events', 'none')\r\n      .text(d => {\r\n        const words = d.title.split(' ');\r\n        return words.length > 2 ? words.slice(0, 2).join(' ') + '...' : d.title;\r\n      });\r\n\r\n    // ÏÑ±Ïû• Í∞ÄÏÜçÌôî Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ (Ï†ïÎüâÏ†Å Î∂ÑÏÑù ÌëúÏãú)\r\n    eventGroups\r\n      .filter(d => impactAnalysis[d.id] && impactAnalysis[d.id].growth_acceleration > 0.2)\r\n      .append('path')\r\n      .attr('class', 'growth-indicator')\r\n      .attr('d', 'M-3,-8 L3,-8 L0,-12 Z') // ÏúÑÏ™Ω ÌôîÏÇ¥Ìëú\r\n      .style('fill', '#10B981')\r\n      .style('opacity', 0.8);\r\n\r\n    // Î≤îÎ°Ä (Ïù¥Î≤§Ìä∏ ÌÉÄÏûÖÎ≥Ñ)\r\n    const legend = g.append('g')\r\n      .attr('class', 'event-legend')\r\n      .attr('transform', `translate(${innerWidth - 200}, -10)`);\r\n\r\n    const legendItems = Object.entries(eventTypeStyles)\r\n      .filter(([type]) => events.some(e => e.type === type));\r\n\r\n    legendItems.forEach(([type, style], i) => {\r\n      const legendItem = legend.append('g')\r\n        .attr('transform', `translate(${(i % 3) * 70}, ${Math.floor(i / 3) * 20})`);\r\n\r\n      legendItem.append('circle')\r\n        .attr('r', 4)\r\n        .style('fill', style.color);\r\n\r\n      legendItem.append('text')\r\n        .attr('x', 8)\r\n        .attr('y', 0)\r\n        .attr('dy', '0.35em')\r\n        .style('font-size', '10px')\r\n        .style('font-weight', '500')\r\n        .style('fill', '#374151')\r\n        .text(type);\r\n    });\r\n\r\n  }, [events, timeRange, hoveredTime, hoveredEvent, impactAnalysis]);\r\n\r\n  // Ïù¥Î≤§Ìä∏ ÏÉÅÏÑ∏ Ìà¥ÌåÅ Ìè¨Îß§ÌÑ∞ (ÏòÅÌñ• Î∂ÑÏÑù Ìè¨Ìï®)\r\n  const formatEventTooltip = (event, impact) => {\r\n    let html = `\r\n      <strong>${event.title}</strong><br/>\r\n      <strong>ÏãúÏ†ê:</strong> +${event.t}ÎÖÑ (${new Date(new Date().getFullYear() - (20 - event.t)).getFullYear()}ÎÖÑ)<br/>\r\n      <strong>Ïú†Ìòï:</strong> ${event.type}<br/>\r\n      <strong>Í∏∞Í¥Ä:</strong> ${event.org || 'ÎØ∏ÏÉÅ'}<br/>\r\n    `;\r\n\r\n    if (impact) {\r\n      html += `\r\n        <hr/>\r\n        <strong>üìà ÏÑ±Ïû• ÏòÅÌñ• Î∂ÑÏÑù:</strong><br/>\r\n        <strong>ÏÑ±Ïû• Í∞ÄÏÜçÎèÑ:</strong> +${(impact.growth_acceleration * 100).toFixed(1)}%<br/>\r\n        <strong>ÏòÅÌñ• ÏßÄÏÜçÍ∏∞Í∞Ñ:</strong> ${impact.duration_months || 12}Í∞úÏõî<br/>\r\n        <strong>Ï£ºÏöî Ï∂ï ÏòÅÌñ•:</strong> ${impact.primary_axis || 'Ï†ÑÏ≤¥'}\r\n      `;\r\n      \r\n      if (impact.correlation_coefficient) {\r\n        html += `<br/><strong>ÏÉÅÍ¥ÄÍ≥ÑÏàò:</strong> ${impact.correlation_coefficient.toFixed(3)}`;\r\n      }\r\n    }\r\n\r\n    html += `<hr/><small>ÌÅ¥Î¶≠ÌïòÏó¨ ÏÉÅÏÑ∏ Î∂ÑÏÑù Î≥¥Í∏∞</small>`;\r\n    return html;\r\n  };\r\n\r\n  return (\r\n    <div className=\"curator-chart-wrapper\" style={{ position: 'relative' }}>\r\n      <svg ref={svgRef}></svg>\r\n      <div\r\n        ref={tooltipRef}\r\n        className=\"curator-tooltip\"\r\n        style={{ position: 'absolute', display: 'none', zIndex: 1000 }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventTimeline;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}