<!-- 30221625-c260-4622-b015-3b89ce464420 1d59f895-6e33-4d69-b3a8-7f908c8b16e7 -->
# P2 REVISED: 데이터 아키텍트 + 품질 전문가 (현실적 10시간)

## Phase A: 데이터 스키마 전문가 설계 (4시간)

### A.1 완벽한 컬렉션 스키마 설계서

- `scripts/firestore/SCHEMA_DESIGN_GUIDE.js` 생성
- 1016blprint.md Table 6.1 명세 100% 준수 + Dr. Sarah Kim 시계열 전문성 융합
- 12개 컬렉션 완전한 구조 설계 (구현은 P1 담당)
- 시계열 분석 최적화 인덱싱 전략 및 파티셔닝 가이드
- P1이 바로 구현할 수 있는 완벽한 Firestore 생성 스크립트 명세

### A.2 보안 규칙 및 최적화 설계

- `firestore.rules` 설계 (구현은 P1)
- 컬렉션별 읽기/쓰기 권한 및 데이터 검증 규칙 설계
- Dr. Sarah Kim의 성능 전문성 반영한 쿼리 최적화 가이드

## Phase B: 정규화 알고리즘 상세 명세 (2시간)

### B.1 수학적 정확성 기반 파이프라인 명세

- `src/algorithms/normalizationSpecs.js` 구현
- 로그변환 → 윈저라이징(상하 1%) → 백분위 3단계 명세
- 각 단계별 수식, 예외 처리, 0값 처리 방법 상세 정의
- P1의 fnBatchNormalize 구현을 위한 완전한 알고리즘 가이드

### B.2 시간창 규칙 및 가중치 명세

- 축별 시간창 적용 규칙 (담론 24개월, 제도 10년 가중 1.0/0.5)
- 데뷔년 기준 상대 시간축 변환 로직 명세
- P1의 fnBatchTimeseries 및 fnBatchComparePairs 구현 가이드

## Phase C: 품질 검증 시스템 구축 (3시간)

### C.1 자동화된 품질 검증 시스템

- `src/utils/dataQualityValidator.js` 구현
- ±0.5p 레이더-선버스트 일관성 자동 검증 (1016blprint.md 핵심)
- 통계적 검정 기반 데이터 무결성 체크
- 배치 결과 품질 자동 평가 시스템

### C.2 실시간 품질 모니터링

- 배치 파이프라인 품질 추적 대시보드
- Dr. Sarah Kim 기준 성능 지표 자동 수집
- 이상 감지 및 자동 알림 시스템

## Phase D: P1 협업 지원 및 통합 검증 (1시간)

### D.1 P1 기술 지원 패키지

- P1의 배치 함수 4개 구현을 위한 상세 가이드 제공
- Firestore 최적화 및 Cloud Functions 성능 컨설팅
- 실시간 코드 리뷰 및 품질 검증 지원

### D.2 최종 시스템 인증

- 220log.json 완료 보고서 생성
- 1016blprint.md 명세 준수도 95%+ 달성 검증
- Dr. Sarah Kim 품질 인증서 및 P1-P2 협업 성과 보고

### To-dos

- [ ] 완벽한 Firestore 스키마 설계서 작성 - 12개 컬렉션 구조, 인덱스, 최적화 가이드
- [ ] 정규화 및 시간창 알고리즘 상세 명세 - P1 구현용 수학적 정확성 기반 가이드
- [ ] 데이터 품질 검증 시스템 구축 - ±0.5p 일관성 검증 및 실시간 모니터링
- [ ] P1 기술 지원 패키지 - 배치 함수 구현 가이드 및 최적화 컨설팅
- [ ] 통합 검증 및 220log.json 완료 보고서 - 명세 준수도 및 품질 인증